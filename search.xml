<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å¥‡æ€å¦™æƒ³å½•</title>
    <url>/ideas/list.html</url>
    <content><![CDATA[<h1 id="2019-09-03"><a href="#2019-09-03" class="headerlink" title="2019-09-03"></a>2019-09-03</h1><h2 id="ä¸€ä¸ªæ™ºèƒ½è¯†åˆ«è¯­éŸ³å’Œè¾“å‡ºçš„ç™½æ¿è½¯ä»¶å¼•æ“"><a href="#ä¸€ä¸ªæ™ºèƒ½è¯†åˆ«è¯­éŸ³å’Œè¾“å‡ºçš„ç™½æ¿è½¯ä»¶å¼•æ“" class="headerlink" title="ä¸€ä¸ªæ™ºèƒ½è¯†åˆ«è¯­éŸ³å’Œè¾“å‡ºçš„ç™½æ¿è½¯ä»¶å¼•æ“"></a>ä¸€ä¸ªæ™ºèƒ½è¯†åˆ«è¯­éŸ³å’Œè¾“å‡ºçš„ç™½æ¿è½¯ä»¶å¼•æ“</h2><p>åŠŸèƒ½æè¿°ï¼š</p>
<ul>
<li>é€šè¿‡äººè„¸æ ‡è¯†ç”¨æˆ·ä¿¡æ¯ï¼Œå¾—åˆ°å½“å‰è¾“å‡ºç”¨æˆ·</li>
<li>é€šè¿‡è¯­éŸ³è¯†åˆ«è¾“å‡ºç”¨æˆ·æ‰€æè¿°å†…å®¹</li>
<li>é€šè¿‡è¯­ä¹‰å½’ç±»æ€»ç»“å†…å®¹</li>
<li>é€šè¿‡æµç¨‹å›¾æˆ–æ€ç»´å¯¼å›¾è¾“å‡ºæœ€ç»ˆç™½æ¿ä»»åŠ¡å›¾</li>
</ul>
<a id="more"></a>

<h1 id="2019-09-01"><a href="#2019-09-01" class="headerlink" title="2019-09-01"></a>2019-09-01</h1><h2 id="npmåŒ…è¯„ä»·ç³»ç»Ÿ"><a href="#npmåŒ…è¯„ä»·ç³»ç»Ÿ" class="headerlink" title="npmåŒ…è¯„ä»·ç³»ç»Ÿ"></a>npmåŒ…è¯„ä»·ç³»ç»Ÿ</h2><p>åŠŸèƒ½æè¿°ï¼š</p>
<ul>
<li>é€šè¿‡cnpmæˆ–taobaoæ­å»ºå…¬æœ‰çš„npmåŒ…</li>
<li>ç­›é€‰æœ‰githubå¼€æºä»“åº“</li>
<li>é€šè¿‡githubçš„staræ•°è¿›è¡Œæ’å</li>
<li>å¢åŠ ç±»ä¼¼è±†ç“£è¯„åˆ†å’Œè¯„ä»·ç³»ç»Ÿ</li>
</ul>
]]></content>
      <tags>
        <tag>å¥‡æ€å¦™æƒ³</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ‰è¶£çš„å·¥å…·æ”¶é›†</title>
    <url>/ideas/20230120.html</url>
    <content><![CDATA[<h1 id="Deprank-jsé‡è¦æ€§æ’å"><a href="#Deprank-jsé‡è¦æ€§æ’å" class="headerlink" title="Deprank jsé‡è¦æ€§æ’å"></a>Deprank jsé‡è¦æ€§æ’å</h1><p>ä¸€ä¸ª JS å·¥å…·ï¼ŒæŒ‰ç…§é‡è¦æ€§å¯¹æœ¬é¡¹ç›®çš„æ‰€æœ‰è„šæœ¬è¿›è¡Œæ’åºã€‚åŸç†æ˜¯è®¡ç®—ä¾èµ–å…³ç³»ï¼Œè¢«ä¾èµ–æœ€å¤šçš„è„šæœ¬æœ€é‡è¦ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://github.com/codemix/deprank" target="_blank" rel="noopener">Deprank</a></p>
<p>ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">| Filename               | Lines | Dependents | PageRank |</span><br><span class="line">----------------------------------------------------------</span><br><span class="line">| fixtures/core.js       | 3     | 1          | 0.284098 |</span><br><span class="line">| fixtures/utils.js      | 4     | 3          | 0.268437 |</span><br><span class="line">| fixtures/user/user.js  | 4     | 1          | 0.132253 |</span><br><span class="line">| fixtures/todo.js       | 6     | 1          | 0.089796 |</span><br><span class="line">| fixtures/user/index.js | 1     | 1          | 0.089796 |</span><br><span class="line">| fixtures/concepts.js   | 4     | 1          | 0.079694 |</span><br><span class="line">| fixtures/index.js      | 4     | 0          | 0.055926 |</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h1 id="FFmpeg-guideæµç¨‹å›¾ç”ŸæˆFFmpegå‘½ä»¤"><a href="#FFmpeg-guideæµç¨‹å›¾ç”ŸæˆFFmpegå‘½ä»¤" class="headerlink" title="FFmpeg.guideæµç¨‹å›¾ç”ŸæˆFFmpegå‘½ä»¤"></a>FFmpeg.guideæµç¨‹å›¾ç”ŸæˆFFmpegå‘½ä»¤</h1><p>ä¸€ä¸ªå›¾å½¢ç•Œé¢ï¼Œç”¨æˆ·æ‹–æ›³ç”Ÿæˆçº¿æ¡†ï¼Œè¡¨ç¤ºè§†é¢‘å¤„ç†çš„å„ç§å‘½ä»¤èŠ‚ç‚¹ã€‚è¿™ä¸ªè½¯ä»¶ä¼šæ ¹æ®èŠ‚ç‚¹çº¿æ¡†ï¼Œç”Ÿæˆå¯¹åº”çš„ FFmpeg å‘½ä»¤ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://ffmpeg.guide/" target="_blank" rel="noopener">FFmpeg.guide</a></p>
<p><img src="https://camo.githubusercontent.com/88f4911c4947e769f79adb3f3d8133015be0ae4b1c46be98f0faa9f93454b60c/68747470733a2f2f63646e2e6265656b6b612e636f6d2f626c6f67696d672f61737365742f3230323231312f6267323032323131303331342e77656270" alt></p>
<h1 id="blurhash-ç”Ÿæˆæ¨¡ç³Šç¼©ç•¥å›¾çš„å·¥å…·"><a href="#blurhash-ç”Ÿæˆæ¨¡ç³Šç¼©ç•¥å›¾çš„å·¥å…·" class="headerlink" title="blurhash ç”Ÿæˆæ¨¡ç³Šç¼©ç•¥å›¾çš„å·¥å…·"></a>blurhash ç”Ÿæˆæ¨¡ç³Šç¼©ç•¥å›¾çš„å·¥å…·</h1><p>è¿™ä¸ªå·¥å…·å¯ä»¥æå–å›¾ç‰‡çš„é¢œè‰²åˆ†å¸ƒï¼Œç”Ÿæˆä¸€ä¸ªå“ˆå¸Œå­—ç¬¦ä¸²ã€‚ç½‘é¡µå°±å¯ä»¥ç”¨è¿™ä¸ªå“ˆå¸Œï¼Œç”Ÿæˆå›¾ç‰‡çš„æ¨¡ç³Šç¼©ç•¥å›¾ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://github.com/woltapp/blurhash" target="_blank" rel="noopener">blurhash</a></p>
<p>jsåº”ç”¨:<a href="https://github.com/Dens49/blurhash-js" target="_blank" rel="noopener">https://github.com/Dens49/blurhash-js</a></p>
<p>ä¾‹å­å¦‚ä¸‹ï¼š</p>
<img src="https://blurha.sh/12c2aca29ea896a628be.jpg" width="269" height="173">
<img src="/assets/img/20230120-idea.png" width="269" height="173">


<h1 id="iconbolt-å…è´¹svg-iconç½‘ç«™"><a href="#iconbolt-å…è´¹svg-iconç½‘ç«™" class="headerlink" title="iconbolt å…è´¹svg iconç½‘ç«™"></a>iconbolt å…è´¹svg iconç½‘ç«™</h1><p>æœ‰ç‚¹ç±»ä¼¼é˜¿é‡Œçš„iconfontï¼Œä½†æ˜¯è¿™ä¸ªå…è´¹çš„ï¼Œä¸éœ€è¦ç™»å½•ç›´æ¥ä½¿ç”¨ã€‚</p>
<p><a href="https://www.iconbolt.com/" target="_blank" rel="noopener">iconbolt</a></p>
]]></content>
      <tags>
        <tag>å¥‡æ€å¦™æƒ³</tag>
      </tags>
  </entry>
  <entry>
    <title>ios12 array.reverseé—®é¢˜</title>
    <url>/share/ios12-array-reverse.html</url>
    <content><![CDATA[<h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>iOS12å‘å¸ƒä¹‹åï¼Œåœ¨æµ‹è¯•ä¸­å‘ç°ä¸€ä¸ªå…³äºArray.reverseçš„é—®é¢˜ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0&quot;&gt;</span><br><span class="line">    &lt;title&gt;iOS 12 Safari bugs&lt;/title&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    window.addEventListener(&quot;load&quot;, function ()</span><br><span class="line">    &#123;</span><br><span class="line">        let arr = [1, 2, 3, 4, 5];</span><br><span class="line">        alert(arr.join());</span><br><span class="line"></span><br><span class="line">        document.querySelector(&quot;button&quot;).addEventListener(&quot;click&quot;, function ()</span><br><span class="line">        &#123;</span><br><span class="line">            arr.reverse();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button&gt;Array.reverse()&lt;/button&gt;</span><br><span class="line">    &lt;p style=&quot;color:red;&quot;&gt;test: click button and refresh page, code:&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>é—®é¢˜æè¿°ï¼šç¬¬ä¸€æ¬¡è¿›å…¥åˆ·æ–°alert:<code>1,2,3,4</code>ï¼Œç¬¬äºŒæ¬¡åˆ·æ–°å°±ä¸€ç›´ä¸ºalert<code>4,3,2,1</code>ã€‚</p>
<h1 id="demoæ¼”ç¤º"><a href="#demoæ¼”ç¤º" class="headerlink" title="demoæ¼”ç¤º"></a>demoæ¼”ç¤º</h1><p><a href="https://fanmingfei.github.io/array-reverse-ios12/origin.html" target="_blank" rel="noopener">æœªä¿®å¤çš„demo</a><br><a href="https://fanmingfei.github.io/array-reverse-ios12/fixed.html" target="_blank" rel="noopener">å·²ä¿®å¤çš„demo</a></p>
<a id="more"></a>

<h1 id="ä¿®å¤æ–¹æ³•"><a href="#ä¿®å¤æ–¹æ³•" class="headerlink" title="ä¿®å¤æ–¹æ³•"></a>ä¿®å¤æ–¹æ³•</h1><p>åŸç†å°±æ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºiOS12ç‰ˆæœ¬ï¼Œé‡å†™<code>Array.prototype.reverse</code>æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">    var ua = navigator.userAgent;</span><br><span class="line">    if (!ua.match(/(iPhone|iPad|iPod)/)) return;</span><br><span class="line">    var matched = ua.match(/OS ([\d_\.]+) like Mac OS X/);</span><br><span class="line">    if (!matched || !matched[1]) return;</span><br><span class="line">    if (matched[1].indexOf(&apos;12&apos;) !== 0) return;</span><br><span class="line">    //ä»¥ä¸Šåˆ¤æ–­æ˜¯å¦ä¸ºiOS12ç‰ˆæœ¬</span><br><span class="line">    </span><br><span class="line">    //ä»¥ä¸‹ä¸ºä¿®å¤ä»£ç </span><br><span class="line">    Array.prototype._reverse = Array.prototype.reverse;</span><br><span class="line">    //é‡å†™reverseæ–¹æ³•</span><br><span class="line">    Array.prototype.reverse = function reverse() &#123;</span><br><span class="line">        //é‡æ–°è®¾ç½®æ•°ç»„é•¿åº¦ ä»è€Œé¿å…reverseæ–¹æ³•æ”¹å˜æ•°æ®åè¢«ç¼“å­˜</span><br><span class="line">        if (Array.isArray(this)) this.length = this.length;</span><br><span class="line">        return Array.prototype._reverse.call(this);</span><br><span class="line">    &#125;</span><br><span class="line">    var nonenum = &#123;</span><br><span class="line">        enumerable: false</span><br><span class="line">    &#125;;</span><br><span class="line">    //è®¾ç½®ArrayåŸå‹é“¾ä¸­çš„reverseæ–¹æ³•ä¸å¯æšä¸¾</span><br><span class="line">    Object.defineProperties(Array.prototype, &#123;</span><br><span class="line">        _reverse: nonenum,</span><br><span class="line">        reverse: nonenum,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<p>å¸Œæœ›å¤§å®¶ä¸è¦é‡åˆ°è¯¥ç±»ç”Ÿäº§é—®é¢˜å’¯ï¼(å¦åˆ™ä½ éƒ½ä¸çŸ¥é“å“ªé‡Œå‡ºé”™äº†~~)</p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li><a href="https://stackoverflow.com/questions/52390368/array-state-will-be-cached-in-ios-12-safari-is-bug-or-feature/52392901#52392901" target="_blank" rel="noopener">stackoverflowâ€”â€”iOS 12 Array.Reverseçš„Bug</a></li>
<li><a href="https://github.com/fanmingfei/array-reverse-ios12/" target="_blank" rel="noopener">githubä¸­é˜¿é‡ŒåŒäº‹â€”â€”å¦‚ä½•ä¿®å¤iOS12 Array.reverseçš„bugæ–¹æ¡ˆ</a></li>
</ul>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ç”¨è‡ªå®šä¹‰é’©å­é‡æ„ React ç»„ä»¶</title>
    <url>/translate/wait.html</url>
    <content><![CDATA[<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://codescene.com/engineering-blog/refactoring-components-in-react-with-custom-hooks" target="_blank" rel="noopener">å¦‚ä½•ç”¨è‡ªå®šä¹‰é’©å­é‡æ„ React ç»„ä»¶</a></p>
]]></content>
      <tags>
        <tag>ç¿»è¯‘æ–‡ç« </tag>
        <tag>hide</tag>
      </tags>
  </entry>
  <entry>
    <title>å‘¨äºŒæŠ€æœ¯å‘¨åˆŠ 20190731æœŸ</title>
    <url>/wx/20190731.html</url>
    <content><![CDATA[<p><img src="https://pic.qqtn.com/up/2018-6/2018661629543719.jpg" alt="å¥½çœ‹çš„å›¾ç‰‡"></p>
<h1 id="ä¸€ã€æŠ€æœ¯çŸ¥è¯†"><a href="#ä¸€ã€æŠ€æœ¯çŸ¥è¯†" class="headerlink" title="ä¸€ã€æŠ€æœ¯çŸ¥è¯†"></a>ä¸€ã€æŠ€æœ¯çŸ¥è¯†</h1><h2 id="1-1-èš‚èšé‡‘æœå‰ç«¯æ¡†æ¶å’Œå·¥ç¨‹åŒ–å®è·µ"><a href="#1-1-èš‚èšé‡‘æœå‰ç«¯æ¡†æ¶å’Œå·¥ç¨‹åŒ–å®è·µ" class="headerlink" title="1.1 èš‚èšé‡‘æœå‰ç«¯æ¡†æ¶å’Œå·¥ç¨‹åŒ–å®è·µ"></a>1.1 èš‚èšé‡‘æœå‰ç«¯æ¡†æ¶å’Œå·¥ç¨‹åŒ–å®è·µ</h2><p>ä½œè€…ï¼š<a href="https://github.com/sorrycc" target="_blank" rel="noopener">é˜¿é‡Œ-äº‘è°¦</a><br>ç®€ä»‹ï¼š<br>è®²è¿°é˜¿é‡ŒUmi å’Œ Bigfishæ¡†æ¶çš„å‘å±•å†å²ï¼Œå·²ç»ä½œè€…æŠ€æœ¯å›¢é˜Ÿåœ¨é‡Œé¢åšçš„å“ªäº›äº‹æƒ…ã€‚</p>
<a id="more"></a>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><strong>æ¡†æ¶ä¸ºä»€ä¹ˆèƒ½å¤ŸæˆåŠŸçš„åŸå› ï¼Ÿ</strong></p>
<ul>
<li>äººï¼šç»™ä½¿ç”¨è€…æˆå°±æ„Ÿå’Œç»©æ•ˆâ€”â€”æ’ä»¶ä½“ç³»ï¼Œæ’ä»¶ä½“ç³»æ˜¯å¦‚ä½•æ­å»ºçš„å…·ä½“çœ‹åŸæ–‡è¯¦ç»†ä»‹ç»ã€‚</li>
<li>ä¸šåŠ¡å’Œæµç¨‹ï¼šç®€åŒ–ä¸šåŠ¡å’Œæµç¨‹ï¼Œè®©ç¨‹åºå‘˜ä¸å¿…è¦æµªè´¹å¤ªå¤šæ—¶é—´ä¸Šä¸Šé¢ã€‚</li>
<li>å¼€æºï¼šå¼€æºåšåœ°å¥½ï¼Œä¹Ÿæ›´å®¹æ˜“è·å¾—å†…éƒ¨åŒå­¦çš„è®¤å¯ã€‚</li>
</ul>
<p><strong>èµ„äº§å¸‚åœºåˆ†äº†å››çº§:</strong></p>
<ul>
<li>ç»„ä»¶ï¼ŒæŒ‡é€šç”¨ç»„ä»¶ï¼Œå°±æ˜¯ antdï¼Œåœ¨ä¸‹åŠå¹´å°†è¦å‘å¸ƒçš„ antd@4 é‡Œï¼Œæˆ‘ä»¬ä¼šé™†ç»­æå–æ›´å¤šé€šç”¨ç»„ä»¶åˆ° antd ä¸­ã€‚</li>
<li>ä¸šåŠ¡ç»„ä»¶ï¼Œä¸èƒ½æå–é€šç”¨ç»„ä»¶çš„ï¼Œæˆ‘ä»¬ä¼šæåˆ°å†…éƒ¨ç»Ÿä¸€çš„ä¸šåŠ¡ç»„ä»¶ä»“åº“ä¸­ã€‚</li>
<li>åŒºå—ï¼Œç”±ç»„ä»¶ç»„æˆï¼Œå¯ä»¥æƒ³è±¡æˆä»£ç ç‰‡æ®µã€‚</li>
<li>é¡µé¢æ¨¡æ¿ï¼Œç”±åŒºå—ç»„æˆ</li>
</ul>
<blockquote>
<p>åç»­è¦åšé…ç½®åŒ–æ–¹æ¡ˆï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p>
</blockquote>
<p><strong>å¾®å‰ç«¯æ–¹æ¡ˆ</strong></p>
<ul>
<li>ç›¸å¯¹ç‹­ä¹‰çš„ç†è§£ï¼Œæ˜¯ä¸€ä¸ªè§£å†³å¤šå¥—æŠ€æœ¯æ ˆå…±å­˜çš„æ–¹æ¡ˆï¼Œæ¯”å¦‚é¦–é¡µç”¨ jQueryï¼Œè®¢å•é¡µç”¨ Reactï¼Œå®¢æˆ·ç³»ç»Ÿç”¨ Vueã€‚</li>
<li>å¯¹å¾®å‰ç«¯çš„ç†è§£æ˜¯ï¼Œä»–ä¸ä»…æ˜¯ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼Œæ›´æ˜¯ä¸ªè§£å†³æµç¨‹ã€ç»„ç»‡æ¶æ„ç­‰é—®é¢˜çš„æ–¹æ¡ˆã€‚</li>
</ul>
<blockquote>
<p>å·²æœ‰å¼€æºæ–¹æ¡ˆï¼Œä¹¾å¤:<a href="https://github.com/umijs/qiankun" target="_blank" rel="noopener">https://github.com/umijs/qiankun</a></p>
</blockquote>
<p><strong>å‰ç«¯æ°¸è¿œä¸èƒ½å¿˜è®°çš„ï¼š</strong></p>
<ul>
<li>ä¼˜åŒ–ï¼šæ„å»ºä¼˜åŒ–ï¼Œæ€§èƒ½ä¼˜åŒ–ç­‰</li>
<li>æµ‹è¯•+ç›‘æ§ï¼šå•æµ‹ã€UI æµ‹è¯•ã€e2e æµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼ŒåŸºæœ¬æ–¹æ¡ˆæ˜¯åŸºäº Jest + test-react-library + Puppeteer</li>
</ul>
<p><strong><em>é˜…è¯»æ—¶é—´ï¼š15~20åˆ†é’Ÿ</em></strong></p>
<p><a href="https://mp.weixin.qq.com/s/6-yjR_CsHaWUI8YqLK25rA" target="_blank" rel="noopener">ç‚¹å‡»åŸæ–‡é˜…è¯»â†’</a></p>
<h2 id="1-2-å“ªäº›æŠ€æœ¯ä¼šå†³å®šå‰ç«¯å¼€å‘è€…çš„æœªæ¥å‘å±•ï¼Ÿ"><a href="#1-2-å“ªäº›æŠ€æœ¯ä¼šå†³å®šå‰ç«¯å¼€å‘è€…çš„æœªæ¥å‘å±•ï¼Ÿ" class="headerlink" title="1.2 å“ªäº›æŠ€æœ¯ä¼šå†³å®šå‰ç«¯å¼€å‘è€…çš„æœªæ¥å‘å±•ï¼Ÿ"></a>1.2 å“ªäº›æŠ€æœ¯ä¼šå†³å®šå‰ç«¯å¼€å‘è€…çš„æœªæ¥å‘å±•ï¼Ÿ</h2><p>ç®€ä»‹ï¼š<br>å¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œé€šè¿‡å­¦ä¹ Flutterï¼Œä½ çš„æŠ€æœ¯å°±æå‡äº†å—ï¼Ÿ</p>
<p>å¾ˆå¤šäººç¬¬ä¸€ååº”æ˜¯ã€å½“ç„¶äº†ï¼Œå­¦äº†ä¸€é—¨æ–°æŠ€æœ¯ï¼Œå­¦äº†ä¸€é—¨æ–°è¯­è¨€ï¼Œéš¾é“æŠ€æœ¯ä¸æ˜¯æå‡äº†å—ï¼Ÿã€ã€‚</p>
<p>ä½†æ˜¯æˆ‘è§‰å¾—å¹¶æ²¡æœ‰ï¼Œæˆ‘å…¶å®ä¾ç„¶åœ¨åŸåœ°æ‰“è½¬ï¼Œ<strong>ä¸€ä¸ªJavaå¼€å‘è€…å­¦ä¼šäº†ç”¨Rubyå¢åˆ æ”¹æŸ¥å¹¶ä¸èƒ½ä»£è¡¨èƒ½åŠ›æé«˜äº†ï¼Œä¸€ä¸ªå‰ç«¯å¼€å‘è€…ç”¨RNæˆ–è€…Flutterå¼€å‘äº†ç®€å•çš„APPä¹Ÿä¸èƒ½è¯´æ˜æ°´å¹³æé«˜äº†ï¼Œåªä¸è¿‡æ˜¯ç”¨å¦ä¸€ç§è¯­è¨€å†å†™äº†ä¸€éUIè€Œå·²ï¼Œä¼šç”¨ä¸‰ç§æ¡†æ¶å†™é¡µé¢ï¼Œå¹¶ä¸æ˜¯ä»€ä¹ˆé«˜æŠ€æœ¯å«é‡çš„äº‹æƒ…ï¼Œä¼šä¸‰ç§ä¸å¦‚æ·±å…¥ä¸€ç§ã€‚</strong></p>
<p>##æ€»ç»“<br><strong>å½’çº³ä¸¤ç‚¹</strong></p>
<ul>
<li>æˆ‘ä»¬æœ‰æ—¶å€™çœ‹ä¼¼åœ¨å­¦å¾ˆå¤šæŠ€æœ¯ï¼Œå…¶å®è¿™äº›æŠ€æœ¯å¹¶ä¸èƒ½æå‡ä½ ï¼Œä½†æ˜¯ç»™ä½ é€ æˆäº†ã€æˆ‘å­¦äº†æ–°ä¸œè¥¿èƒ½åŠ›æå‡äº†ã€çš„è‡ªæˆ‘æ„Ÿè§‰åå·®</li>
<li>ä¸è¦ç›²ç›®è¿½å¯»ç¤¾åŒºçš„çƒ­ç‚¹ï¼Œå¾ˆå¯èƒ½æ¡äº†èŠéº»ä¸¢äº†è¥¿ç“œï¼Œè¦ä»”ç»†æ€è€ƒè¿™é—¨æŠ€æœ¯å¯¹äºä½ æœ¬èº«æ˜¯å¦æœ‰æå‡ï¼Œè€Œä¸æ˜¯è¢«å¸ƒé“å¸ˆä»¬ã€æ´—è„‘ã€</li>
</ul>
<p><strong>å¤„äºè¶‹åŠ¿ä¸­çš„æŠ€æœ¯ç‚¹</strong></p>
<ul>
<li><code>Flutter</code>ï¼Œæ­£æ˜¯æ–°æ¡†æ¶ï¼Œå¯ä»¥å­¦ä¹ ï¼Œä½†ä¸è¦è®¤ä¸ºä½ çš„æŠ€æœ¯æœ‰äº†æ–°çš„å‘å±•ã€‚</li>
<li><code>TypeScript</code>ï¼Œä¼šè¶Šæ¥è¶Šå¤šäººç”¨ï¼Œå› ä¸ºå…¶è§„èŒƒJavaScriptçš„è¯­æ³•ï¼Œé™ä½å¾ˆå¤šä¸å¿…è¦çš„ç±»å‹é”™è¯¯ï¼Œä»¥åŠæ›´å¤šé‡å¤§å¼€æºé¡¹ç›®ä½¿ç”¨ä¸æ”¯æŒã€‚</li>
<li><code>å›¾å½¢æŠ€æœ¯</code>ï¼Œå°†æ˜¯æœªæ¥æ‰€æœ‰å‰ç«¯ç¨‹åºå‘˜çš„ç—›ç‚¹ä¹‹ä¸€ï¼Œè¿›é˜¶æŠ€æœ¯çŸ¥è¯†ã€‚</li>
<li><code>ç¼–è¾‘å™¨é¢†åŸŸæŠ€æœ¯</code>ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šä»£ç ç¼–è¾‘å™¨ï¼ˆWebIDEï¼‰ã€å›¾å½¢ç¼–è¾‘å™¨ï¼ˆåœ¨çº¿çš„3då»ºæ¨¡æˆ–è€…psï¼‰ã€æ–‡æœ¬ç¼–è¾‘å™¨ç­‰ã€‚</li>
<li><code>Serverless</code>æ˜¯ç”Ÿäº§åŠ›ä¸Šçš„ç›´æ¥æå‡ï¼Œå‰ç«¯å¯ä»¥ä¸è€ƒè™‘éƒ¨ç½²ã€è¿ç»´ã€ç¯å¢ƒç­‰åœºæ™¯ï¼Œç›´æ¥ç¼–å†™å‡½æ•°æ¥å®ç°åç«¯é€»è¾‘çš„å…¨å¹²å·¥ç¨‹å¸ˆã€‚</li>
<li><code>IOT</code>ï¼ˆç‰©è”ç½‘ Internet of Thingsï¼‰ï¼Œjs in IOTæ˜¯å› ä¸ºjså¼€å‘ç¾¤ä¼—å¤šï¼Œä½†æ˜¯IOTæ˜¯ä½æ€§èƒ½ä½åŠŸè€—ä½å†…å­˜çš„è®¾å¤‡ï¼Œä¸jsç›¸åï¼Œæ‰€ä»¥æœ€åjsåˆä¼šæ²¦ä¸ºå†™ä¸šåŠ¡ï¼Œä½†æ˜¯å’Œåœ¨æµè§ˆå™¨å¼€å‘æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</li>
<li><code>GraphQL</code>æŠ€æœ¯è€ƒéªŒçš„æ˜¯è·¨å›¢é˜Ÿæ²Ÿé€šåä½œèƒ½åŠ›ï¼Œä¸æ˜¯æŠ€æœ¯æœ¬èº«ï¼Œå¹²æ´»æ˜¯åç«¯ï¼Œå¾—åˆ©çš„å´æ˜¯å‰ç«¯ã€‚</li>
<li><code>AI In FE</code>ï¼Œtfjsçš„é—®é¢˜ï¼ŒåŸºäºæµè§ˆå™¨çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå…¶å®åº”ç”¨èŒƒå›´éå¸¸éå¸¸çª„ï¼Œç›®å‰ä¸»è¦ç§‘ç ”é˜¶æ®µã€‚</li>
</ul>
<blockquote>
<p>å› æ­¤ï¼Œä¸ªäººéœ€è¦å­¦ä¹ å¯ä»¥å°è¯•å­¦ä¹ <code>TypeScript</code>,<code>å›¾å½¢æŠ€æœ¯</code>å’Œ<code>ç¼–è¾‘å™¨é¢†åŸŸæŠ€æœ¯</code>ï¼Œé¡ºä¾¿å¯ä»¥äº†è§£ä¸€ä¸‹<code>Flutter</code>å»å®ç°HelloWorldã€‚</p>
</blockquote>
<p>åŸæ–‡é˜…è¯»é“¾æ¥ï¼š<br><a href="https://juejin.im/post/5d1589c8e51d45776031b02e" target="_blank" rel="noopener">https://juejin.im/post/5d1589c8e51d45776031b02e</a></p>
<h1 id="äºŒã€ä¸€å‘¨æ–°é—»"><a href="#äºŒã€ä¸€å‘¨æ–°é—»" class="headerlink" title="äºŒã€ä¸€å‘¨æ–°é—»"></a>äºŒã€ä¸€å‘¨æ–°é—»</h1><h2 id="2-1-npm-å·²è½ä¼ï¼Œä¸‹ä¸€ä»£åŒ…ç®¡ç†å™¨-Tink-æ­£åœ¨å­µåŒ–"><a href="#2-1-npm-å·²è½ä¼ï¼Œä¸‹ä¸€ä»£åŒ…ç®¡ç†å™¨-Tink-æ­£åœ¨å­µåŒ–" class="headerlink" title="2.1 npm å·²è½ä¼ï¼Œä¸‹ä¸€ä»£åŒ…ç®¡ç†å™¨ Tink æ­£åœ¨å­µåŒ–"></a>2.1 npm å·²è½ä¼ï¼Œä¸‹ä¸€ä»£åŒ…ç®¡ç†å™¨ Tink æ­£åœ¨å­µåŒ–</h2><blockquote>
<p>è¿„ä»Šä¸ºæ­¢ï¼Œnpm ç”Ÿæ€ç³»ç»Ÿå·²ç»æ‹¥æœ‰äº†è¿‘ 1,000,000 ä¸ªè½¯ä»¶åŒ…ï¼Œæ˜¯è§„æ¨¡æœ€å¤§çš„åŒ…ç®¡ç†å¹³å°ã€‚ä½†è¿™ä¸ªç”Ÿæ€ç³»ç»ŸåŠè½¯ä»¶åŒ…ç®¡ç†å™¨åœ¨è¯ç”Ÿæ—¶å¹¶æ²¡æœ‰è€ƒè™‘å¦‚æ­¤å¤æ‚çš„å±€é¢ï¼Œå®ƒä»¬åŸæœ¬æ˜¯é€‚ç”¨äºä»¥ Node.js ç”Ÿæ€ç³»ç»Ÿä¸ºä¸­å¿ƒçš„å°å‹é¡¹ç›®å’Œè½¯ä»¶åŒ…çš„å¹³å°ã€‚</p>
</blockquote>
<blockquote>
<p>ç°åœ¨æ˜¯æ—¶å€™é‡æ–°å®šä¹‰é€‚åˆç°ä»£ Web å¼€å‘çš„åŒ…ç®¡ç†æŠ€æœ¯äº†ï¼Œè€Œç­”æ¡ˆå°±æ˜¯ Tinkï¼šå®ƒåŒæ ·æ¥è‡ªäº npm å›¢é˜Ÿï¼Œæ˜¯ä¸‹ä¸€ä»£çš„ JS åŒ…ç®¡ç†æ–¹æ¡ˆã€‚Tink å°†å¸¦æ¥å‰æ‰€æœªæœ‰çš„æ€§èƒ½è¡¨ç°ã€ä¸ Node.js ç­‰å·²æœ‰æŠ€æœ¯çš„æ·±åº¦å…¼å®¹æ€§ï¼Œä»¥åŠéå¸¸é€‚åˆç°ä»£ Web å¼€å‘è€…çš„ç”¨æˆ·ä½“éªŒã€‚<br><a href="https://www.infoq.cn/article/R*5JRVuOOHBRlw411PlZ" target="_blank" rel="noopener">https://www.infoq.cn/article/R*5JRVuOOHBRlw411PlZ</a></p>
</blockquote>
<h2 id="2-2-GMTC-2019-å‚ä¼šæ„Ÿæƒ³"><a href="#2-2-GMTC-2019-å‚ä¼šæ„Ÿæƒ³" class="headerlink" title="2.2 GMTC 2019 å‚ä¼šæ„Ÿæƒ³"></a>2.2 GMTC 2019 å‚ä¼šæ„Ÿæƒ³</h2><blockquote>
<p>å¾—çŸ¥ GMTC 2019 åœ¨åŒ—äº¬ä¸¾è¡Œè¿˜æ˜¯ä»Šå¹´ 3 æœˆä»½ EE åä½œæ–‡æ¡£ çš„å‰ç«¯åŒå­¦ï¼Œæ¨èæˆ‘ä»¬å›¢é˜Ÿå» GMTC åšä¸ªåˆ†äº«ï¼Œæ‰€ä»¥ä¹Ÿé¡ºä¾¿ç»„ç»‡å›¢é˜Ÿæˆå‘˜ä¸€èµ·å»å‘ä¸šç•Œå¤§ä½¬å­¦ä¹ ã€‚<br><a href="https://juejin.im/post/5d132ec16fb9a07efa092909" target="_blank" rel="noopener">https://juejin.im/post/5d132ec16fb9a07efa092909</a></p>
</blockquote>
<h1 id="ä¸‰ã€ç©éå‰ç«¯"><a href="#ä¸‰ã€ç©éå‰ç«¯" class="headerlink" title="ä¸‰ã€ç©éå‰ç«¯"></a>ä¸‰ã€ç©éå‰ç«¯</h1><h2 id="3-1-git-js"><a href="#3-1-git-js" class="headerlink" title="3.1 git-js"></a>3.1 git-js</h2><blockquote>
<p>ä¸€ä¸ªå¯ä»¥åœ¨nodejsä¸­å»æ‰§è¡Œgitå‘½ä»¤çš„æ¡†æ¶ï¼Œå¤§å®¶å¯ä»¥å°è¯•ç©ä¸€ä¸‹å¦‚ä½•ç®¡ç†å›¢é˜Ÿä»“åº“ï¼Œä»¥åŠå®šåˆ¶åŒ–çš„ä»£ç å®¡æ ¸ç•Œé¢ã€‚<br><a href="https://github.com/steveukx/git-js" target="_blank" rel="noopener">https://github.com/steveukx/git-js</a></p>
</blockquote>
]]></content>
      <tags>
        <tag>å‘¨äºŒæŠ€æœ¯å‘¨åˆŠ</tag>
      </tags>
  </entry>
  <entry>
    <title>Reactä¸Jestçš„å•å…ƒæµ‹è¯•(1)</title>
    <url>/study/react-test1.html</url>
    <content><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•"><a href="#ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•" class="headerlink" title="ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•"></a>ä»€ä¹ˆæ˜¯å•å…ƒæµ‹è¯•</h1><p>å¦‚æœä½ å¬è¯´è¿‡â€œæµ‹è¯•é©±åŠ¨å¼€å‘â€ï¼ˆTDDï¼šTest-Driven Developmentï¼‰ï¼Œå•å…ƒæµ‹è¯•å°±ä¸é™Œç”Ÿã€‚</p>
<p>å•å…ƒæµ‹è¯•æ˜¯ç”¨æ¥å¯¹ä¸€ä¸ªæ¨¡å—ã€ä¸€ä¸ªå‡½æ•°æˆ–è€…ä¸€ä¸ªç±»æ¥è¿›è¡Œæ­£ç¡®æ€§æ£€éªŒçš„æµ‹è¯•å·¥ä½œã€‚</p>
<a id="more"></a>
<h2 id="æµ‹è¯•è¦†ç›–ç‡"><a href="#æµ‹è¯•è¦†ç›–ç‡" class="headerlink" title="æµ‹è¯•è¦†ç›–ç‡"></a>æµ‹è¯•è¦†ç›–ç‡</h2><p>åœ¨githubçš„å¼€æºé¡¹ç›®ç»å¸¸ä¼šæœ‰å•å…ƒæµ‹è¯•è¦†ç›–ç‡ï¼Œé•¿å¾—æ¯”å¦‚<code>vuejs</code>æ¡†æ¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="http://ww1.sinaimg.cn/large/68c990d9gy1g7c48fwqh5j21aa0ec408.jpg" alt="image.png"></p>
<ul>
<li>ä¸Šå›¾ä¸­çš„ build passing è¡¨ç¤º travis build é€šè¿‡äº†ï¼Œç”¨ç»¿è‰²èƒŒæ™¯æ˜¾ç¤ºï¼Œè¡¨æ˜å¾ˆå®‰å…¨ã€‚</li>
<li>npm v2.6.10 è¡¨ç¤ºæœ€æ–°ç‰ˆæœ¬æ˜¯ v2.6.10ï¼Œç”¨è“è‰²èƒŒæ™¯æ˜¾ç¤ºï¼Œè¡¨æ˜æ˜¯ç¨³å®šçš„ç‰ˆæœ¬ã€‚</li>
<li>downloads 4.7m/month è¡¨ç¤ºæœ€è¿‘ä¸€ä¸ªæœˆ npm é‡Œçš„ä¸‹è½½æ•°é‡ä¸º 4.7ä¸‡ æ¬¡ã€‚</li>
<li>coverage 97% è¡¨ç¤ºæµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°äº† 100%ï¼Œç”¨è“ç»¿è‰²èƒŒæ™¯æ˜¾ç¤ºï¼Œè¡¨æ˜è™½é€šè¿‡æµ‹è¯•ä½†æ˜¯è¿˜å­˜åœ¨æœªæµ‹è¯•åˆ°åœ°æ–¹ã€‚</li>
</ul>
<p>æµ‹è¯•è¦†ç›–ç‡å°±æ˜¯è¿è¡Œçš„æµ‹è¯•è¦†ç›–äº†å¤šå°‘ä»£ç é‡Œçš„é€»è¾‘ï¼Œä¸‹ä¸€ç¯‡æˆ‘ä»¬è®²åˆ°å¦‚ä½•å»ºç«‹githubçš„æµ‹è¯•è¦†ç›–ç‡ã€‚</p>
<!-- https://juejin.im/entry/58c51defa22b9d0058ac1980 -->

<p>æ˜ç™½ä¸Šé¢çš„æ¦‚å¿µåæˆ‘ä»¬å°±å¼€å§‹è¿›å…¥å­¦ä¹ ã€‚</p>
<h1 id="å­¦ä¹ "><a href="#å­¦ä¹ " class="headerlink" title="å­¦ä¹ "></a>å­¦ä¹ </h1><h2 id="Jestã€Enzyme-ä»‹ç»"><a href="#Jestã€Enzyme-ä»‹ç»" class="headerlink" title="Jestã€Enzyme ä»‹ç»"></a>Jestã€Enzyme ä»‹ç»</h2><p>Jest æ˜¯ Facebook å‘å¸ƒçš„ä¸€ä¸ªå¼€æºçš„ã€åŸºäº <code>Jasmine</code> æ¡†æ¶çš„ JavaScript å•å…ƒæµ‹è¯•å·¥å…·ã€‚æä¾›äº†åŒ…æ‹¬å†…ç½®çš„æµ‹è¯•ç¯å¢ƒ DOM API æ”¯æŒã€æ–­è¨€åº“ã€Mock åº“ç­‰ï¼Œè¿˜åŒ…å«äº† Spapshot Testingã€ Instant Feedback ç­‰ç‰¹æ€§ã€‚</p>
<p>Airbnbå¼€æºçš„ React æµ‹è¯•ç±»åº“ Enzyme æä¾›äº†ä¸€å¥—ç®€æ´å¼ºå¤§çš„ APIï¼Œå¹¶é€šè¿‡ jQuery é£æ ¼çš„æ–¹å¼è¿›è¡ŒDOM å¤„ç†ï¼Œå¼€å‘ä½“éªŒååˆ†å‹å¥½ã€‚ä¸ä»…åœ¨å¼€æºç¤¾åŒºæœ‰è¶…é«˜äººæ°”ï¼ŒåŒæ—¶ä¹Ÿè·å¾—äº†React å®˜æ–¹çš„æ¨èã€‚</p>
<h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p>é€šè¿‡<code>create-react-app</code>å»åˆ›å»ºé¡¹ç›®ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><code>create-react-app test-app</code>åï¼Œç­‰å¾…å‡ åˆ†é’Ÿå®‰è£…ä¾èµ–å®Œæˆ</li>
<li>é¡¹ç›®è‡ªå¸¦<code>jest</code>æµ‹è¯•æ¡†æ¶ï¼Œä½†æ˜¯è¿˜éœ€è¦å®‰è£…å…¶ä»–æµ‹è¯•æ¡†æ¶</li>
<li>å®‰è£…<code>yarn add enzyme enzyme-adapter-react-16 react-test-renderer</code></li>
</ol>
<h2 id="ç¤ºä¾‹é¡¹ç›®"><a href="#ç¤ºä¾‹é¡¹ç›®" class="headerlink" title="ç¤ºä¾‹é¡¹ç›®"></a>ç¤ºä¾‹é¡¹ç›®</h2><p>åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬å°†å®ç°ä¸€ä¸ªå¾…åŠäº‹é¡¹ï¼Œå¹¶è¿›è¡ŒTTDå¼€å‘ã€‚</p>
<p>éœ€æ±‚æè¿°ï¼šåœ¨é¡µé¢ä¸­æœ‰ä¸ªè¾“å…¥æ¡†ï¼Œå¹¶å…è®¸è¿›è¡Œç‚¹å‡»æ–°å¢å¾…åŠäº‹é¡¹å’Œåˆ é™¤äº‹é¡¹ã€‚</p>
<p><a href>é¡¹ç›®æºç å¯ä»¥ç‚¹å‡»è¿™é‡Œè¿›è¡Œå…‹éš†</a></p>
<h2 id="jestå¸¸ç”¨API"><a href="#jestå¸¸ç”¨API" class="headerlink" title="jestå¸¸ç”¨API"></a>jestå¸¸ç”¨API</h2><ul>
<li>describe(name, fn)ï¼šæè¿°å—ï¼Œè®²ä¸€ç»„åŠŸèƒ½ç›¸å…³çš„æµ‹è¯•ç”¨ä¾‹ç»„åˆåœ¨ä¸€èµ·</li>
<li>it(name, fn, timeout)ï¼šåˆ«åtestï¼Œç”¨æ¥æ”¾æµ‹è¯•ç”¨ä¾‹</li>
<li>afterAll(fn, timeout)ï¼šæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹è·‘å®Œä»¥åæ‰§è¡Œçš„æ–¹æ³•</li>
<li>beforeAll(fn, timeout)ï¼šæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œä¹‹å‰æ‰§è¡Œçš„æ–¹æ³•</li>
<li>afterEach(fn)ï¼šåœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå®Œåæ‰§è¡Œçš„æ–¹æ³•</li>
<li>beforeEach(fn)ï¼šåœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œä¹‹å‰éœ€è¦æ‰§è¡Œçš„æ–¹æ³•</li>
</ul>
]]></content>
      <tags>
        <tag>å­¦ä¹ æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>å‘¨äºŒæŠ€æœ¯å‘¨åˆŠ 20190924æœŸ</title>
    <url>/wx/20190924.html</url>
    <content><![CDATA[<p><img src="http://ww1.sinaimg.cn/large/68c990d9gy1g7au94i5grj21pe14x7wi.jpg" alt="å¥½çœ‹çš„å›¾ç‰‡"></p>
<h1 id="ä¸€ã€æŠ€æœ¯çŸ¥è¯†"><a href="#ä¸€ã€æŠ€æœ¯çŸ¥è¯†" class="headerlink" title="ä¸€ã€æŠ€æœ¯çŸ¥è¯†"></a>ä¸€ã€æŠ€æœ¯çŸ¥è¯†</h1><h2 id="ã€Šé™ä½è½¯ä»¶å¤æ‚æ€§ä¸€èˆ¬åŸåˆ™å’Œæ–¹æ³•ã€‹"><a href="#ã€Šé™ä½è½¯ä»¶å¤æ‚æ€§ä¸€èˆ¬åŸåˆ™å’Œæ–¹æ³•ã€‹" class="headerlink" title="ã€Šé™ä½è½¯ä»¶å¤æ‚æ€§ä¸€èˆ¬åŸåˆ™å’Œæ–¹æ³•ã€‹"></a>ã€Šé™ä½è½¯ä»¶å¤æ‚æ€§ä¸€èˆ¬åŸåˆ™å’Œæ–¹æ³•ã€‹</h2><p>ç®€ä»‹ï¼š</p>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯å›´ç»•ç€â€œé™ä½å¤æ‚æ€§â€è¿™ä¸ªä¸»é¢˜å±•å¼€çš„ï¼Œå¾ˆå¤šé‡è¦çš„ç»“è®ºæ¥æºäºJohn Ousterhoutçš„è‘—ä½œã€ŠA Philosophy of Software Designã€‹ï¼Œä½œè€…è§‰å¾—å¾ˆæœ‰å…±é¸£ï¼Œå°±åšäº†ä¸€äº›ç›¸å…³è¯é¢˜çš„å»¶ä¼¸ã€è¡¥å……äº†ä¸€äº›å®ä¾‹ã€‚è™½è¯´æ˜¯â€ä¸€èˆ¬åŸåˆ™â€œï¼Œä¹Ÿä¸æ„å‘³ç€æ˜¯ç»å¯¹çš„çœŸç†ï¼Œæ•´ç†å‡ºæ¥ï¼Œåªæ˜¯ä¸ºäº†å¼•å‘å¤§å®¶å¯¹è½¯ä»¶è®¾è®¡çš„æ€è€ƒã€‚</p>
<a id="more"></a>

<h3 id="è¯»åå¿ƒå¾—"><a href="#è¯»åå¿ƒå¾—" class="headerlink" title="è¯»åå¿ƒå¾—"></a>è¯»åå¿ƒå¾—</h3><p><strong>ç°ä»£ç³»ç»Ÿå¤æ‚æ€§è§£å†³åŸåˆ™</strong></p>
<ul>
<li>ç”±äºäº’è”ç½‘çš„å˜åŒ–è¿‡å¿«ï¼Œç³»ç»Ÿæ˜¯æ— æ³•ä¸€æ¬¡æ€§æ»¡è¶³çš„ï¼Œéƒ½æ˜¯é€šè¿‡ä¸€ä¸ªä¸ªåŠŸèƒ½æ¨¡å—è¡ç”Ÿè¿­ä»£ï¼Œç³»ç»Ÿæ‰ä¼šé€æ­¥æˆå‹ï¼›</li>
<li>ä¸“ä¸šåŒ–åˆ†å·¥å’Œä»£ç å¤ç”¨æ˜¯ä¿ƒæˆäº†è½¯ä»¶ç”Ÿäº§ç‡çš„æå‡çš„å‡†åˆ™ï¼Œç”±ä¸“ä¸šçš„äººè´Ÿè´£ä¸“ä¸šçš„äº‹ï¼›</li>
<li>åˆ†æ¨¡å—æ˜¯ä»å‚ç›´æ–¹å‘æ¥åˆ†è§£ç³»ç»Ÿï¼Œå¦‚ï¼šå¾®æœåŠ¡ã€‚åˆ†æ¨¡å—é™ä½äº†å•æ¨¡å—çš„å¤æ‚æ€§ï¼Œä½†æ˜¯ä¹Ÿä¼šå¼•å…¥æ–°çš„å¤æ‚æ€§ï¼Œä¾‹å¦‚æ¨¡å—ä¸æ¨¡å—çš„äº¤äº’ï¼›</li>
<li>å®Œå–„æ–‡æ¡£å’Œæ³¨é‡Šï¼Œå› ä¸ºä»£ç èƒ½å¤Ÿæè¿°ç¨‹åºçš„å·¥ä½œæµç¨‹å’Œç»“æœï¼Œå´å¾ˆéš¾æè¿°å¼€å‘äººå‘˜çš„æ€è·¯ã€‚</li>
</ul>
<blockquote>
<p>å¥½çš„æ³¨é‡Šèƒ½å¤Ÿå¸®åŠ©è§£å†³è½¯ä»¶å¤æ‚æ€§é—®é¢˜ï¼Œå°¤å…¶æ˜¯è®¤çŸ¥è´Ÿæ‹…å’Œä¸å¯çŸ¥é—®é¢˜ï¼ˆUnknown Unknownsï¼‰ã€‚</p>
</blockquote>
<p><strong>è®¾è®¡æŠ€æœ¯æ–¹æ¡ˆå‰çš„ä¸¤ä¸ªé—®é¢˜</strong></p>
<ul>
<li>å…¶ä¸€ï¼Œä¸ºä»€ä¹ˆè¯¥æ–¹æ¡ˆå¯è¡Œï¼Ÿ</li>
<li>å…¶äºŒï¼Œåœ¨å·²æœ‰èµ„æºé™åˆ¶ä¸‹ï¼Œä¸ºä»€ä¹ˆè¯¥æ–¹æ¡ˆæ˜¯æœ€ä¼˜çš„ï¼Ÿ</li>
<li>ä¸ºäº†å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æŠ€æœ¯æ–¹æ¡ˆé‡Œè¡¥å……æ¶æ„å›¾ã€æ¥å£è®¾è®¡å’Œæ—¶é—´äººåŠ›ä¼°ç®—ã€‚</li>
<li>è€Œè¦å›ç­”ç¬¬äºŒä¸ªé—®é¢˜ï¼Œéœ€è¦æˆ‘ä»¬åœ¨å…³é”®ç‚¹æˆ–äº‰è®®å¤„æä¾›äºŒåˆ°ä¸‰ç§æ–¹æ¡ˆï¼Œå¹¶ç»™å‡ºå»ºè®®æ–¹æ¡ˆï¼Œè¿™æ ·æ‰æœ‰è¯´æœåŠ›ã€‚</li>
</ul>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡åŸåˆ™</strong></p>
<ul>
<li>å¤æ‚ç³»ç»Ÿæœ€å¥½çš„è®¾è®¡åŸåˆ™å°±æ˜¯ä¸¥æ ¼åˆ†å±‚â€”â€”å†…éƒ¨çš„å±‚åªå¯¹ç›¸é‚»çš„å±‚æ¬¡å¯è§ï¼Œè¿™æ ·å°±å¯ä»¥å°†ä¸€ä¸ªå¤æ‚é—®é¢˜åˆ†è§£æˆå¢é‡æ­¥éª¤åºåˆ—ï¼Œåˆ†å±‚ç³»ç»Ÿæœ€æœ‰åçš„å®ä¾‹æ˜¯TCP/IPç½‘ç»œæ¨¡å‹ã€‚</li>
<li>å¤æ‚æ€§ä¸‹æ²‰ï¼Œæ°¸è¿œå¯¹ç”¨æˆ·å‹å¥½çš„è®¾è®¡å°±æ˜¯å¥½è®¾è®¡ã€‚</li>
<li>å¼‚å¸¸é”™è¯¯å¤„ç†åŸåˆ™å°±æ˜¯ï¼šå°½å¯èƒ½å‡å°‘éœ€è¦å¤„ç†å¼‚å¸¸çš„å¯èƒ½æ€§ã€‚è€Œæœ€ä½³å®è·µå°±æ˜¯ç¡®ä¿é”™è¯¯ç»ˆç»“ï¼Œä¾‹å¦‚åˆ é™¤ä¸€ä¸ªå¹¶ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¸å…¶ä¸ŠæŠ¥æ–‡ä»¶ä¸å­˜åœ¨çš„å¼‚å¸¸ï¼Œä¸å¦‚ä»€ä¹ˆéƒ½ä¸åšã€‚ç¡®ä¿æ–‡ä»¶ä¸å­˜åœ¨å°±å¥½äº†ã€‚</li>
</ul>
<p><strong><em>é˜…è¯»æ—¶é—´ï¼š15~20åˆ†é’Ÿ</em></strong></p>
<p>å…¶ä»–æ›´å¤šå…³äºè½¯ä»¶è®¾è®¡åŸåˆ™å¯ä»¥å‰å¾€:</p>
<blockquote>
<p><a href="https://tech.meituan.com/2019/09/19/common-method-of-reduce-complexity.html" target="_blank" rel="noopener">https://tech.meituan.com/2019/09/19/common-method-of-reduce-complexity.html</a></p>
</blockquote>
<h1 id="åå¤§-npm-æœ€ä½³å®‰å…¨æŒ‡å—ï¼Œæ•™ä½ å¦‚ä½•é¿å…å®‰å…¨æ¼æ´ï¼"><a href="#åå¤§-npm-æœ€ä½³å®‰å…¨æŒ‡å—ï¼Œæ•™ä½ å¦‚ä½•é¿å…å®‰å…¨æ¼æ´ï¼" class="headerlink" title="åå¤§ npm æœ€ä½³å®‰å…¨æŒ‡å—ï¼Œæ•™ä½ å¦‚ä½•é¿å…å®‰å…¨æ¼æ´ï¼"></a>åå¤§ npm æœ€ä½³å®‰å…¨æŒ‡å—ï¼Œæ•™ä½ å¦‚ä½•é¿å…å®‰å…¨æ¼æ´ï¼</h1><p>ç®€ä»‹ï¼š</p>
<p>ä½ é‡è§† npm æ¼æ´å—ï¼Ÿæ— è®ºæ˜¯å‰ç«¯è¿˜æ˜¯åç«¯å¼€å‘äººå‘˜ï¼Œéƒ½åº”è¯¥é‡è§† npm çš„å®‰å…¨æ€§æœ€ä½³å®è·µã€‚å¼€æºä»£ç çš„å®‰å…¨å®¡æŸ¥æ˜¯æå‡å®‰å…¨æ€§çš„å…³é”®æ‰€åœ¨ï¼Œå…¶ä¸­ npm åŒ…çš„å®‰å…¨æ€§åº”è¯¥æ˜¯é¦–è¦è€ƒè™‘å› ç´ ï¼Œå› ä¸ºæˆ‘ä»¬å‘ç°å³ä½¿æ˜¯å®˜æ–¹çš„ npm å‘½ä»¤è¡Œå·¥å…·ä¹Ÿå¾ˆå®¹æ˜“å—åˆ°æ”»å‡»ã€‚</p>
<p>æœ¬æ–‡æä¾›çš„è¿™ä»½å¤‡å¿˜åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬å°†åˆ—å‡ºé’ˆå¯¹å¼€æºç»´æŠ¤äººå‘˜å’Œå¼€å‘äººå‘˜çš„åå¤§æœ€ä½³å®‰å…¨å®è·µå’Œç”Ÿäº§åŠ›æç¤ºã€‚</p>
<h2 id="å¿«é€Ÿé˜…è¯»"><a href="#å¿«é€Ÿé˜…è¯»" class="headerlink" title="å¿«é€Ÿé˜…è¯»"></a>å¿«é€Ÿé˜…è¯»</h2><p><strong>åå¤§å®‰å…¨æŒ‡å—</strong></p>
<ol>
<li>ä¸è¦æŠŠç§˜å¯†å‘å¸ƒåˆ° npm å­˜å‚¨åº“ä¸Š</li>
<li>å¼ºåˆ¶é”æ–‡ä»¶</li>
<li>å¿½ç•¥è¿è¡Œè„šæœ¬ï¼Œæœ€å°åŒ–æ”»å‡»é¢</li>
<li>è¯„ä¼° npm é¡¹ç›®çš„å¥åº·çŠ¶å†µ</li>
<li>å®¡æ ¸å¼€æºä¾èµ–é¡¹ä¸­çš„æ¼æ´(ä½¿ç”¨ Snyk æ‰«æå®‰å…¨æ¼æ´)</li>
<li>ä½¿ç”¨æœ¬åœ° npm ä»£ç†</li>
<li>è´Ÿè´£ä»»åœ°æŠ«éœ²å®‰å…¨æ¼æ´</li>
<li>å¯ç”¨ 2FA</li>
<li>ä½¿ç”¨ npm ä½œè€…ä»¤ç‰Œ</li>
<li>äº†è§£æ¨¡å—å‘½åçº¦å®šå’ŒåŸŸåä»¿å†’æ”»å‡»</li>
</ol>
<p>å–œæ¬¢é˜…è¯»æˆ–è€…å¯¹å®‰å…¨æ›´åŠ æ³¨æ„ï¼Œè¯·ç‚¹å‡»ä¸‹æ–¹é“¾æ¥å‰å¾€é˜…è¯»ï¼š</p>
<blockquote>
<p><a href="https://www.infoq.cn/article/SI05RvA2QaeLhPx0kWmu" target="_blank" rel="noopener">https://www.infoq.cn/article/SI05RvA2QaeLhPx0kWmu</a></p>
</blockquote>
<h1 id="æŠŠç½‘ç«™å‡çº§åˆ°http-2"><a href="#æŠŠç½‘ç«™å‡çº§åˆ°http-2" class="headerlink" title="æŠŠç½‘ç«™å‡çº§åˆ°http/2"></a>æŠŠç½‘ç«™å‡çº§åˆ°http/2</h1><h1 id="äºŒã€ä¸€å‘¨æ–°é—»"><a href="#äºŒã€ä¸€å‘¨æ–°é—»" class="headerlink" title="äºŒã€ä¸€å‘¨æ–°é—»"></a>äºŒã€ä¸€å‘¨æ–°é—»</h1><h2 id="Vue-3-0-æœ€æ–°è¿›å±•ï¼ŒComposition-API"><a href="#Vue-3-0-æœ€æ–°è¿›å±•ï¼ŒComposition-API" class="headerlink" title="Vue 3.0 æœ€æ–°è¿›å±•ï¼ŒComposition API"></a>Vue 3.0 æœ€æ–°è¿›å±•ï¼ŒComposition API</h2><p>æœ¬æ–‡ä¸»è¦åˆ†ä»¥ä¸‹å‡ ä¸ªä¸»é¢˜è®¨è®ºæœ€æ–°çš„Composition APIï¼š</p>
<ul>
<li>reactive API</li>
<li>ref API</li>
<li>watch APIå˜åŒ–</li>
<li>computed APIå˜åŒ–</li>
<li>ç”Ÿå‘½å‘¨æœŸé’©å­å˜åŒ–</li>
<li>TypeScriptå’ŒJSXæ”¯æŒ</li>
</ul>
<p>Composition API å¯è°“æ˜¯ä¿®å¤äº† Function API è¯¸å¤šé—®é¢˜è€Œæä¾›çš„æœ€æ–°â€œä¿®æ­£æ¡ˆâ€ï¼Œä¸‹é¢æ¥çœ‹æ¯”èµ·ä¹‹å‰çš„vue-function-apiï¼Œç©¶ç«Ÿä¿®æ”¹äº†äº›ä»€ä¹ˆå‘¢ï¼Ÿè¯·å‰å¾€é˜…è¯»ï¼š</p>
<blockquote>
<p><a href="https://juejin.im/post/5d836458f265da03d871f6e9" target="_blank" rel="noopener">https://juejin.im/post/5d836458f265da03d871f6e9</a></p>
</blockquote>
<h1 id="ä¸‰ã€ç©éå‰ç«¯"><a href="#ä¸‰ã€ç©éå‰ç«¯" class="headerlink" title="ä¸‰ã€ç©éå‰ç«¯"></a>ä¸‰ã€ç©éå‰ç«¯</h1><h2 id="å°tips-å…ƒç´ focusé¡µé¢ä¸æ»šåŠ¨ä¸å®šä½çš„JSå¤„ç†"><a href="#å°tips-å…ƒç´ focusé¡µé¢ä¸æ»šåŠ¨ä¸å®šä½çš„JSå¤„ç†" class="headerlink" title="å°tips: å…ƒç´ focusé¡µé¢ä¸æ»šåŠ¨ä¸å®šä½çš„JSå¤„ç†"></a>å°tips: å…ƒç´ focusé¡µé¢ä¸æ»šåŠ¨ä¸å®šä½çš„JSå¤„ç†</h2><p>å…¨æ–°çš„APIå‚æ•°preventScrollï¼Œæ„Ÿè§‰è¯·é˜…è¯»åŸæ–‡ï¼š</p>
<blockquote>
<p><a href="https://www.zhangxinxu.com/wordpress/2019/09/js-focus-preventscroll/" target="_blank" rel="noopener">https://www.zhangxinxu.com/wordpress/2019/09/js-focus-preventscroll/</a></p>
</blockquote>
<h2 id="æµè§ˆå™¨çš„ä¸€äº›â€œæ»šåŠ¨â€è¡Œä¸ºé‰´èµ"><a href="#æµè§ˆå™¨çš„ä¸€äº›â€œæ»šåŠ¨â€è¡Œä¸ºé‰´èµ" class="headerlink" title="æµè§ˆå™¨çš„ä¸€äº›â€œæ»šåŠ¨â€è¡Œä¸ºé‰´èµ"></a>æµè§ˆå™¨çš„ä¸€äº›â€œæ»šåŠ¨â€è¡Œä¸ºé‰´èµ</h2><p>åº”è¯¥ä½ é‡åˆ°æ‰€æœ‰çš„â€œæ»šåŠ¨â€äº‹ä»¶çš„ç›¸å…³é—®é¢˜å’Œç°è±¡éƒ½å¯ä»¥åœ¨è¿™ç¯‡æ–‡ç« é‡Œæ‰¾åˆ°äº†ï¼š</p>
<blockquote>
<p><a href="https://juejin.im/post/5d75adfbe51d4561e84fcc9c" target="_blank" rel="noopener">https://juejin.im/post/5d75adfbe51d4561e84fcc9c</a></p>
</blockquote>
]]></content>
      <tags>
        <tag>å‘¨äºŒæŠ€æœ¯å‘¨åˆŠ</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo Yiliaä¸»é¢˜æ”¯æŒæœç´¢åŠŸèƒ½</title>
    <url>/share/hexo-search.html</url>
    <content><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>å½“hexoçš„æ–‡ç« è¶Šæ¥è¶Šå¤šï¼Œä¾é æ ‡é¢˜å’Œtagå»æœç´¢æœ‰ç‚¹ä¸å¤Ÿç”¨ï¼Œå› æ­¤éœ€è¦æ”¯æŒæœç´¢åŠŸèƒ½ï¼ŒhexoæŸ¥è¯¢ä¸»è¦ä¾èµ–æœ¬åœ°ç´¢å¼•æ–‡ä»¶ç”Ÿæˆï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®‰è£…æ’ä»¶: <code>npm install --save hexo-generator-search</code></li>
<li>æ ¹ç›®å½•ä¸‹çš„_config.ymlä¸­æ·»åŠ å¦‚ä¸‹é…ç½®å³å¯</li>
</ul>
<a id="more"></a>

<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">  field:</span> <span class="string">all</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ·»åŠ æœç´¢æ¡†ï¼Œåœ¨ä¸»é¢˜ç›®å½•<code>themes/yilia/layout/layout.ejs</code>ä¸‹çš„<code>&lt;div id=&quot;wrapper&quot; class=&quot;body-wrap&quot;&gt;</code>åé¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span>(<span class="attr">theme.search</span>) &#123; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page-header"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%#</span> ã€Šé›†æˆæœ¬åœ°æœç´¢ %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/search.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"local-search"</span> <span class="attr">class</span>=<span class="string">"local-search local-search-plugin"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"search"</span> <span class="attr">placeholder</span>=<span class="string">"ç«™å†…æœç´¢"</span> <span class="attr">id</span>=<span class="string">"local-search-input"</span> <span class="attr">class</span>=<span class="string">"local-search-input-cls"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">id</span>=<span class="string">"local-search-icon-search"</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">aria-hidden</span>=<span class="string">"true"</span> <span class="attr">title</span>=<span class="string">"ç«™å†…æœç´¢"</span>&gt;</span>ğŸ”<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"local-search-result"</span> <span class="attr">class</span>=<span class="string">"local-search-result-cls"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> ($(<span class="string">'.local-search'</span>).size()) &#123;</span></span><br><span class="line"><span class="javascript">            $.getScript(<span class="string">'/search/search.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">              searchFunc(<span class="string">"/search.xml"</span>, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">%#</span> é›†æˆæœ¬åœ°æœç´¢ã€‹ %&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrapper"</span> <span class="attr">class</span>=<span class="string">"body-wrap"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ–°å»º<code>themes/yilia/source/search</code>ç›®å½•ï¼ŒåŒæ—¶æ–°å¢<code>search.js</code>å’Œ<code>search.css</code>æ–‡ä»¶</li>
</ul>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<p><strong>search.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// A local search script with the help of hexo-generator-search</span></span><br><span class="line"><span class="comment">// Copyright (C) 2015 </span></span><br><span class="line"><span class="comment">// Joseph Pan &lt;http://github.com/wzpan&gt;</span></span><br><span class="line"><span class="comment">// Shuhao Mao &lt;http://github.com/maoshuhao&gt;</span></span><br><span class="line"><span class="comment">// This library is free software; you can redistribute it and/or modify</span></span><br><span class="line"><span class="comment">// it under the terms of the GNU Lesser General Public License as</span></span><br><span class="line"><span class="comment">// published by the Free Software Foundation; either version 2.1 of the</span></span><br><span class="line"><span class="comment">// License, or (at your option) any later version.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// This library is distributed in the hope that it will be useful, but</span></span><br><span class="line"><span class="comment">// WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span></span><br><span class="line"><span class="comment">// Lesser General Public License for more details.</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// You should have received a copy of the GNU Lesser General Public</span></span><br><span class="line"><span class="comment">// License along with this library; if not, write to the Free Software</span></span><br><span class="line"><span class="comment">// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA</span></span><br><span class="line"><span class="comment">// 02110-1301 USA</span></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> searchFunc = <span class="function"><span class="keyword">function</span> (<span class="params">path, search_id, content_id</span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    <span class="keyword">var</span> BTN = <span class="string">"&lt;i id='local-search-close'&gt;x&lt;/i&gt;"</span>;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: path,</span><br><span class="line">        dataType: <span class="string">"xml"</span>,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span> (<span class="params">xmlResponse</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// get the contents from search data</span></span><br><span class="line">            <span class="keyword">var</span> datas = $(<span class="string">"entry"</span>, xmlResponse).map(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    title: $(<span class="string">"title"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">                    content: $(<span class="string">"content"</span>, <span class="keyword">this</span>).text(),</span><br><span class="line">                    url: $(<span class="string">"url"</span>, <span class="keyword">this</span>).text()</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;).get();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> $input = <span class="built_in">document</span>.getElementById(search_id);</span><br><span class="line">            <span class="keyword">var</span> $resultContent = <span class="built_in">document</span>.getElementById(content_id);</span><br><span class="line"></span><br><span class="line">            $input.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> str = <span class="string">'&lt;ul class=\"search-result-list\"&gt;'</span>;</span><br><span class="line">                <span class="keyword">var</span> keywords = <span class="keyword">this</span>.value.trim().toLowerCase().split(<span class="regexp">/[\s\-]+/</span>);</span><br><span class="line">                $resultContent.innerHTML = <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.value.trim().length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// perform local searching</span></span><br><span class="line">                datas.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">var</span> content_index = [];</span><br><span class="line">                    <span class="keyword">if</span> (!data.title || data.title.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">                        data.title = <span class="string">"Untitled"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">var</span> data_title = data.title.trim().toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_url = data.url;</span><br><span class="line">                    <span class="keyword">var</span> index_title = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> index_content = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> first_occur = <span class="number">-1</span>;</span><br><span class="line">                    <span class="comment">// only match artiles with not empty contents</span></span><br><span class="line">                    <span class="keyword">if</span> (data_content !== <span class="string">''</span>) &#123;</span><br><span class="line">                        keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword, i</span>) </span>&#123;</span><br><span class="line">                            index_title = data_title.indexOf(keyword);</span><br><span class="line">                            index_content = data_content.indexOf(keyword);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                isMatch = <span class="literal">false</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                    index_content = <span class="number">0</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                                    first_occur = index_content;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="comment">// content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;);</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        isMatch = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// show search results</span></span><br><span class="line">                    <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">                        str += <span class="string">"&lt;li&gt;&lt;a href='"</span> + data_url +</span><br><span class="line">                            <span class="string">"' class='search-result-title'&gt;"</span> + data_title + <span class="string">"&lt;/a&gt;"</span>;</span><br><span class="line">                        <span class="keyword">var</span> content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>);</span><br><span class="line">                        <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="comment">// cut out 100 characters</span></span><br><span class="line">                            <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">                            <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                start = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</span><br><span class="line">                                end = <span class="number">100</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (end &gt; content.length) &#123;</span><br><span class="line">                                end = content.length;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">var</span> match_content = content.substr(start, end);</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// highlight all keywords</span></span><br><span class="line">                            keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword</span>) </span>&#123;</span><br><span class="line">                                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="built_in">RegExp</span>(keyword, <span class="string">"gi"</span>);</span><br><span class="line">                                match_content = match_content.replace(regS,</span><br><span class="line">                                    <span class="string">"&lt;em class=\"search-keyword\"&gt;"</span> +</span><br><span class="line">                                    keyword + <span class="string">"&lt;/em&gt;"</span>);</span><br><span class="line">                            &#125;);</span><br><span class="line"></span><br><span class="line">                            str += <span class="string">"&lt;p class=\"search-result\"&gt;"</span> + match_content +</span><br><span class="line">                                <span class="string">"...&lt;/p&gt;"</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        str += <span class="string">"&lt;/li&gt;"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                str += <span class="string">"&lt;/ul&gt;"</span>;</span><br><span class="line">                <span class="keyword">if</span> (str.indexOf(<span class="string">'&lt;li&gt;'</span>) === <span class="number">-1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> $resultContent.innerHTML = BTN +</span><br><span class="line">                        <span class="string">"&lt;ul&gt;&lt;span class='local-search-empty'&gt;æ²¡æœ‰æ‰¾åˆ°å†…å®¹ï¼Œæ›´æ¢ä¸‹æœç´¢è¯è¯•è¯•å§~&lt;span&gt;&lt;/ul&gt;"</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                $resultContent.innerHTML = BTN + str;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'focus'</span>, <span class="string">'#local-search'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-icon-search'</span>).html(<span class="string">'âŒ'</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-search'</span>).attr(<span class="string">'id'</span>, <span class="string">'local-search-icon-close'</span>);</span><br><span class="line">        <span class="comment">//console.log("66666");</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'#local-search-icon-close'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">'#local-search-input'</span>).val(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-result'</span>).html(<span class="string">''</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-close'</span>).html(<span class="string">'ğŸ”'</span>);</span><br><span class="line">        $(<span class="string">'#local-search-icon-close'</span>).attr(<span class="string">'id'</span>, <span class="string">'local-search-icon-search'</span>);</span><br><span class="line">        <span class="comment">//console.log("1111");</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>search.css</strong></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.local-search</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">16px</span> <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="comment">/* margin: 10px 0; */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="number">#4d4d4d</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-moz-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">::-ms-input-placeholder</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2d2626</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#local-search-close</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">'x'</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: consolas;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#local-search-close</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#666</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#222</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(180deg);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="comment">/* top: 50px; */</span></span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-class">.local-search-empty</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">450px</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(255, 255, 255, 0.9);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">4px</span> <span class="number">10px</span> <span class="number">#7dc3d8</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#bdb7b7</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>:none;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>:underline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">124px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-result-cls</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">em</span><span class="selector-class">.search-keyword</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#e58c7c</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">6</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.local-search-input-cls</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.local-search-plugin</span> <span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://gaomf.cn/2016/10/10/%E4%B8%BAHexo%E5%8D%9A%E5%AE%A2Yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E6%9C%AC%E5%9C%B0%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD/" target="_blank" rel="noopener">ä¸ºHexoåšå®¢Yiliaä¸»é¢˜æ·»åŠ æœ¬åœ°ç«™å†…æœç´¢åŠŸèƒ½</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
      </tags>
  </entry>
  <entry>
    <title>java tomcatæœåŠ¡æ— ç¼˜æ— æ•…æŒ‚æ‰åˆ†æå’Œè§£å†³æ–¹æ¡ˆ</title>
    <url>/share/tomcat-nowork.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘æœ‰åŒäº‹ååº”æœ‰æ—¶å€™xxxç³»ç»Ÿæœ‰æ—¶å€™ä¼šæ—¶ä¸æ—¶å‡ºç°æœåŠ¡å¼‚å¸¸æç¤ºï¼Œä¸€ä¸Šæœºå™¨ï¼Œå‘ç°xxxæœåŠ¡è¿›ç¨‹ä¸åœ¨ï¼Œé‡å¯æœåŠ¡ååˆæ¢å¤äº†ï¼Œæ‰€ä»¥è¿™è¾¹å°±éœ€è¦å»è·Ÿè¿›é—®é¢˜ã€‚</p>
<h1 id="é—®é¢˜å®šä½"><a href="#é—®é¢˜å®šä½" class="headerlink" title="é—®é¢˜å®šä½"></a>é—®é¢˜å®šä½</h1><p>java tomcatæœåŠ¡æŒ‚æ‰åŸå› ï¼Œä¸»è¦æ€€ç–‘æ–¹å‘æœ‰è¿™å‡ ä¸ªï¼š</p>
<ol>
<li>æœåŠ¡å™¨è¢«äººé‡å¯ï¼Œå¯¼è‡´æœåŠ¡æ²¡æœ‰èµ·æ¥</li>
<li>é”™è¯¯å¼‚å¸¸å¯¼è‡´ç¨‹åºæŒ‚æ‰</li>
<li>æœåŠ¡å™¨å ç”¨å†…å­˜è¿‡é«˜ï¼ŒLinuxå¼ºåˆ¶é€€å‡ºç¨‹åº</li>
<li>å…¶ä»–åŸå› <br>ä¸‹é¢å°±å¼€å§‹é€ä¸€æ’æŸ¥</li>
</ol>
<a id="more"></a>

<h2 id="æœåŠ¡å™¨é‡å¯"><a href="#æœåŠ¡å™¨é‡å¯" class="headerlink" title="æœåŠ¡å™¨é‡å¯"></a>æœåŠ¡å™¨é‡å¯</h2><p>å¦‚ä½•æŸ¥çœ‹æœåŠ¡å™¨æ˜¯å¦è¢«é‡å¯ï¼Œä¸»è¦ä¾æ®ä¸‹é¢çš„å‘½ä»¤ï¼š</p>
<p><code>who -b</code>æŸ¥çœ‹æœ€åä¸€æ¬¡é‡å¯æ—¶é—´</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1aca3c9b441642a5b913e2ea7778efe1~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"><br><code>last reboot</code> æŸ¥çœ‹æœåŠ¡å™¨å†å²é‡å¯</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2fb16e2d74b74654a20289db8a0c31c4~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>
<p>å‘ç°æœåŠ¡å™¨é‡å¯æ—¶é—´æ˜¯å‡ ä¸ªæœˆå‰çš„äº‹ï¼Œå› æ­¤å¯ä»¥æ’é™¤ã€‚</p>
<h2 id="é”™è¯¯å¼‚å¸¸å¯¼è‡´ç¨‹åºæŒ‚æ‰"><a href="#é”™è¯¯å¼‚å¸¸å¯¼è‡´ç¨‹åºæŒ‚æ‰" class="headerlink" title="é”™è¯¯å¼‚å¸¸å¯¼è‡´ç¨‹åºæŒ‚æ‰"></a>é”™è¯¯å¼‚å¸¸å¯¼è‡´ç¨‹åºæŒ‚æ‰</h2><p>javaæœåŠ¡é‡‡ç”¨spring logåˆ†çº§æ—¥å¿—ï¼Œç›´æ¥çœ‹å¯¹åº”æ—¶é—´ç‚¹æ—¥å¿—ï¼Œå¹¶æ²¡æœ‰å‘ç°ä»€ä¹ˆï¼Œå› æ­¤å¯ä»¥æ’é™¤æ‰ã€‚</p>
<h2 id="æœåŠ¡å™¨å ç”¨å†…å­˜è¿‡é«˜ï¼ŒLinuxå¼ºåˆ¶é€€å‡ºç¨‹åº"><a href="#æœåŠ¡å™¨å ç”¨å†…å­˜è¿‡é«˜ï¼ŒLinuxå¼ºåˆ¶é€€å‡ºç¨‹åº" class="headerlink" title="æœåŠ¡å™¨å ç”¨å†…å­˜è¿‡é«˜ï¼ŒLinuxå¼ºåˆ¶é€€å‡ºç¨‹åº"></a>æœåŠ¡å™¨å ç”¨å†…å­˜è¿‡é«˜ï¼ŒLinuxå¼ºåˆ¶é€€å‡ºç¨‹åº</h2><p>å¦‚ä½•æŸ¥çœ‹æœåŠ¡å™¨ç³»ç»Ÿæ—¥å¿—ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡ä»¶ï¼š<code>/var/log/messages</code>ã€‚</p>
<blockquote>
<p>messageæ—¥å¿—åŒ…å«äº†ç³»ç»Ÿå¯åŠ¨æ—¶çš„å¼•å¯¼æ¶ˆæ¯ï¼Œä»¥åŠç³»ç»Ÿè¿è¡Œæ—¶çš„å…¶ä»–çŠ¶æ€æ¶ˆæ¯ã€‚IO é”™è¯¯ã€ç½‘ç»œé”™è¯¯å’Œå…¶ä»–ç³»ç»Ÿé”™è¯¯éƒ½ä¼šè®°å½•åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚</p>
</blockquote>
<p>å¦‚ä½•æ’æŸ¥å‘¢ï¼Ÿæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br><code>cat /var/log/messages | grep java</code><br>ç„¶åå‘ç°æœ‰ä¸‹é¢æ—¥å¿—ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Out of memory: Kill process 9682 (java) score 9 or sacrifice child</span><br></pre></td></tr></table></figure>

<p>å› æ­¤åˆ¤æ–­ç”±äºå†…å­˜å ç”¨è¿‡é«˜ï¼ŒjavaæœåŠ¡è¢«ç³»ç»Ÿè¯¯æ€äº†ã€‚<br>æ—¢ç„¶å®šä½åˆ°é—®é¢˜æ ¹æºï¼Œé‚£ä¹ˆä¸ºäº†æ›´å¥½çš„è§£å†³é—®é¢˜ï¼Œæˆ‘ä»¬ç»§ç»­è¿½è¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆç³»ç»Ÿä¼škill javaæœåŠ¡ï¼Œè€Œä¸æ€æ‰å…¶ä»–è¿›ç¨‹å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦äº†è§£ä¸€ä¸‹Linux Out of Memory (OOM) killeræœºåˆ¶ã€‚</p>
<h1 id="Linux-OOMæœºåˆ¶"><a href="#Linux-OOMæœºåˆ¶" class="headerlink" title="Linux OOMæœºåˆ¶"></a>Linux OOMæœºåˆ¶</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p>Linuxå†…æ ¸è®¾è®¡çš„ä¸€ç§æœºåˆ¶ï¼Œåœ¨å†…å­˜ä¸è¶³çš„æ—¶å€™ï¼Œä¼šé€‰æ‹©ä¸€ä¸ªå ç”¨å†…å­˜è¾ƒå¤§çš„è¿›ç¨‹å¹¶killæ‰è¿™ä¸ªè¿›ç¨‹ï¼Œä»¥æ»¡è¶³ç³»ç»Ÿå†…å­˜ç”³è¯·éœ€æ±‚ã€‚</p>
<h2 id="è§¦å‘æœºåˆ¶"><a href="#è§¦å‘æœºåˆ¶" class="headerlink" title="è§¦å‘æœºåˆ¶"></a>è§¦å‘æœºåˆ¶</h2><p>è§¦å‘æ¡ä»¶ï¼šå†…å­˜ä¸è¶³ï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°å†…å­˜ä¸è¶³ï¼Œè¿™é‡Œæ¶‰åŠåˆ°Linuxå†…å­˜ç»“æ„å’Œä½¿ç”¨æœºåˆ¶ï¼š</p>
<ol>
<li>ç‰©ç†å†…å­˜ç»“æ„</li>
<li>overcommitæœºåˆ¶</li>
<li>OOM killeræœºåˆ¶</li>
</ol>
<h3 id="Linuxå†…å­˜ç»“æ„"><a href="#Linuxå†…å­˜ç»“æ„" class="headerlink" title="Linuxå†…å­˜ç»“æ„"></a>Linuxå†…å­˜ç»“æ„</h3><p>è¿™é‡Œå°±ç®€å•è®²ä¸€ä¸‹ï¼Œå…·ä½“æè¿°å¯ä»¥googleä¸€ä¸‹Linuxç‰©ç†å†…å­˜ç»“æ„ã€‚<br>Linuxç‰©ç†å†…å­˜ç»“æ„ï¼ŒLinuxå†…æ ¸ä¼šæŠŠç‰©ç†å†…å­˜æŒ‰ç…§<code>nodeï¼ˆèŠ‚ç‚¹ï¼‰ &gt; zoneï¼ˆåˆ†åŒºï¼‰&gt; page (å†…å­˜é¡µ)</code>ä¸‰çº§ç»“æ„è¿›è¡Œåˆ’åˆ†ï¼Œä¿—ç§°å†…å­˜ç®¡ç†ç³»ç»Ÿï¼Œç„¶åCPUä¼šæ ¹æ®è¿™ç§å†…å­˜ç®¡ç†ç³»ç»Ÿå»è°ƒç”¨å†…å­˜ã€‚ç®€å•ä»‹ç»ä»¥ä¸‹æ¦‚å¿µï¼š</p>
<ul>
<li>nodeèŠ‚ç‚¹ï¼šæ¯ä¸ªCPUéƒ½æœ‰è‡ªå·±çš„nodeå†…å­˜èŠ‚ç‚¹ï¼Œå¯ä»¥å¤šä¸ªä¹Ÿå¯ä»¥å•ä¸ªï¼Œå•ä¸ªå«UMAæ¶æ„ï¼Œå¤šä¸ªå«NUMAæ¶æ„</li>
<li>zoneåˆ†åŒºï¼šæ¯ä¸ªNodeåˆ’åˆ†å¾ˆå¤šzoneï¼Œæ¯ä¸ªzoneéƒ½æœ‰è‡ªå·±çš„åŠŸèƒ½å®šä¹‰ï¼Œè¿™ç§åªæ˜¯ä»è½¯ä»¶å±‚é¢åˆ’åˆ†å®šä¹‰ã€‚zoneé‡Œè¿˜æœ‰ä¸€ä¸ªæ¦‚å¿µå«åˆ†é…ä»·å€¼é“¾<ul>
<li>åˆ†é…ä»·å€¼é“¾ï¼š æ™®é€šçš„å†…å­˜åˆ†é…ä¼šæœ‰ä¸€ä¸ªâ€œä»·å€¼â€çš„å±‚æ¬¡ç»“æ„</li>
</ul>
</li>
<li>pageå†…å­˜é¡µï¼šå±äºzoneä¸‹é¢çš„å†…å­˜é¡µï¼Œæ¯ä¸ªé¡µåŸºç¡€å¤§å°æ˜¯4Kï¼Œä»–ä»¬ç»´æŠ¤åœ¨ä¸€ä¸ªå«free_areaçš„æ•°ç»„ç»“æ„ä¸­<br>ä¸‹é¢æ˜¯ä»ç½‘ä¸Šæ‰¾çš„Linuxç‰©ç†å†…å­˜ç»“æ„å›¾ï¼š</li>
</ul>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cca72d58e9a94f978d8cedf43a06a834~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>
<h3 id="è™šæ‹Ÿå†…å­˜-swapç©ºé—´"><a href="#è™šæ‹Ÿå†…å­˜-swapç©ºé—´" class="headerlink" title="è™šæ‹Ÿå†…å­˜(swapç©ºé—´)"></a>è™šæ‹Ÿå†…å­˜(swapç©ºé—´)</h3><p>ç›¸å¯¹äºç‰©ç†å†…å­˜ï¼Œåœ¨ Linux ä¸‹è¿˜æœ‰ä¸€ä¸ªè™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µï¼Œè™šæ‹Ÿå†…å­˜æ˜¯ä¸ºäº†æ»¡è¶³ç‰©ç†å†…å­˜çš„ä¸è¶³è€Œæå‡ºçš„ç­–ç•¥ï¼Œå®ƒæ˜¯åˆ©ç”¨ç£ç›˜ç©ºé—´è™šæ‹Ÿå‡ºçš„ä¸€å—é€»è¾‘å†…å­˜ã€‚ç”¨ä½œè™šæ‹Ÿå†…å­˜çš„ç£ç›˜ç©ºé—´è¢«ç§°ä¸º<code>äº¤æ¢ç©ºé—´</code>ï¼ˆåˆç§° <code>swap ç©ºé—´</code>ï¼‰ã€‚</p>
<p>äº†è§£Linuxç‰©ç†å†…å­˜ç»“æ„ï¼Œæˆ‘ä»¬æ˜ç™½Linux çš„å†…å­˜ç®¡ç†é‡‡å–çš„æ˜¯åˆ†é¡µå­˜å–æœºåˆ¶ï¼Œä¸ºäº†ä¿è¯ç‰©ç†å†…å­˜èƒ½å¾—åˆ°å……åˆ†çš„åˆ©ç”¨ï¼Œå†…æ ¸ä¼šåœ¨é€‚å½“çš„æ—¶å€™å°†ç‰©ç†å†…å­˜ä¸­ä¸ç»å¸¸ä½¿ç”¨çš„æ•°æ®å—è‡ªåŠ¨äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ä¸­ï¼Œè€Œå°†ç»å¸¸ä½¿ç”¨çš„ä¿¡æ¯ä¿ç•™åˆ°ç‰©ç†å†…å­˜ã€‚</p>
<p>Linux å†…å­˜è¿è¡Œæœºåˆ¶:</p>
<ul>
<li>Linux ç³»ç»Ÿä¼šä¸æ—¶åœ°è¿›è¡Œé¡µé¢äº¤æ¢æ“ä½œï¼Œä»¥ä¿æŒå°½å¯èƒ½å¤šçš„ç©ºé—²ç‰©ç†å†…å­˜ï¼Œå³ä½¿å¹¶æ²¡æœ‰ä»€ä¹ˆäº‹æƒ…éœ€è¦å†…å­˜ï¼ŒLinux ä¹Ÿä¼šäº¤æ¢å‡ºæš‚æ—¶ä¸ç”¨çš„å†…å­˜é¡µé¢ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥å¤§å¤§èŠ‚çœç­‰å¾…äº¤æ¢æ‰€éœ€çš„æ—¶é—´</li>
<li>Linux è¿›è¡Œé¡µé¢äº¤æ¢æ˜¯æœ‰æ¡ä»¶çš„ï¼Œä¸æ˜¯æ‰€æœ‰é¡µé¢åœ¨ä¸ç”¨æ—¶éƒ½äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜ï¼ŒLinux å†…æ ¸æ ¹æ®â€œæœ€è¿‘æœ€ç»å¸¸ä½¿ç”¨â€ç®—æ³•ï¼Œä»…ä»…å°†ä¸€äº›ä¸ç»å¸¸ä½¿ç”¨çš„é¡µé¢æ–‡ä»¶äº¤æ¢åˆ°è™šæ‹Ÿå†…å­˜</li>
</ul>
<p>è™šæ‹Ÿå†…å­˜æ˜¯å…è®¸è®¾ç½®å¤§å°ï¼Œè¿™ä¹Ÿæ˜¯è§£å†³OMM killerçš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå…·ä½“å¯ä»¥çœ‹åé¢çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 id="overcommitæœºåˆ¶"><a href="#overcommitæœºåˆ¶" class="headerlink" title="overcommitæœºåˆ¶"></a>overcommitæœºåˆ¶</h3><p>æœ‰äº†è™šæ‹Ÿå†…å­˜çš„å­˜åœ¨ï¼Œé‚£ä¹ˆè¿›ç¨‹å°±å¯ä»¥å‘ç³»ç»Ÿç”³è¯·æ¯”ç‰©ç†å‰©ä½™å†…å­˜æ›´å¤§çš„ä½¿ç”¨å†…å­˜ï¼š</p>
<blockquote>
<p>åœ¨å®é™…ç”³è¯·å†…å­˜çš„æ—¶å€™ï¼Œæ¯”å¦‚ç”³è¯·1Gï¼Œå¹¶ä¸ä¼šåœ¨ç‰©ç†åŒºåŸŸä¸­åˆ†é…1Gçš„çœŸå®ç‰©ç†å†…å­˜ï¼Œè€Œæ˜¯åˆ†é…1Gçš„è™šæ‹Ÿå†…å­˜ï¼Œç­‰åˆ°éœ€è¦çš„æ—¶å€™æ‰å»çœŸæ­£ç”³è¯·ç‰©ç†å†…å­˜ï¼Œä¹Ÿå°±æ˜¯è¯´ç”³è¯·ä¸ç­‰äºåˆ†é…</p>
</blockquote>
<p>è¿™å°±æ˜¯overcommitæœºåˆ¶ï¼Œå…è®¸è¿›ç¨‹ç”³è¯·æ¯”ç‰©ç†å†…å­˜å®é™…å¤§çš„å†…å­˜ã€‚ä½†æ˜¯è¿™ä¼šé¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼Œå½“è¿›ç¨‹çœŸæ­£éœ€è¦è¿™ä¹ˆå¤šå†…å­˜æ€ä¹ˆåŠï¼ŒLinuxçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯OOM killerã€‚</p>
<p>å½“ç„¶ï¼Œovercommitä¹Ÿå…è®¸è®¾ç½®å‡ ç§å€¼(vm.overcommit_memory)ï¼š</p>
<ul>
<li>0 â€“ Heuristic overcommit handling. è¿™æ˜¯ç¼ºçœå€¼ï¼Œå®ƒå…è®¸overcommitï¼Œä½†è¿‡äºæ˜ç›®å¼ èƒ†çš„overcommitä¼šè¢«æ‹’ç»ï¼Œæ¯”å¦‚mallocä¸€æ¬¡æ€§ç”³è¯·çš„å†…å­˜å¤§å°å°±è¶…è¿‡äº†ç³»ç»Ÿæ€»å†…å­˜</li>
<li>1 â€“ Always overcommit. å…è®¸overcommitï¼Œå¯¹å†…å­˜ç”³è¯·æ¥è€…ä¸æ‹’ã€‚</li>
<li>2 â€“ Donâ€™t overcommit. ç¦æ­¢overcommitã€‚</li>
</ul>
<h2 id="OOM-killeræœºåˆ¶"><a href="#OOM-killeræœºåˆ¶" class="headerlink" title="OOM killeræœºåˆ¶"></a>OOM killeræœºåˆ¶</h2><p>è®²å®Œovercommitï¼Œç»ˆäºæ¥åˆ°æœ¬æ–‡é‡ç‚¹ï¼ŒOOM killeræœºåˆ¶ï¼Œè¿™åº”è¯¥æ˜¯å¾ˆå¤šLinuxç³»ç»Ÿéƒ¨ç½²æœåŠ¡ï¼Œå¼€å‘è€…æ‰€è¦é¢ä¸´å¤´ç–¼åœ°æ–¹ã€‚<br>OOM killerï¼Œå…¨ç§° Out Of Memory Killerï¼Œä¿—ç§°å†…å­˜æº¢å‡ºæ€æ‰‹ã€‚å®ƒæ˜¯å¦‚ä½•æ‰§è¡Œçš„å‘¢?</p>
<blockquote>
<p>OMM killeræœºåˆ¶ï¼šlinuxä¼šä¸ºæ¯ä¸ªè¿›ç¨‹ç®—ä¸€ä¸ªåˆ†æ•°ï¼Œæœ€ç»ˆä»–ä¼šå°†åˆ†æ•°æœ€é«˜çš„è¿›ç¨‹kill</p>
</blockquote>
<p>æœ‰ä¸‰ä¸ªè¿›ç¨‹è®¾ç½®å€¼å¯ä»¥å½±å“åˆ°åˆ†æ•°å€¼ï¼Œå¯æ‰‹åŠ¨è®¾ç½®ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šéƒ½ä¸ä¼šç”¨ä¸Šï¼Œä»…ç”¨æ¥äº†è§£æˆ–è€…ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><code>/proc/&lt;pid&gt;/oom_score_adj</code>, å–å€¼èŒƒå›´ä¸º-1000åˆ°1000ï¼Œ å¦‚æœå°†è¯¥å€¼è®¾ç½®ä¸º-1000ï¼Œåˆ™è¿›ç¨‹æ°¸è¿œä¸ä¼šè¢«æ€æ­»ï¼Œå› ä¸ºæ­¤æ—¶ badness score æ°¸è¿œè¿”å›0</li>
<li><code>/proc/&lt;pid&gt;/oom_adj</code>, å–å€¼æ˜¯-17åˆ°+15ï¼Œå–å€¼è¶Šé«˜ï¼Œè¶Šå®¹æ˜“è¢«å¹²æ‰ã€‚å¦‚æœæ˜¯-17ï¼Œåˆ™è¡¨ç¤ºä¸èƒ½è¢«kill</li>
<li><code>/proc/&lt;pid&gt;/oom_score</code>, æ˜¯ç³»ç»Ÿç»¼åˆè¿›ç¨‹çš„å†…å­˜æ¶ˆè€—é‡ã€CPUæ—¶é—´(utime + stime)ã€å­˜æ´»æ—¶é—´(uptime - start time)å’Œoom_adjè®¡ç®—å‡ºçš„ï¼Œæ¶ˆè€—å†…å­˜è¶Šå¤šåˆ†è¶Šé«˜ã€‚</li>
</ul>
<p>é™¤äº†è¿™ä¸‰ä¸ªå€¼ï¼Œè¿˜æœ‰ä¸€ç§è®¡ç®—æ–¹å¼ï¼šå­è¿›ç¨‹å†…å­˜ï¼šLinuxåœ¨è®¡ç®—è¿›ç¨‹çš„å†…å­˜æ¶ˆè€—çš„æ—¶å€™ï¼Œä¼šå°†å­è¿›ç¨‹æ‰€è€—å†…å­˜çš„ä¸€åŠåŒæ—¶ç®—åˆ°çˆ¶è¿›ç¨‹ä¸­ã€‚è¿™æ ·ï¼Œé‚£äº›å­è¿›ç¨‹æ¯”è¾ƒå¤šçš„è¿›ç¨‹å°±è¦å°å¿ƒäº†ã€‚</p>
<h3 id="å¦‚ä½•ç¡®å®šè¿›ç¨‹æ˜¯è¢«OOM-killerå¹²æ‰çš„"><a href="#å¦‚ä½•ç¡®å®šè¿›ç¨‹æ˜¯è¢«OOM-killerå¹²æ‰çš„" class="headerlink" title="å¦‚ä½•ç¡®å®šè¿›ç¨‹æ˜¯è¢«OOM killerå¹²æ‰çš„"></a>å¦‚ä½•ç¡®å®šè¿›ç¨‹æ˜¯è¢«OOM killerå¹²æ‰çš„</h3><p>java tomcatæŸ¥çœ‹ä¹‹å‰çš„è¿›ç¨‹idæˆ–è¿›ç¨‹åï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤<code>ps -ef | grep java</code>è·å–åˆ°ã€‚<br>å…¶æ¬¡ï¼ŒæŸ¥æ‰¾ç³»ç»Ÿæ—¥å¿—<code>grep &quot;Out of memory&quot; /var/log/messages</code>ï¼Œå¯¹æ¯”ä¸€ä¸‹è¿›ç¨‹idæˆ–è¿›ç¨‹åï¼Œè¿›è¡Œåˆ¤æ–­ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e8bc25d25784a47ad2f4c2780581d1d~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><h2 id="å…³é—­OOMæœºåˆ¶-ä¸æ¨èï¼Œå¯ä½œä¸ºä¸´æ—¶è§£å†³æ–¹æ¡ˆ"><a href="#å…³é—­OOMæœºåˆ¶-ä¸æ¨èï¼Œå¯ä½œä¸ºä¸´æ—¶è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å…³é—­OOMæœºåˆ¶(ä¸æ¨èï¼Œå¯ä½œä¸ºä¸´æ—¶è§£å†³æ–¹æ¡ˆ)"></a>å…³é—­OOMæœºåˆ¶(ä¸æ¨èï¼Œå¯ä½œä¸ºä¸´æ—¶è§£å†³æ–¹æ¡ˆ)</h2><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sysctl -w vm.overcommit_memory=2</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo "vm.overcommit_memory=2" &gt;&gt; /etc/sysctl.conf</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä¿®æ”¹è¿›ç¨‹oom_score_adjå€¼ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo echo -1000 &gt; /proc/$pid/oom_score_adj</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ä¿®æ”¹è¿›ç¨‹oom_adjå€¼:</p>
<ul>
<li>/proc/PID/oom_adjæ–‡ä»¶ï¼Œå°†å…¶ç½®ä½-17</li>
</ul>
<h2 id="è®¾ç½®javaè¿›ç¨‹æœ€å¤§å ç”¨å†…å­˜-æ¨è"><a href="#è®¾ç½®javaè¿›ç¨‹æœ€å¤§å ç”¨å†…å­˜-æ¨è" class="headerlink" title="è®¾ç½®javaè¿›ç¨‹æœ€å¤§å ç”¨å†…å­˜(æ¨è)"></a>è®¾ç½®javaè¿›ç¨‹æœ€å¤§å ç”¨å†…å­˜(æ¨è)</h2><p>java tomcatæœåŠ¡åœ¨å¯ç”¨è¿›ç¨‹çš„æ—¶å€™å¯ä»¥è®¾ç½®å ç”¨æœ€å¤§å†…å­˜ï¼Œå…·ä½“æ•°å€¼å¯ä»¥å‚è€ƒå½“å‰æœåŠ¡å™¨æ‰€å‰©ä½™çš„å†…å­˜è®¾ç½®ï¼Œå…·ä½“è®¾ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java -Xms512m -Xmx512m -jar xxx.jar</span><br></pre></td></tr></table></figure>

<ul>
<li>Xms: æœ€å°å†…å­˜</li>
<li>Xmx: æœ€å¤§å†…å­˜<br>tomcatå¯ä»¥åœ¨<code>TOMCAT_HOME/bin/catalina.sh</code>ä¸­è®¾ç½®:<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åœ¨cygwin=<span class="literal">false</span>å‰</span></span><br><span class="line">JAVA_OPTS="-server -Xms256m -Xmx512m -XX:PermSize=64M -XX:MaxPermSize=128m"</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="javaå®ˆæŠ¤è¿›ç¨‹-æ¨è"><a href="#javaå®ˆæŠ¤è¿›ç¨‹-æ¨è" class="headerlink" title="javaå®ˆæŠ¤è¿›ç¨‹(æ¨è)"></a>javaå®ˆæŠ¤è¿›ç¨‹(æ¨è)</h2><p>é™¤äº†è®¾ç½®æœ€å¤§å ç”¨å†…å­˜è®¾ç½®ï¼Œè¿˜å¯ä»¥å¢åŠ å®ˆæŠ¤è¿›ç¨‹ä»è€Œé¿å…æœåŠ¡å¼‚å¸¸æŒ‚æ‰è¿›è¡Œé‡å¯ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ol>
<li>ç¬¬ä¸€ç§å¸¸ç”¨ï¼Œé€šè¿‡è®¾ç½®<code>crontab</code>è„šæœ¬å»å®ˆæŠ¤ã€‚</li>
<li>ç¬¬äºŒç§æ˜¯Java <code>jsvc</code>æ–¹æ¡ˆï¼Œåˆ©ç”¨å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹å»ç›‘æ§æ§åˆ¶æœåŠ¡è¿›ç¨‹ï¼Œä»è€Œé¿å…è¿›ç¨‹æ— ç¼˜æ— æ•…æŒ‚æ‰è‡ªåŠ¨é‡å¯ï¼Œtomcatæœ¬èº«å·²æœ‰<code>daemon.sh</code>ï¼Œå¯ä»¥ç›´æ¥è¯¥è„šæœ¬å³å¯ã€‚</li>
</ol>
<h2 id="ä¼˜åŒ–ä»£ç -æœ‰èƒ½åŠ›è€…å¯ä»¥é‡‡ç”¨"><a href="#ä¼˜åŒ–ä»£ç -æœ‰èƒ½åŠ›è€…å¯ä»¥é‡‡ç”¨" class="headerlink" title="ä¼˜åŒ–ä»£ç (æœ‰èƒ½åŠ›è€…å¯ä»¥é‡‡ç”¨)"></a>ä¼˜åŒ–ä»£ç (æœ‰èƒ½åŠ›è€…å¯ä»¥é‡‡ç”¨)</h2><p>è¿™ä¸ªå¯èƒ½éœ€è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æäº†ï¼Œä¼˜åŒ–ä»£ç å ç”¨å†…å­˜ï¼Œjavaç½‘ä¸Šæœ‰å¾ˆå¤šæ–¹æ¡ˆï¼Œå¤§å®¶å„è‡ªé‡‡çº³ç¬¦åˆè‡ªå·±çš„æ–¹æ¡ˆå³å¯ã€‚</p>
<h2 id="ç”³è¯·æ›´å¤šå†…å­˜-åœŸè±ªéšæ„"><a href="#ç”³è¯·æ›´å¤šå†…å­˜-åœŸè±ªéšæ„" class="headerlink" title="ç”³è¯·æ›´å¤šå†…å­˜(åœŸè±ªéšæ„)"></a>ç”³è¯·æ›´å¤šå†…å­˜(åœŸè±ªéšæ„)</h2><p>æ—¢ç„¶æ˜¯å†…å­˜ä¸å¤Ÿï¼Œé‚£ä¹ˆå°±ç›´æ¥ç”³è¯·æ›´å¤šèµ„æºï¼Œå°±å¯ä»¥æ»¡è¶³äº†ï¼Œçœ‹æ¥è¿˜æ˜¯æœ‰é’±å°±èƒ½æ›´å¿«è§£å†³é—®é¢˜ã€‚</p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨é¡µé¢å¡ä½å®šä½åˆ†æ</title>
    <url>/share/page-notwork.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ‰ç«¥é‹åœ¨xxxç³»ç»Ÿé¡µé¢åé¦ˆï¼Œé‡åˆ°åœ¨å¼¹å‡ºæ¡†åæ•´ä¸ªé¡µé¢å¡ä½æ— æ³•ä½¿ç”¨çš„æƒ…å†µï¼Œå±äºå¿…ç°é—®é¢˜ã€‚å› æ­¤éœ€è¦è·Ÿè¸ªå®šä½é—®é¢˜ã€‚</p>
<h1 id="é—®é¢˜å®šä½"><a href="#é—®é¢˜å®šä½" class="headerlink" title="é—®é¢˜å®šä½"></a>é—®é¢˜å®šä½</h1><p>ä¸€èˆ¬åœ¨æµè§ˆå™¨é‡åˆ°è¿™ç§é—®é¢˜ï¼ŒåŸºæœ¬ä¸Šéƒ½æŸæ®µé€»è¾‘è¿›å…¥æ­»å¾ªç¯å¯¼è‡´æµè§ˆå™¨å†…æ ¸å¤„ç†ä¸è¿‡æ¥å¯¼è‡´çš„é¡µé¢å¡ä½åŠ¨ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä½¿ç”¨Chromeå¼€å‘è°ƒè¯•å·¥å…·è¿›è¡Œè·Ÿè¸ªå®šä½çš„ã€‚</p>
<a id="more"></a>

<h2 id="chrome-sourceè°ƒè¯•å·¥å…·"><a href="#chrome-sourceè°ƒè¯•å·¥å…·" class="headerlink" title="chrome sourceè°ƒè¯•å·¥å…·"></a>chrome sourceè°ƒè¯•å·¥å…·</h2><p>æŒ‰ç…§<code>F12</code>æˆ–è€…<code>Command + Alt + J</code>å¯ä»¥æ‰“å¼€æµè§ˆå™¨çš„è°ƒè¯•å·¥å…·ï¼Œç„¶åæ‰¾åˆ°<code>Source</code> æˆ– <code>æºä»£ç </code>Tabé¡µã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/106719ede96442b7a262bba5a68c9775~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>
<h3 id="æ­¥éª¤ä¸€ï¼šç‚¹å‡»-æŒ‰é’®ï¼Œè¿›å…¥è°ƒè¯•æ¨¡å¼ï¼š"><a href="#æ­¥éª¤ä¸€ï¼šç‚¹å‡»-æŒ‰é’®ï¼Œè¿›å…¥è°ƒè¯•æ¨¡å¼ï¼š" class="headerlink" title="æ­¥éª¤ä¸€ï¼šç‚¹å‡»=æŒ‰é’®ï¼Œè¿›å…¥è°ƒè¯•æ¨¡å¼ï¼š"></a>æ­¥éª¤ä¸€ï¼šç‚¹å‡»<code>=</code>æŒ‰é’®ï¼Œè¿›å…¥è°ƒè¯•æ¨¡å¼ï¼š</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb7c6dc349554dd284aca3684d281323~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>
<h3 id="æ­¥éª¤äºŒï¼šè°ƒè¯•ä»£ç ï¼ŒæŸ¥çœ‹å¡ä½ä»£ç æ®µï¼š"><a href="#æ­¥éª¤äºŒï¼šè°ƒè¯•ä»£ç ï¼ŒæŸ¥çœ‹å¡ä½ä»£ç æ®µï¼š" class="headerlink" title="æ­¥éª¤äºŒï¼šè°ƒè¯•ä»£ç ï¼ŒæŸ¥çœ‹å¡ä½ä»£ç æ®µï¼š"></a>æ­¥éª¤äºŒï¼šè°ƒè¯•ä»£ç ï¼ŒæŸ¥çœ‹å¡ä½ä»£ç æ®µï¼š</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b758994a5bb04938bc035b397465ab8b~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>
<h3 id="æ­¥éª¤ä¸‰ï¼š-å®šä½ä»£ç æ®µ"><a href="#æ­¥éª¤ä¸‰ï¼š-å®šä½ä»£ç æ®µ" class="headerlink" title="æ­¥éª¤ä¸‰ï¼š å®šä½ä»£ç æ®µ"></a>æ­¥éª¤ä¸‰ï¼š å®šä½ä»£ç æ®µ</h3><p>ç¡®å®šæ˜¯å“ªæ®µä»£ç åï¼Œå°±å¯ä»¥å¼€å§‹åˆ†æä»£ç æ®µæ˜¯å±äºå“ªé‡Œï¼Œæœ€ç»ˆæ‰¾åˆ°classnameï¼Œå®šä½åˆ°æ˜¯å±äºæ°´å°æ’ä»¶å¯¼è‡´ã€‚</p>
<h1 id="é—®é¢˜åˆ†æ-æ°´å°æ’ä»¶"><a href="#é—®é¢˜åˆ†æ-æ°´å°æ’ä»¶" class="headerlink" title="é—®é¢˜åˆ†æ(æ°´å°æ’ä»¶)"></a>é—®é¢˜åˆ†æ(æ°´å°æ’ä»¶)</h1><h2 id="ä¸ºä»€ä¹ˆï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆï¼Ÿ"></a>ä¸ºä»€ä¹ˆï¼Ÿ</h2><p>ä¸ºä»€ä¹ˆæ°´å°æ’ä»¶ä¼šå¯¼è‡´é¡µé¢è¿›è¡Œæ­»å¾ªç¯å‘¢ï¼Ÿè¿™ä¸ªå°±è¦è·Ÿè¸ªåˆ°æ°´å°æ’ä»¶ï¼Œç›®å‰é‡‡ç”¨çš„<code>@pansy/watermark</code>å¼€æºæ’ä»¶ï¼Œç„¶åæ‰¾åˆ°å…¶github issuesï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ç›¸å…³issuesã€‚æœä¸å…¶ç„¶ï¼Œè¿˜çœŸçš„æ‰¾åˆ°äº†ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/95eab9a9613d4e409ad09f906acf9d33~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>
<p><a href="https://github.com/pansyjs/watermark/issues/129" target="_blank" rel="noopener">å…¨å±€æ°´å°ä¸å…¶å®ƒé®ç½©å±‚å†²çª</a><br>é‚£ä¹ˆæ¥ä¸‹æ¥å°±å¼€å§‹è·Ÿè¸ªä»–ä»¬çš„ä»£ç è¿›è¡Œå…·ä½“åˆ†æã€‚</p>
<h1 id="æ°´å°æ’ä»¶å®ç°åŸç†"><a href="#æ°´å°æ’ä»¶å®ç°åŸç†" class="headerlink" title="æ°´å°æ’ä»¶å®ç°åŸç†"></a>æ°´å°æ’ä»¶å®ç°åŸç†</h1><p>åœ¨ä¸Šé¢è°ƒè¯•é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰çœ‹åˆ°ä¸€æ®µä»£ç <code>MoutationRecord</code>ï¼Œå…¶å®è¿™å·²ç»ç®—æ˜¯æ°´å°æ’ä»¶çš„é‡è¦å®ç°åŸç†ä¹‹ä¸€äº†ã€‚</p>
<p>çœ‹äº†æ’ä»¶æºä»£ç ï¼Œå…¶å®å°±å‡ åƒè¡Œä»£ç ï¼Œæ°´å°æ’ä»¶å®ç°åŸç†æœ‰å‡ ä¸ªç‚¹ï¼š</p>
<ol>
<li>åˆ©ç”¨<code>Shadow DOM</code>æˆ–è€…<code>div</code>DOMèŠ‚ç‚¹å»æ’å…¥æ°´å°ï¼Œåˆ©ç”¨z-indexæ˜¾ç¤ºåˆ°æœ€å‰æ–¹</li>
<li>åŒæ—¶è®¾ç½®<code>pointer-events: none;</code>ç¦æ­¢ä»»ä½•æ“ä½œï¼ŒåŒ…æ‹¬ï¼šé€‰æ‹©ã€ç‚¹å‡»ç­‰ï¼Œå®ç°ä¸é˜»ç¢å…¶ä»–å…ƒç´ æ“ä½œ</li>
<li>åˆ©ç”¨canvasç”Ÿæˆæ°´å°å›¾ç‰‡(base64)</li>
<li>è®¾ç½®æ°´å°èŠ‚ç‚¹èƒŒæ™¯å›¾ç‰‡ä¸ºæ°´å°å›¾ç‰‡(base64)</li>
<li>ä½¿ç”¨MutationObserverç›‘å¬domå…ƒç´ å˜åŒ–é‡å¤æ¸²æŸ“ç”Ÿæˆæ°´å°å›¾ç‰‡ï¼Œé˜²æ­¢æ°´å°è¢«äººä¸ºåˆ é™¤<br>å…¶ä¸­æ¶‰åŠåˆ°å‡ ä¸ªå…³é”®æŠ€æœ¯ç‚¹ä¸º:</li>
</ol>
<ul>
<li><code>pointer-events: none</code></li>
<li>é€šè¿‡canvasç”Ÿæˆå›¾ç‰‡</li>
<li>MutationObserverç›‘å¬<br>å½“ç„¶ï¼Œè¿˜æœ‰<code>Shadow DOM</code>å’Œcanvasç­‰æŠ€æœ¯ç‚¹ä¹Ÿå¯ä»¥è‡ªå·±å»ç ”ç©¶å­¦ä¹ ï¼Œåé¢å†ç”¨ä¸€äº›ç¯‡ç« è¯¦ç»†è®²è§£ã€‚</li>
</ul>
<h2 id="pointer-events"><a href="#pointer-events" class="headerlink" title="pointer-events"></a>pointer-events</h2><p>ä»MDNä¸­å®ƒæ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š</p>
<blockquote>
<p>** <code>pointer-events</code> ** CSS å±æ€§æŒ‡å®šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ (å¦‚æœæœ‰) æŸä¸ªç‰¹å®šçš„å›¾å½¢å…ƒç´ å¯ä»¥æˆä¸ºé¼ æ ‡äº‹ä»¶çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target" target="_blank" rel="noopener">target (en-US)</a>ã€‚</p>
</blockquote>
<p>ç®€å•è§£é‡Šä¸€ä¸‹ï¼Œå°±æ˜¯å¯ä»¥é€šè¿‡è¯¥å±æ€§è®¾ç½®DOMå…ƒç´ çš„é¼ æ ‡äº‹ä»¶ï¼Œå¾ˆå¤šå¯¹åº”å€¼éƒ½æ˜¯ç»™svgå“åº”é¼ æ ‡äº‹ä»¶èŒƒå›´æ‰€è®¾ç½®çš„ã€‚</p>
<p>è¿™é‡Œé‡ç‚¹è§£é‡Šä¸€ä¸‹<code>auto</code>ã€<code>none</code>ä¸¤ç§å€¼ï¼š</p>
<blockquote>
<p><code>auto</code>:ä¸ <code>pointer-events</code> å±æ€§æœªæŒ‡å®šæ—¶çš„è¡¨ç°æ•ˆæœç›¸åŒï¼Œå¯¹äº SVG å†…å®¹ï¼Œè¯¥å€¼ä¸ <code>visiblePainted</code> æ•ˆæœç›¸åŒ</p>
<p><code>none</code>:å…ƒç´ æ°¸è¿œä¸ä¼šæˆä¸ºé¼ æ ‡äº‹ä»¶çš„<a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target" target="_blank" rel="noopener">target (en-US)</a>ã€‚ä½†æ˜¯ï¼Œå½“å…¶åä»£å…ƒç´ çš„ <code>pointer-events</code> å±æ€§æŒ‡å®šå…¶ä»–å€¼æ—¶ï¼Œé¼ æ ‡äº‹ä»¶å¯ä»¥æŒ‡å‘åä»£å…ƒç´ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé¼ æ ‡äº‹ä»¶å°†åœ¨æ•è·æˆ–å†’æ³¡é˜¶æ®µè§¦å‘çˆ¶å…ƒç´ çš„äº‹ä»¶ä¾¦å¬å™¨ã€‚</p>
</blockquote>
<p>ç®€å•è¯´ï¼Œ<code>auto</code>æ˜¯é»˜è®¤å€¼ï¼Œå¯ä»¥è§¦å‘è¯¥å…ƒç´ æœ¬èº«å°±æœ‰çš„é¼ æ ‡äº‹ä»¶ã€‚<br><code>none</code>åˆ™ä»£è¡¨å–æ¶ˆè¯¥å…ƒç´ åŸæœ‰çš„é¼ æ ‡äº‹ä»¶ï¼Œå¯ä»¥ç›´æ¥é€è¿‡è¯¥å…ƒç´ ç›´æ¥è§¦å‘ä¸‹æ–¹å…ƒç´ é¼ æ ‡äº‹ä»¶ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">a[href=&quot;http://example.com&quot;] &#123;</span><br><span class="line">  pointer-events: none;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li&gt;&lt;a href=&quot;https://developer.mozilla.org/&quot;&gt;MDN&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;!-- ç‚¹å‡»é“¾æ¥ http://example.com æ—¶ï¼Œä¸ä¼šè·³è½¬ --&gt;</span><br><span class="line">&lt;a href=&quot;http://example.com&quot;&gt;example.com&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

<h2 id="MutationObserverç›‘å¬"><a href="#MutationObserverç›‘å¬" class="headerlink" title="MutationObserverç›‘å¬"></a>MutationObserverç›‘å¬</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>MDNå®šä¹‰ï¼š</p>
<blockquote>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver" target="_blank" rel="noopener"><code>MutationObserver</code></a> æ¥å£æä¾›äº†ç›‘è§†å¯¹ DOM æ ‘æ‰€åšæ›´æ”¹çš„èƒ½åŠ›ã€‚å®ƒè¢«è®¾è®¡ä¸ºæ—§çš„ Mutation Events åŠŸèƒ½çš„æ›¿ä»£å“ï¼Œè¯¥åŠŸèƒ½æ˜¯ DOM3 Events è§„èŒƒçš„ä¸€éƒ¨åˆ†ã€‚</p>
</blockquote>
<p>ç®€å•è¯´ï¼Œå°±æ˜¯å¯ä»¥ç›‘å¬æŸä¸ªDOMèŠ‚ç‚¹ä¸‹å…ƒç´ å‘ç”Ÿå˜åŒ–è§¦å‘çš„äº‹ä»¶ã€‚<br>æ”¯æŒæ–¹æ³•ï¼š</p>
<ul>
<li><code>disconnect()</code>ï¼Œæ³¨é”€ç›‘å¬æ–¹æ³•</li>
<li><code>observe()</code>,å¼€å§‹ç›‘å¬</li>
<li><code>takeRecords()</code>, å–æ¶ˆé€šçŸ¥é˜Ÿåˆ—</li>
</ul>
<p>å…·ä½“ä½¿ç”¨æ¡ˆä¾‹(æ¥è‡ªMDN)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// é€‰æ‹©éœ€è¦è§‚å¯Ÿå˜åŠ¨çš„èŠ‚ç‚¹</span><br><span class="line">const targetNode = document.getElementById(&apos;some-id&apos;);</span><br><span class="line"></span><br><span class="line">// è§‚å¯Ÿå™¨çš„é…ç½®ï¼ˆéœ€è¦è§‚å¯Ÿä»€ä¹ˆå˜åŠ¨ï¼‰</span><br><span class="line">const config = &#123; attributes: true, childList: true, subtree: true &#125;;</span><br><span class="line"></span><br><span class="line">// å½“è§‚å¯Ÿåˆ°å˜åŠ¨æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°</span><br><span class="line">const callback = function(mutationsList, observer) &#123;</span><br><span class="line">    // Use traditional &apos;for loops&apos; for IE 11</span><br><span class="line">    for(let mutation of mutationsList) &#123;</span><br><span class="line">        if (mutation.type === &apos;childList&apos;) &#123;</span><br><span class="line">            console.log(&apos;A child node has been added or removed.&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">        else if (mutation.type === &apos;attributes&apos;) &#123;</span><br><span class="line">            console.log(&apos;The &apos; + mutation.attributeName + &apos; attribute was modified.&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºä¸€ä¸ªè§‚å¯Ÿå™¨å®ä¾‹å¹¶ä¼ å…¥å›è°ƒå‡½æ•°</span><br><span class="line">const observer = new MutationObserver(callback);</span><br><span class="line"></span><br><span class="line">// ä»¥ä¸Šè¿°é…ç½®å¼€å§‹è§‚å¯Ÿç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">observer.observe(targetNode, config);</span><br><span class="line"></span><br><span class="line">// ä¹‹åï¼Œå¯åœæ­¢è§‚å¯Ÿ</span><br><span class="line">observer.disconnect();</span><br></pre></td></tr></table></figure>

<h3 id="å¸¸ç”¨åœºæ™¯"><a href="#å¸¸ç”¨åœºæ™¯" class="headerlink" title="å¸¸ç”¨åœºæ™¯"></a>å¸¸ç”¨åœºæ™¯</h3><ul>
<li>é˜²æ­¢ç¬¬ä¸‰æ–¹æ³¨å…¥jsæ–‡ä»¶ï¼ˆè¿è¥å•†åŠ«æŒï¼‰</li>
<li>é˜²æ­¢åˆ é™¤å‰ç«¯ç”Ÿæˆçš„æ°´å°</li>
<li>ç”¨æ¥å¤„ç†é¡µé¢çš„æ•æ„Ÿæ•°æ®</li>
<li>Vue.$nextTickçš„å®ç°å¾®ä»»åŠ¡åŸç†</li>
</ul>
<p>æ‰€ä»¥ä»é—®é¢˜å®šä½ä¸­ï¼Œåˆ†ææ°´å°é™·å…¥æ­»å¾ªç¯å¾ˆå¯èƒ½å°±æ˜¯è¿™ä¸€éƒ¨åˆ†ä»£ç ã€‚</p>
<h2 id="å®šä½é—®é¢˜"><a href="#å®šä½é—®é¢˜" class="headerlink" title="å®šä½é—®é¢˜"></a>å®šä½é—®é¢˜</h2><p>å›åˆ°æœ€å¼€å§‹ï¼Œæˆ‘ä»¬æ˜¯ä»€ä¹ˆæ—¶å€™ä¼šé‡åˆ°é¡µé¢å¡é¡¿ï¼Œå½“é¡µé¢å‡ºç°å¼¹æ¡†çš„æ—¶å€™ï¼Œä¼šå‡ºç°é¡µé¢å¡é¡¿ã€‚</p>
<p>åŒæ—¶æ‰¾åˆ°æ’ä»¶çš„issues(æŸ¥çœ‹issueä¹Ÿæ˜¯ä¸€ç§å¿«é€Ÿè§£å†³é—®é¢˜çš„é€”å¾„)ï¼Œæè¿°å¦‚ä¸‹:</p>
<blockquote>
<p>vueç‰ˆæœ¬ä½¿ç”¨å…¨å±€æ°´å° <code>:is-body=&quot;true&quot;</code>  å¹¶ä¸”å¼€å¯ä¿æŠ¤æ¨¡å¼çš„æƒ…å†µä¸‹,è§¦å‘å¸¦é®ç½©çš„äº‹ä»¶å°±ä¼šå¯¼è‡´é¡µé¢æ— å“åº”,ä¸”æ— æ³•æ¢å¤;<br>å¸¦é®ç½©çš„äº‹ä»¶å¦‚å¯¹è¯æ¡†å¼¹çª—/å›¾ç‰‡ç‚¹å‡»æ”¾å¤§;<br>æµ‹è¯•åå‘ç°å…³é—­ä¿æŠ¤æ¨¡å¼ <code>watermark.options.monitor = false</code> ,æˆ–è€…ä¸ä½¿ç”¨å…¨å±€æ°´å°æ²¡æœ‰å‡ºç°è¯¥é—®é¢˜;<br><a href="https://github.com/pansyjs/watermark/issues/129" target="_blank" rel="noopener">è¿™é‡Œå¯ä»¥çœ‹å…¨æ–‡</a></p>
</blockquote>
<h3 id="å®šä½åˆ°æºç "><a href="#å®šä½åˆ°æºç " class="headerlink" title="å®šä½åˆ°æºç "></a>å®šä½åˆ°æºç </h3><p><code>watermark/packages/core/src/index.ts</code>ï¼Œç¬¬244è¡Œï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (MutationObserver &amp;amp;&amp;amp; <span class="keyword">this</span>.options.monitor) &#123;</span><br><span class="line">      <span class="keyword">this</span>.mutationObserver = <span class="keyword">new</span> MutationObserver(<span class="function"><span class="params">mutations</span> =&gt;</span> &#123;</span><br><span class="line">        mutations.forEach(<span class="function"><span class="params">mutation</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">this</span>._isAgainRender(mutation)) &#123;</span><br><span class="line">            <span class="keyword">this</span>.destroy();</span><br><span class="line">            <span class="keyword">this</span>._render();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.mutationObserver.observe(<span class="keyword">this</span>.container, observeOptions);</span><br><span class="line">      <span class="keyword">this</span>.shadowRoot &amp;&amp; <span class="keyword">this</span>.mutationObserver.observe(<span class="keyword">this</span>.shadowRoot, observeOptions);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ç»“åˆä¸Šé¢<code>MutationObserver</code>çš„ä½œç”¨ï¼Œä¸»è¦æ˜¯ç›‘å¬æŸä¸ªDOMå®¹å™¨å†…èŠ‚ç‚¹å˜åŒ–ï¼Œç„¶åé‡æ–°æ¸²æŸ“æ°´å°ï¼Œä»è€Œé¿å…æ°´å°è¢«äººåˆ é™¤ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾ˆç®€å•çš„çŒœæµ‹ä¸€ä¸‹ï¼Œåœ¨å¼¹æ¡†å‡ºæ¥åï¼Œä¼šè§¦å‘<code>MutationObserver</code>ï¼Œç„¶å<code>_renderå‡½æ•°</code>æ”¹å˜domï¼Œåˆä¼šè§¦å‘è‡ªå·±æœ¬èº«çš„domèŠ‚ç‚¹å˜åŒ–ï¼Œå†è§¦å‘<code>MutationObserver</code>ï¼Œå¯¼è‡´é™·å…¥æ­»å¾ªç¯ã€‚</p>
<p>ç›®å‰æ‰§è¡Œé¡ºåºï¼š</p>
<ol>
<li>bodyå®¹å™¨è¢«ç›‘å¬åˆ°DOMèŠ‚ç‚¹å˜åŒ–ï¼Œè§¦å‘<code>MutationObserver</code>äº‹ä»¶</li>
<li><code>MutationObserver</code>äº‹ä»¶è¿”å›å‚æ•°<code>mutations</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯èƒ½ä¼šé‡å¤æ‰§è¡Œ<code>_render</code>å‡½æ•°</li>
<li>å¤šæ¬¡<code>_render</code>å‡½æ•°ä¼šç»§ç»­æ³¨å†Œ<code>MutationObserver</code>äº‹ä»¶ï¼Œå¯¼è‡´åç»­bodyå®¹å™¨å˜æ›´æŒç»­è¢«ç›‘å¬åˆ°ï¼Œè¿›å…¥æ­»å¾ªç¯é€»è¾‘ä¸­</li>
</ol>
<p>å› æ­¤ï¼Œåªéœ€è¦ä¿è¯å¤šæ¬¡<code>MutationObserver</code>äº‹ä»¶åªè§¦å‘ä¸€æ¬¡<code>_render</code>å‡½æ•°ï¼Œå³å¯é¿å…æ­»å¾ªç¯é€»è¾‘ã€‚</p>
<h3 id="é—®é¢˜è§£å†³"><a href="#é—®é¢˜è§£å†³" class="headerlink" title="é—®é¢˜è§£å†³"></a>é—®é¢˜è§£å†³</h3><p>ç›´æ¥ä¸‹è½½æºç ï¼Œæ”¾åˆ°æœ¬åœ°è°ƒè¯•ï¼ˆè¿‡ç¨‹å¿½ç•¥ï¼‰ï¼Œæœ€ç»ˆä»£ç æš‚æ—¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">... </span><br><span class="line"><span class="keyword">if</span> (MutationObserver &amp;amp;&amp;amp; <span class="keyword">this</span>.options.monitor) &#123;</span><br><span class="line">      <span class="keyword">this</span>.mutationObserver = <span class="keyword">new</span> MutationObserver(<span class="function"><span class="params">mutations</span> =&gt;</span> &#123;</span><br><span class="line">	  <span class="keyword">this</span>.mutationObserver = <span class="keyword">new</span> MutationObserver(<span class="function"><span class="params">mutations</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// é¿å…å¤šæ¬¡æ‰§è¡Œrenderå‡½æ•°ï¼Œå¯¼è‡´å¤šæ¬¡æ³¨å†ŒMutationObserver ä»è€Œè¿›å…¥æ­»å¾ªç¯é€»è¾‘</span></span><br><span class="line">        <span class="keyword">let</span> lastMoutation;</span><br><span class="line">        mutations.forEach(<span class="function"><span class="params">mutation</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">this</span>._isAgainRender(mutation)) &#123;</span><br><span class="line">            lastMoutation = mutation;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">if</span>(lastMoutation)&#123;</span><br><span class="line">          <span class="keyword">this</span>.destroy();</span><br><span class="line">          <span class="keyword">this</span>._render();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.mutationObserver.observe(<span class="keyword">this</span>.container, observeOptions);</span><br><span class="line">      <span class="keyword">this</span>.shadowRoot &amp;amp;&amp;amp; <span class="keyword">this</span>.mutationObserver.observe(<span class="keyword">this</span>.shadowRoot, observeOptions);</span><br><span class="line">    &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>åé¢å¯ä»¥ç ”ç©¶ä¸€ä¸‹<code>ä¸ºä»€ä¹ˆforEach || mapå‡½æ•°æ— æ³•è·³å‡ºå¾ªç¯ï¼Ÿ</code></p>
<p>æœ€åå¯ä»¥æäº¤PRåˆ°å¼€æºgithubï¼Œè¿™é‡Œé¢ä¹Ÿæœ‰ä¸€äº›ä¸œè¥¿å¯ä»¥äº†è§£ä¸€ä¸‹ï¼Œ<a href="https://stephenzhou.net/2019/04/23/git-pr-tsg/" target="_blank" rel="noopener">å¦‚ä½•åœ¨githubä¸Šä¸ºå¼€æºé¡¹ç›®æäº¤PRï¼Ÿ</a>ã€‚</p>
<p>è¿™é‡Œæ˜¯æˆ‘æäº¤çš„PR,<a href="https://github.com/pansyjs/watermark/pull/136" target="_blank" rel="noopener">å…¨å±€æ°´å°ä¸å…¶å®ƒé®ç½©å±‚å†²çª [issue 129]</a></p>
<p>#å‚è€ƒèµ„æ–™<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MutationObserver" target="_blank" rel="noopener">MutationObserver MDNèµ„æ–™</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
      </tags>
  </entry>
  <entry>
    <title>iOS11.3 fastclick.jsç›¸å…³bug</title>
    <url>/share/iOS11-fastclick-js.html</url>
    <content><![CDATA[<p>æœ€è¿‘é‡åˆ°å¥‡å¼‚çš„bug,åœ¨ios 11.3ç§»åŠ¨ç«¯é¡µé¢ inputè¾“å…¥æ¡†ç¬¬ä¸€æ¬¡è§¦æ‘¸å¯ä»¥å¼¹èµ·é”®ç›˜ï¼Œåç»­å†è§¦æ‘¸éœ€è¦å¾ˆéš¾å¼¹èµ·é”®ç›˜ï¼Œæˆ–è€…éœ€è¦åœ¨è¾“å…¥æ¡†åœä¸€ä¼šæ‰èƒ½å¼¹èµ·é”®ç›˜ã€‚</p>
<h2 id="bugå¤ç°æ¡ä»¶ï¼š"><a href="#bugå¤ç°æ¡ä»¶ï¼š" class="headerlink" title="bugå¤ç°æ¡ä»¶ï¼š"></a>bugå¤ç°æ¡ä»¶ï¼š</h2><p>ä¸€ã€ios 11.3ä¸­appçš„webviewä¸º UI WebView<br>äºŒã€åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†FastClick.jsï¼Œé¡µé¢åŒ…æ‹¬è¾“å…¥æ¡†.</p>
<h2 id="å‘ç°æºå¤´é—®é¢˜ï¼š"><a href="#å‘ç°æºå¤´é—®é¢˜ï¼š" class="headerlink" title="å‘ç°æºå¤´é—®é¢˜ï¼š"></a>å‘ç°æºå¤´é—®é¢˜ï¼š</h2><p>åœ¨ç¢°åˆ°é—®é¢˜è„‘å­ç¬¬ä¸€æƒ³æ³•è¿™ä¸å°±æ˜¯clickå»¶è¿Ÿ300msçš„ç°è±¡å—ï¼Ÿæ‰€ä»¥å°±æƒ³åˆ°æ˜¯ä¸æ˜¯FastClick.jså¯¼è‡´ï¼Œæ³¨é‡Šæ‰åå‘ç°bugç°è±¡æ¶ˆå¤±äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">define([<span class="string">'zepto'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">$</span>) </span>&#123;</span><br><span class="line"><span class="meta"> 'use strict'</span>;</span><br><span class="line"> <span class="comment">// FastClick.attach(document.body);</span></span><br><span class="line"> ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ä¸€èµ·çœ‹çœ‹ä¸ºä»€ä¹ˆè¦åŠ ä¸ŠFastClickï¼Œè¿™ä¸ªåº“è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<a id="more"></a>

<ul>
<li>click 300mså»¶è¿Ÿï¼šæµè§ˆå™¨clickä¼šæ¯”touchå»¶è¿Ÿ300msè§¦å‘</li>
<li>clickç©¿é€ç°è±¡ï¼šå½“ä¸¤ä¸ªdivåŒå¤„ä¸€ä¸ªpositionï¼Œä¸Šå±‚divç»‘å®štouchï¼Œä¸‹å±‚divç»‘å®šclick,å½“ä¸Šå±‚divè§¦å‘touchæ¶ˆå¤±åï¼Œå¯èƒ½ä¼šè§¦å‘ä¸‹å±‚divçš„clickäº‹ä»¶<br>æ—¢ç„¶Fastclickæ˜¯ä¸ºäº†è§£å†³è¿™ä¸¤ç±»é—®é¢˜ï¼Œå…¶å®ç°åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11733108-a045cb92752f7ae8.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="fastclickåŸç†"></li>
</ul>
<p>fastclickåˆ©ç”¨æ•è·é¡¶å±‚domå…ƒç´ (å¦‚ï¼šbodyï¼Œhtmlç­‰)çš„clickäº‹ä»¶ï¼Œæ‹¦æˆªæ‰€æœ‰çš„clickè¯·æ±‚è¿›è¡Œåˆ¤æ–­ï¼šæ˜¯å¦æœ‰touchè§¦å‘ã€æ˜¯å¦éœ€è¦é˜»ç¢clickäº‹ä»¶(stopImmediatePropagation)ç­‰ã€‚</p>
<h2 id="åˆ†æé—®é¢˜è§£å†³æ–¹æ¡ˆï¼š"><a href="#åˆ†æé—®é¢˜è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="åˆ†æé—®é¢˜è§£å†³æ–¹æ¡ˆï¼š"></a>åˆ†æé—®é¢˜è§£å†³æ–¹æ¡ˆï¼š</h2><p>æ­¥éª¤ä¸€ï¼šinputæ— æ³•èšç„¦å¼¹å‡ºé”®ç›˜ï¼Œfastclickä¸­æœ‰ä¸€å—åˆ¤æ–­å½“å‰å…ƒç´ targetElementæ˜¯å¦éœ€è¦needsFocusï¼Œçœ‹çœ‹å…¶æ–¹æ³•çš„å®ç°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">FastClick.prototype.needsFocus = <span class="function"><span class="keyword">function</span>(<span class="params">target</span>) </span>&#123; <span class="comment">//åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦éœ€è¦focus</span></span><br><span class="line">        <span class="keyword">switch</span> (target.nodeName.toLowerCase()) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'textarea'</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'select'</span>:</span><br><span class="line">                <span class="keyword">return</span> !deviceIsAndroid;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'input'</span>:</span><br><span class="line">                <span class="keyword">switch</span> (target.type) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'button'</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'checkbox'</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'file'</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'image'</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'radio'</span>:</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">'submit'</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// No point in attempting to focus disabled inputs</span></span><br><span class="line">                <span class="keyword">return</span> !target.disabled &amp;&amp; !target.readOnly;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> (<span class="regexp">/\bneedsfocus\b/</span>).test(target.className);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ­¥éª¤äºŒï¼šçœ‹åˆ°needsFocusä¸‹æ‰§è¡Œäº†ä»€ä¹ˆï¼Ÿåœ¨touchEndæ–¹æ³•ä¸­ï¼Œä»£ç å—å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.needsFocus(targetElement)) &#123;<span class="keyword">if</span> ((event.timeStamp - trackingClickStart) &gt; <span class="number">100</span> || (deviceIsIOS &amp;&amp; <span class="built_in">window</span>.top !== <span class="built_in">window</span> &amp;&amp; targetTagName === <span class="string">'input'</span>)) &#123;</span><br><span class="line"> <span class="keyword">this</span>.targetElement = <span class="literal">null</span>;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">this</span>.focus(targetElement); <span class="comment">//è°ƒç”¨focusè¿›è¡Œèšç„¦</span></span><br><span class="line"> <span class="keyword">this</span>.sendClick(targetElement, event);</span><br><span class="line">  </span><br><span class="line"> <span class="keyword">if</span> (!deviceIsIOS || targetTagName !== <span class="string">'select'</span>) &#123;</span><br><span class="line"> <span class="keyword">this</span>.targetElement = <span class="literal">null</span>;</span><br><span class="line"> event.preventDefault();</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>æ­¥éª¤ä¸‰ï¼šfocusæ–¹æ³•åˆ†æï¼ˆåŒ…å«è§£å†³æ–¹æ¡ˆï¼‰ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">FastClick.prototype.focus = <span class="function"><span class="keyword">function</span>(<span class="params">targetElement</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> length;</span><br><span class="line">        <span class="comment">//å…¼å®¹å¤„ç†:åœ¨iOS7ä¸­ï¼Œæœ‰ä¸€äº›å…ƒç´ ï¼ˆå¦‚dateã€datetimeã€monthç­‰ï¼‰åœ¨setSelectionRangeä¼šå‡ºç°TypeError</span></span><br><span class="line">        <span class="comment">//è¿™æ˜¯å› ä¸ºè¿™äº›å…ƒç´ å¹¶æ²¡æœ‰selectionStartå’ŒselectionEndçš„æ•´å‹æ•°å­—å±æ€§ï¼Œæ‰€ä»¥ä¸€æ—¦å¼•ç”¨å°±ä¼šæŠ¥é”™ï¼Œå› æ­¤æ’é™¤è¿™äº›å±æ€§æ‰ä½¿ç”¨setSelectionRangeæ–¹æ³•</span></span><br><span class="line">        <span class="keyword">if</span> (deviceIsIOS &amp;&amp; targetElement.setSelectionRange &amp;&amp; targetElement.type.indexOf(<span class="string">'date'</span>) !== <span class="number">0</span> &amp;&amp; targetElement.type !== <span class="string">'time'</span> &amp;&amp; targetElement.type !== <span class="string">'month'</span> &amp;&amp; targetElement.type !== <span class="string">'email'</span>) &#123;</span><br><span class="line">            length = targetElement.value.length;</span><br><span class="line">            targetElement.setSelectionRange(length, length);</span><br><span class="line">            <span class="comment">/*ä¿®å¤bug ios 11.3ä¸å¼¹å‡ºé”®ç›˜ï¼Œè¿™é‡ŒåŠ ä¸Šèšç„¦ä»£ç ï¼Œè®©å…¶å¼ºåˆ¶èšç„¦å¼¹å‡ºé”®ç›˜*/</span></span><br><span class="line">            targetElement.focus();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            targetElement.focus();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>

<h2 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h2><p>OKï¼Œä¸ŠçœŸæœºiphoneXéªŒè¯bugå·²ç»æ¶ˆå¤±äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆåœ¨ios 11.3ä¼šå‡ºç°è¯¥é—®é¢˜ï¼Œç§‰ç€æ¢ç´¢çœŸç†çš„ä¸€é¢—å¿ƒï¼ˆZZZZï¼‰ï¼Œåˆ°githubå»æŸ¥çœ‹FastClickçš„issuesåˆ—è¡¨ï¼Œæœç„¶å‘ç°æ—©æœ‰äººæå‡ºbugäº†ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11733108-dc00511b626e3496.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="fastclick issues"></p>
<p>ä¸‹æ–¹æœ‰è¯„è®ºå¦‚ä¸‹ï¼š<br>Aï¼šè¯´framework7æ¡†æ¶é‚£è¾¹å·²ç»æœ‰è§£å†³æ–¹æ¡ˆå•¦ï¼Œ<a href="https://github.com/framework7io/framework7/issues/2314#issuecomment-377778034" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a>ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/11733108-2e17af0f0c9a7474.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="frameword7é—®é¢˜è§£å†³"></p>
<p>å¦å¤–ä¸€ä½ä»å…„çš„è§£å†³æ–¹æ¡ˆå’Œæˆ‘ç±»ä¼¼ï¼Œä¿®æ”¹focusæ–¹æ³•ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/11733108-829a9db17ea2e4b0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="focusè§£å†³æ–¹æ¡ˆ"></p>
<p>å› æ­¤è·³åˆ°frameworkçš„issueä¸­çš„è§£å†³æ–¹æ¡ˆï¼Œè§£å†³æ–¹æ¡ˆï¼š<a href="https://stackoverflow.com/questions/49500339/cant-prevent-touchmove-from-scrolling-window-on-ios" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a>ï¼Œæè¿°å¦‚ä¸‹ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11733108-443f9d4c26e32cd4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è§£å†³æ–¹æ¡ˆæè¿°"></p>
<p>è·³è¿‡å»stackoverflowåï¼Œå…¶å®æ ¹æœ¬æºå¤´å·²ç»æŸ¥åˆ°äº†ï¼Œios 11.3æ›´æ–° Safari 11.1ï¼Œæ”¯æŒæ–°web API :å…è®¸å¯¹äº‹ä»¶æ”¯æŒ <code>{passive: false}</code>è¢«åŠ¨æ¨¡å¼ï¼Œå‡å°‘æ»šåŠ¨å±å¹•çš„æ€§èƒ½æŸè€—å’Œå¥”æºƒã€‚</p>
<h2 id="passive-modeè§£æ"><a href="#passive-modeè§£æ" class="headerlink" title="passive modeè§£æ"></a>passive modeè§£æ</h2><p>é‚£ä¹ˆæ–°çš„é—®é¢˜æ¥äº†ï¼Œ{passive: false}æ˜¯ä»€ä¹ˆç©æ„ï¼Ÿæ¥ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹å®ƒçš„ä½¿ç”¨æ–¹å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'touchmove'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">&#125;, &#123; <span class="attr">passive</span>: <span class="literal">false</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§ä»¥å¾€æˆ‘ä»¬å¯¹æ·»åŠ äº‹ä»¶ç›‘å¬çš„æ–¹æ³•ä¸‰ä¸ªå‚æ•°çš„è®¤çŸ¥ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(type , callback, capture); <span class="comment">//typeæ˜¯äº‹ä»¶ç±»å‹ï¼Œcallbackæ˜¯æ‰§è¡Œå‡½æ•°ï¼Œ captureæ˜¯å¦è¿›è¡Œæ•è·/å†’æ³¡ï¼Œé»˜è®¤ä¸ºfalse</span></span><br></pre></td></tr></table></figure>

<p>Passive event listenersæ˜¯2016å¹´Google I/O ä¸ŠåŒ PWA æ¦‚å¿µä¸€èµ·è¢«æå‡ºï¼Œä½†æ˜¯åŒPWAä¸åŒï¼ŒPassive event listeners çš„ä½œç”¨å¾ˆç®€å•ï¼Œå¦‚æœç”¨ç®€å•ä¸€å¥è¯æ¥è§£é‡Šå°±æ˜¯ï¼šæå‡é¡µé¢æ»‘åŠ¨çš„æµç•…åº¦ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">target.addEventListener(type, listener[, options]);</span><br><span class="line"> </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">options å¯é€‰</span></span><br><span class="line"><span class="comment">ä¸€ä¸ªæŒ‡å®šæœ‰å…³ listener å±æ€§çš„å¯é€‰å‚æ•°å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">å¯ç”¨çš„é€‰é¡¹å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">capture:  Booleanï¼Œè¡¨ç¤º listener ä¼šåœ¨è¯¥ç±»å‹çš„äº‹ä»¶æ•è·é˜¶æ®µä¼ æ’­åˆ°è¯¥ EventTarget æ—¶è§¦å‘ã€‚</span></span><br><span class="line"><span class="comment">once:  Booleanï¼Œè¡¨ç¤º listener åœ¨æ·»åŠ ä¹‹åæœ€å¤šåªè°ƒç”¨ä¸€æ¬¡ã€‚å¦‚æœæ˜¯ trueï¼Œ listener ä¼šåœ¨å…¶è¢«è°ƒç”¨ä¹‹åè‡ªåŠ¨ç§»é™¤ã€‚</span></span><br><span class="line"><span class="comment">passive: Booleanï¼Œè¡¨ç¤º listener æ°¸è¿œä¸ä¼šè°ƒç”¨ preventDefault()ã€‚å¦‚æœ listener ä»ç„¶è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œå®¢æˆ·ç«¯å°†ä¼šå¿½ç•¥å®ƒå¹¶æŠ›å‡ºä¸€ä¸ªæ§åˆ¶å°è­¦å‘Šã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//ç¤ºä¾‹ä»£ç </span></span><br><span class="line">target.addEventListener(<span class="string">'touchstart'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">   e.preventDefault() <span class="comment">// æ— æ•ˆï¼ŒæŠ¥é”™</span></span><br><span class="line">&#125;, &#123;<span class="attr">passive</span>: <span class="literal">true</span>&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆå¢åŠ æ”¯æŒè¿™ä¸ªå±æ€§ä¼šå¯¼è‡´æ·»åŠ fastclickåinputè¾“å…¥æ¡†å¾ˆéš¾å¼¹å‡ºé”®ç›˜ï¼Ÿ</p>
<p>åœ¨iosæ›´æ–°æ—¥å¿—äº†ï¼Œå†™åˆ°äº†â€œUpdated root document touch event listeners to use passive mode improving scrolling performance and reducing crashes.â€</p>
<p>ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼šé’ˆå¯¹documentçš„touchäº‹ä»¶ç›‘å¬æ·»åŠ passiveé…ç½®ï¼Œå³æ˜¯ï¼š{passive: true}ï¼Œä¼šæ°¸è¿œä¸è°ƒç”¨event.preventDefault()ï¼Œä»¥æ­¤æ¥æé«˜æ»šåŠ¨æ€§èƒ½ã€‚</p>
<p>æºå¤´æ¨æµ‹ï¼š</p>
<p>fastclickæ˜¯é‡‡ç”¨æ‹¦æˆªclickå’Œç›‘å¬touchäº‹ä»¶å»å®ç°çš„ï¼Œé‡Œé¢åŒ…æ‹¬å¯¹tagetElementçš„focusæ–¹æ³•é‡å†™ï¼Œå› æ­¤åœ¨11.3ä¹‹å‰å¯èƒ½event.preventDefaultç”Ÿæ•ˆäº†ï¼ŒåŒæ—¶ç”¨setSelectionRangeæ˜¯å¯ä»¥èšç„¦inputçš„ã€‚</p>
<p>å¦å¤–ä¸€ä¸ªbugä¹Ÿæ˜¯ç”±è¿™ä¸ªå¯¼è‡´çš„æ˜¯ï¼š</p>
<p>åœ¨iOS11.3çš„UI webviewä½¿ç”¨fastclick.jsï¼Œé¡µé¢æœ‰ä¸ªæŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼Œå½“appæˆ–é”å±è¶…è¿‡å‡ åˆ†é’Ÿæ—¶é—´ï¼Œå›åˆ°é¡µé¢ä¼šå¯¼è‡´clickäº‹ä»¶å¤±æ•ˆã€‚</p>
<p>è§£å†³æ–¹æ¡ˆä¸ºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> passiveListener = (<span class="function"><span class="keyword">function</span> <span class="title">checkPassiveListener</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">//åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ &#123;passive: true&#125;</span></span><br><span class="line">            <span class="keyword">var</span> supportsPassive = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">var</span> opts = <span class="built_in">Object</span>.defineProperty(&#123;&#125;, <span class="string">'passive'</span>, &#123;</span><br><span class="line">                    <span class="keyword">get</span>: function() &#123;</span><br><span class="line">                        supportsPassive = <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                <span class="built_in">window</span>.addEventListener(<span class="string">'testPassiveListener'</span>, <span class="literal">null</span>, opts);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                supportsPassive = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> supportsPassive;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="keyword">var</span> activeListener = passiveListener ? &#123;<span class="attr">passive</span>:<span class="literal">false</span>&#125; : <span class="literal">false</span>;</span><br><span class="line">layer.addEventListener(<span class="string">'click'</span>, <span class="keyword">this</span>.onClick, <span class="literal">true</span>);</span><br><span class="line">layer.addEventListener(<span class="string">'touchstart'</span>, <span class="keyword">this</span>.onTouchStart, passiveListener);</span><br><span class="line">layer.addEventListener(<span class="string">'touchmove'</span>, <span class="keyword">this</span>.onTouchMove, passiveListener);</span><br><span class="line">layer.addEventListener(<span class="string">'touchend'</span>, <span class="keyword">this</span>.onTouchEnd, passiveListener);</span><br><span class="line">layer.addEventListener(<span class="string">'touchcancel'</span>, <span class="keyword">this</span>.onTouchCancel, passiveListener);</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="noopener">ã€ŠEventTarget.addEventListener()å¢åŠ passiveå±æ€§è¯´æ˜â€”â€”web MDN APIç½‘ç«™ã€‹</a></li>
<li><a href="https://github.com/ftlabs/fastclick/issues/548" target="_blank" rel="noopener">ã€Šfastclick github issues#548ã€‹</a></li>
<li><a href="https://stackoverflow.com/questions/49500339/cant-prevent-touchmove-from-scrolling-window-on-ios" target="_blank" rel="noopener">ã€Šstackoverflow â€”â€”touchmove e.preventDefaultå¤±æ•ˆé—®é¢˜ã€‹</a></li>
<li><a href="https://developer.apple.com/library/content/releasenotes/General/WhatsNewInSafari/Articles/Safari_11_1.html" target="_blank" rel="noopener">ã€ŠSafari 11.1æ›´æ–°æ—¥å¿—ã€‹</a></li>
</ul>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯é¢è¯•é¢˜ç›®æ”¶é›†(æŒç»­æ›´æ–°)</title>
    <url>/study/face-test.html</url>
    <content><![CDATA[<p>ä¸»è¦ä»¥ä¸‹å‡ æ–¹é¢å»æ”¶é›†ï¼Ÿ</p>
<ul>
<li>å…«è‚¡æ–‡ï¼Œä¸»è¦é’ˆå¯¹ç†è®ºåŸºç¡€çŸ¥è¯†</li>
<li>æ¡†æ¶ç±»ï¼Œä¸»è¦é’ˆå¯¹React/Vueç­‰</li>
<li>ç¼–ç¨‹é¢˜ï¼Œä¸»è¦é’ˆå¯¹å„ç§å¸¸ç”¨æ–¹æ³•è¿›è¡Œæ‰‹åŠ¨ç¼–å†™</li>
<li>ç®—æ³•é¢˜ï¼Œä¸»è¦æ˜¯å„ç±»ç®—æ³•é¢˜è¿›è¡Œæ±‡æ€»</li>
</ul>
<a id="more"></a>

<h1 id="å…«è‚¡æ–‡"><a href="#å…«è‚¡æ–‡" class="headerlink" title="å…«è‚¡æ–‡"></a>å…«è‚¡æ–‡</h1><ul>
<li>domæ ‘æ˜¯æ€ä¹ˆç”Ÿæˆçš„</li>
<li>æµè§ˆå™¨ç¼“å­˜</li>
<li>ä¸€ä¸ªé¡µé¢åœ¨æµè§ˆå™¨åŠ è½½ç»å†å“ªäº›é˜¶æ®µ</li>
<li>TCPä¸‰æ¬¡æ¡æ‰‹ å››æ¬¡æŒ¥æ‰‹ä¸ºä»€ä¹ˆï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆè·¨åŸŸï¼Ÿè·¨åŸŸå®ç°æ–¹æ¡ˆ</li>
<li>æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶ã€é‡ç»˜ã€é‡æ’</li>
<li>scriptæ ‡ç­¾deferå’Œasyncçš„åŒºåˆ«</li>
</ul>
<h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><ul>
<li>v8åƒåœ¾å›æ”¶</li>
<li>JSä¸Šä¸‹æ–‡æ‰§è¡Œæ ˆå’Œé—­åŒ…</li>
<li>JSçš„æ¨¡å—åŒ–</li>
<li>JSçš„ç±»å‹æ£€æŸ¥ï¼Œå¦‚ä½•åˆ¤æ–­Arrayæ•°ç»„ç±»å‹</li>
<li>JSåŸå‹ã€åŸå‹é“¾</li>
<li>JS Event Loop</li>
<li>JS new å®ç°ä¸€ä¸ªå¯¹è±¡è¿‡ç¨‹</li>
<li>JS forEachå’Œmapçš„åŒºåˆ«ï¼Œå¦‚ä½•è·³å‡ºå¾ªç¯</li>
<li>JS æ•°ç»„æœ‰å“ªäº›æ–¹æ³•ä¼šå½±å“è‡ªèº«ï¼Œå“ªäº›æ–¹æ³•ä¸ä¼šå½±å“è‡ªèº«</li>
</ul>
<h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><ul>
<li>CSS æ ·å¼ä¼˜å…ˆçº§(#,.ç­‰é€‰æ‹©å™¨)</li>
<li>CSS BFC</li>
<li>CSS å‚ç›´å±…ä¸­</li>
<li>CSS å±‚å ä¸Šä¸‹æ–‡å’Œå±‚å é¡ºåº</li>
<li>flexå¸ƒå±€</li>
<li>CSS å“åº”å¼å¸ƒå±€</li>
</ul>
<h1 id="æ¡†æ¶ç±»"><a href="#æ¡†æ¶ç±»" class="headerlink" title="æ¡†æ¶ç±»"></a>æ¡†æ¶ç±»</h1><h1 id="é€šç”¨é—®é¢˜"><a href="#é€šç”¨é—®é¢˜" class="headerlink" title="é€šç”¨é—®é¢˜"></a>é€šç”¨é—®é¢˜</h1><ul>
<li>å¦‚ä½•çœ‹Reactå’ŒVue</li>
<li>ç”Ÿå‘½å‘¨æœŸ</li>
<li>è·¯ç”±å®ç°æœºåˆ¶</li>
<li>diffç®—æ³•å’Œkeyçš„ä½œç”¨</li>
<li>æ•°æ®ç»‘å®šåŸç†</li>
<li>è™šæ‹Ÿ DOM å®ç°åŸç†</li>
<li>ç»„ä»¶é€šä¿¡</li>
<li>Hookçš„å®ç°åŸç†</li>
<li>sessionä¸cookieçš„åŒºåˆ«</li>
<li>æ€§èƒ½ä¼˜åŒ–å®Œæ•´æ–¹æ¡ˆ</li>
<li>10ä¸ª1mçš„æ–‡ä»¶ å’Œ 1ä¸ª10mçš„æ–‡ä»¶ åœ¨æµè§ˆå™¨å“ªä¸ªä¼ è¾“æ¯”è¾ƒå¿«</li>
</ul>
<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><ul>
<li>Fiberæ¶æ„æ˜¯ä»€ä¹ˆ</li>
<li>Hookå‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆ</li>
<li>setStateæ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ï¼Œå¦‚æœè¦è·å–æ›´æ–°åçš„stateåº”è¯¥æ€ä¹ˆåš</li>
</ul>
<h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><ul>
<li>Vue2å’ŒVue3çš„åŒºåˆ«</li>
<li>Vue3çš„ç»„åˆå¼ APIæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</li>
<li>Vue3ä¸­å¦‚ä½•å¼€å‘å‡½æ•°å¼ç»„ä»¶ï¼Ÿ</li>
<li>nextTick çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>Vueé€šè®¯æœºåˆ¶</li>
<li>computedä¸watch</li>
</ul>
<h1 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h1><ul>
<li>TypeScriptæ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç‰¹æ€§æˆ–è€…å¥½å¤„ï¼Ÿ</li>
<li>TypeScript çš„ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>Typescript ä¸­çš„è£…é¥°å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>TypeScript å¦‚ä½•è®¾è®¡ Class çš„å£°æ˜ï¼Ÿ</li>
<li>TypeScript ä¸­ type å’Œ interface çš„åŒºåˆ«?</li>
<li>TypeScript æšä¸¾æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>ç®€å•ä»‹ç»ä¸€ä¸‹ TypeScript æ¨¡å—çš„åŠ è½½æœºåˆ¶ï¼Ÿ</li>
<li>TypeScript çš„ tsconfig.json ä¸­æœ‰å“ªäº›é…ç½®é¡¹ä¿¡æ¯ï¼Ÿ</li>
<li>å¦‚ä½•åˆå§‹åŒ–ä¸€ä¸ªTypescripté¡¹ç›®ï¼Ÿ</li>
</ul>
<h1 id="å·¥ç¨‹åŒ–"><a href="#å·¥ç¨‹åŒ–" class="headerlink" title="å·¥ç¨‹åŒ–"></a>å·¥ç¨‹åŒ–</h1><ul>
<li>ç›®å‰å¸‚é¢ä¸Šä¸»æµçš„æ„å»ºå·¥å…·æœ‰å“ªäº›ï¼Ÿ webpackå’Œ viteå¯¹æ¯”?</li>
</ul>
<h1 id="ç¼–ç é¢˜"><a href="#ç¼–ç é¢˜" class="headerlink" title="ç¼–ç é¢˜"></a>ç¼–ç é¢˜</h1><ul>
<li>æ·±æµ…æ‹·è´</li>
<li>Promiseå’ŒPromise.allå®ç° </li>
<li>throttleèŠ‚æµ å’Œ debounceé˜²æŠ–</li>
<li>å¦‚ä½•é€šè¿‡åŸå‹å®ç°ç»§æ‰¿</li>
</ul>
<h1 id="ç®—æ³•é¢˜"><a href="#ç®—æ³•é¢˜" class="headerlink" title="ç®—æ³•é¢˜"></a>ç®—æ³•é¢˜</h1><ul>
<li>æ’åºé¢˜</li>
<li>å»é‡é¢˜</li>
<li>åè½¬é¢˜</li>
</ul>
<p>å…·ä½“å¯ä»¥å‚è€ƒè¿™äº›:</p>
<ul>
<li><a href="https://juejin.cn/post/6987320619394138148" target="_blank" rel="noopener">ç®—æ³•é¢è¯•ã€‘leetcodeæœ€å¸¸è§çš„150é“å‰ç«¯é¢è¯•é¢˜ â€” ç®€å•é¢˜ä¸Š</a></li>
</ul>
]]></content>
      <tags>
        <tag>å­¦ä¹ æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ‰äº†GPT-3ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹å†™commit message(ç¿»è¯‘)</title>
    <url>/translate/use-gpt3-auto-git-commit.html</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ç¿»è¯‘çš„ç›®çš„ï¼Œä¸»è¦æƒ³äº†è§£GPT3æ˜¯ä»€ä¹ˆï¼Œä»¥åŠç›®å‰å¤§å®¶ä½¿ç”¨GPT3ç”¨æ¥åšä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•å¼€å‘GPT3ã€‚</p>
</blockquote>
<h1 id="GPT-3"><a href="#GPT-3" class="headerlink" title="GPT-3"></a>GPT-3</h1><p>GPT-3æ˜¯ä¸€ä¸ªå¾ˆå¤šäººæˆ–å…¬å¸æ­£åœ¨ä½¿ç”¨çš„ååŠ©å¼€å‘çš„å·¥å…·ï¼Œæ¯”å¦‚ï¼šç¼–å†™è„šæœ¬ã€å‘½ä»¤è¡Œç­‰æ“ä½œã€‚</p>
<blockquote>
<p>GPT-3æŒ‡çš„æ˜¯ç”Ÿæˆå‹é¢„è®­ç»ƒå˜æ¢æ¨¡å‹3ï¼ˆè‹±è¯­ï¼šGenerative Pre-trained Transformer 3ï¼Œç®€ç§°GPT-3ï¼‰æ˜¯ä¸€ä¸ªè‡ªå›å½’è¯­è¨€æ¨¡å‹ï¼Œç›®çš„æ˜¯ä¸ºäº†ä½¿ç”¨æ·±åº¦å­¦ä¹ ç”Ÿæˆäººç±»å¯ä»¥ç†è§£çš„è‡ªç„¶è¯­è¨€[1]ã€‚GPT-3æ˜¯ç”±åœ¨æ—§é‡‘å±±çš„äººå·¥æ™ºèƒ½å…¬å¸OpenAIè®­ç»ƒä¸å¼€å‘ï¼Œæ¨¡å‹è®¾è®¡åŸºäºè°·æ­Œå¼€å‘çš„å˜æ¢è¯­è¨€æ¨¡å‹ã€‚GPT-3çš„ç¥ç»ç½‘è·¯åŒ…å«1750äº¿ä¸ªå‚æ•°ï¼Œä¸ºæœ‰å²ä»¥æ¥å‚æ•°æœ€å¤šçš„ç¥ç»ç½‘è·¯æ¨¡å‹[2]ã€‚OpenAIäº2020å¹´5æœˆå‘è¡¨GPT-3çš„è®ºæ–‡ï¼Œåœ¨æ¬¡æœˆä¸ºå°‘é‡å…¬å¸ä¸å¼€å‘äººå›¢é‡Šå‡ºåº”ç”¨ç¨‹å¼ä»‹é¢çš„æµ‹è¯•ç‰ˆã€‚å¾®è½¯åœ¨2020å¹´9æœˆ22æ—¥å®£å¸ƒå–å¾—äº†GPT-3çš„ç‹¬å®¶æˆæƒã€‚ â€”â€” <a href="https://zh.wikipedia.org/zh/GPT-3" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘ GPT-3</a></p>
</blockquote>
<p>ä½¿ç”¨<code>gitcommit</code>,ä½ å°†ä¸éœ€è¦èŠ±è´¹æ—¶é—´å»å†™git commitã€‚ ä¸‹é¢å°±è®©å­¦ä¹ å¦‚ä½•å®‰è£… <code>gptcommit</code>ï¼Œä»¥åŠäº«å—ä¸€ä¸‹GPT-3å¸®ä½ å†™git commitã€‚</p>
<a id="more"></a>

<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ git commitï¼Œ git commitæäº¤ä¿¡æ¯ï¼Œæ˜¯ç¨‹åºå‘˜ä¸ç¨‹åºå‘˜ä¹‹é—´äº¤æµä»–ä»¬å¼€å‘ä»£ç çš„é‡è¦ä¿¡æ¯ï¼Œç‰¹åˆ«åœ¨code reviewä¸­ã€‚<br>å°¤å…¶å½“ä»£ç å‘ç”Ÿé‡å¤§å˜åŒ–æˆ–è€…å†™çš„ä»£ç æä¸ºå¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸€è¯¦ç»†æè¿°ä»£ç å—åŠŸèƒ½ï¼Œéå¸¸çš„è€—æ—¶è€Œä¸”æ— èŠã€‚<br>å¹³æ—¶å¼€å‘ä»£ç åï¼Œç”±äºä¸€ä¸å°å¿ƒå®¹æ˜“å†™<code>fix: bug</code>ä¹‹ç±»çš„æäº¤è®°å½•ï¼Œå¾ˆæƒ³ä¿®æ”¹åï¼Œä½†æ˜¯åˆæ²¡æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•ã€‚<br>åŒæ—¶å¤æ‚çš„è¿™äº›éšæ„çš„è¯æœ¯å¯¹code reviewä¹Ÿå¾ˆéš¾ç†è§£è¿™æ®µä»£ç çš„çœŸæ­£å«ä¹‰æ˜¯ä»€ä¹ˆã€‚<br>æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå¦‚æœæäº¤è®°å½•æ˜¯<code>fix: ä¿®å¤æ–‡æ¡ˆé”™è¯¯</code>ç­‰ï¼Œä¼šè®©code reviewæ›´åŠ æ¯«æ— æ„ä¹‰ï¼Œç”šè‡³å¿½ç•¥æ‰éœ€è¦code reviewçš„åœ°æ–¹ã€‚<br>æ‰€ä»¥é—®é¢˜æ˜¯å†™ git commitå¾ˆè´¹æ—¶ï¼Œè€Œä¸”æè¿°ä¸å‡†ç¡®åˆå®¹æ˜“é€ æˆä¸å¿…è¦è¯¯ä¼šï¼Œé‚£ä¹ˆä½¿ç”¨<code>gptcommit</code>ä¼šè®©ä½ æ‘†è„±è¿™äº›çƒ¦æ¼ã€‚</p>
<h1 id="å®‰è£…æ•™ç¨‹-å‡ åˆ†é’Ÿ"><a href="#å®‰è£…æ•™ç¨‹-å‡ åˆ†é’Ÿ" class="headerlink" title="å®‰è£…æ•™ç¨‹(å‡ åˆ†é’Ÿ)"></a>å®‰è£…æ•™ç¨‹(å‡ åˆ†é’Ÿ)</h1><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><p>åœ¨å®‰è£…<code>gptcommit</code>ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå‡†å¤‡ä»¥ä¸‹å‡ ä¸ªç¯å¢ƒï¼š</p>
<ul>
<li><a href="https://rustup.rs/" target="_blank" rel="noopener">Cargo</a>, <code>Rust</code>è¯­è¨€çš„åŒ…ç®¡ç†å™¨</li>
<li><a href="https://platform.openai.com/account/api-keys" target="_blank" rel="noopener">OpenAI API Keys</a>, OpenAIçš„å¯†é’¥</li>
</ul>
<p><strong>å®‰è£…Rust</strong></p>
<p>Linuxæˆ–Macå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span> curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh</span><br></pre></td></tr></table></figure>

<p><strong>OpenAI API Keysè·å–æ–¹å¼</strong></p>
<p>å›½å†…æ²¡æ³•æ­£å¸¸è®¿é—®ï¼Œä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>è¿™é‡Œå»æ·˜å®ä¹°ä¸€ä¸ªAPI key</li>
<li>æˆ–è€…ç¿»å¢™å‡ºå»è´­ä¹°ä¸€ä¸ª</li>
</ul>
<h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><ol>
<li><p>ä½¿ç”¨<code>cargo</code>å®‰è£…<code>gptcommit</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cargo install --locked gptcommit</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨æœ¬åœ°æŸä¸ªä»“åº“é‡Œå®‰è£…æ‰§è¡Œä¸€ä¸‹å‘½ä»¤ï¼Œä¸»è¦æ˜¯åˆå§‹åŒ–<code>gptcommit</code> git hookã€‚è¿™é‡Œéœ€è¦ä½ å¯¹è¿™äº›ä»“åº“æœ‰git pushçš„æƒé™ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gptcommit install</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®å…¨å±€å˜é‡<code>OPENAI_API_KEY</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">export OPENAI_API_KEY="sk-..."</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>ä¹Ÿå¯ä»¥ç›´æ¥å°†å˜é‡è®¾ç½®åˆ°å…¨å±€æ–‡ä»¶ä¸­ï¼Œå¦‚<code>~/.bashrc</code>, <code>~/.zshrc</code></p>
<h2 id="demoå®æˆ˜"><a href="#demoå®æˆ˜" class="headerlink" title="demoå®æˆ˜"></a>demoå®æˆ˜</h2><p>å¦‚æœä½¿ç”¨äº†åï¼Œä¼šç”Ÿæˆå¦‚ä¸‹git commit:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Demo #1: the full installation and commit workflow, editing multiple rust files</span><br><span class="line">Demo #2: a one-line change to a string inside a rust file.</span><br><span class="line">Demo #3: Modifying non-code files, in this case a README.</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒå¯¹è±¡"><a href="#å‚è€ƒå¯¹è±¡" class="headerlink" title="å‚è€ƒå¯¹è±¡"></a>å‚è€ƒå¯¹è±¡</h2><p><code>gptcommit</code>å‚è€ƒä¹‹å‰çš„å¾ˆå—æ¬¢è¿çš„commit å·¥å…·ï¼š</p>
<ul>
<li><a href="https://github.com/RomanHotsiy/commitgpt" target="_blank" rel="noopener">https://github.com/RomanHotsiy/commitgpt</a></li>
</ul>
<p><code>commitgpt</code>ç›®å‰å·²æ— æ³•ä½¿ç”¨ï¼Œå› ä¸ºå®ƒä½¿ç”¨ç¬¬ä¸‰æ–¹çš„OpenAI API Keyï¼Œç”±äºå®˜æ–¹OpenAIè®¿é—®æ¬¡æ•°å—é™ï¼Œå¿…é¡»è¦æ±‚æ¯ä¸ªç”¨æˆ·éƒ½ç”¨è‡ªå·±çš„API keyã€‚</p>
<p><code>gptcommit</code>é›†æˆäº† git hookï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥git flowå·¥ä½œæµçš„æœ€åä¸€æ­¥ï¼ŒåŒæ—¶ï¼Œç”±äºä½¿ç”¨Rustï¼Œå®ƒæ‰§è¡Œé€Ÿåº¦ä¼šæ›´å¿«ã€‚</p>
<p>åŒæ—¶è¿˜å‚è€ƒ<a href="https://github.com/KanHarI/gpt-commit-summarizer" target="_blank" rel="noopener">gpt-commit-summarizer</a>å·¥å…·ï¼Œå®ƒæ˜¯ç›´æ¥ä½œç”¨åœ¨github ActionæŒç»­é›†æˆä¸­ï¼Œè€Œä¸æ˜¯git å·¥ä½œæµã€‚<br>æ€»ç»“commitè®°å½•æ˜¯å‘ç”Ÿåœ¨PRé˜¶æ®µï¼Œè€Œä¸æ˜¯æ¯æ¬¡ commitã€‚<br>è¯¥æ“ä½œä¼šç›´æ¥å°†PRæ“ä½œçš„commitè¿›è¡Œæ±‡æ€»ï¼Œç„¶åç›´æ¥æäº¤ï¼Œä¸éœ€è¦å†code reviewã€‚</p>
<p><code>gptcommit</code>å‚è€ƒ<code>gpt-commit-summarizer</code>çš„è®¾è®¡ç‚¹ï¼Œä½†æ˜¯ä¸»è¦é’ˆå¯¹æ˜¯git commitçš„æäº¤ä¿¡æ¯è¿›è¡Œæ€»ç»“ã€‚</p>
<h2 id="èƒŒååŸç†"><a href="#èƒŒååŸç†" class="headerlink" title="èƒŒååŸç†"></a>èƒŒååŸç†</h2><p>git commitæäº¤åŠ«æŒä¸»è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<p>é¦–å…ˆï¼Œä¼šå°†æ¯ä¸ªæ–‡ä»¶å•ç‹¬æ±‡æ€»ï¼Œç„¶ååˆ°OpenAIå»ç”Ÿæˆcommit ä¿¡æ¯è®°å½•ã€‚</p>
<p>å…¶æ¬¡ï¼Œæ±‡æ€»æ‰€æœ‰æ–‡ä»¶ä¿®æ”¹å†…å®¹ï¼Œä¹Ÿæœ‰ä¸¤ä¸ªè¦ç‚¹ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>å‘Šè¯‰AIç”Ÿæˆä¸€ä¸ªä¿®æ”¹çš„æ ‡é¢˜</li>
<li>åŒæ—¶è¦ç”Ÿæˆä¿®æ”¹çš„ä¸€äº›è¦ç‚¹å†…å®¹</li>
</ul>
<p>æœ€ç»ˆè¾“å‡ºçš„æäº¤è®°å½•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[title]</span><br><span class="line"></span><br><span class="line">- [summary point 1]</span><br><span class="line">- [summary point 2...]</span><br><span class="line"></span><br><span class="line">[/changed/file A]</span><br><span class="line">- [file summary point 1]</span><br><span class="line">- [file summary point 2...]</span><br><span class="line">[/changed/file B...]</span><br><span class="line">- [file summary point 1...]</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="é¡¹ç›®å®æˆ˜"><a href="#é¡¹ç›®å®æˆ˜" class="headerlink" title="é¡¹ç›®å®æˆ˜"></a>é¡¹ç›®å®æˆ˜</h2><p>æ¥ä¸‹æ¥å°±åœ¨é¡¹ç›®ä¸­å®æˆ˜å§ã€‚<br>æ‰§è¡Œå‘½ä»¤<code>cargo install --locked gptcommit</code>å®‰è£…æˆ–åˆ°<a href="https://github.com/zurawiki/gptcommit" target="_blank" rel="noopener">github ä»“åº“</a>ä¸­å»æŸ¥çœ‹æ›´å¤šä¿¡æ¯ã€‚<br>å½“ç„¶ï¼Œä½ éœ€è¦å…ˆåœ¨OpenAIé‡Œæ³¨å†Œä¸€ä¸ªè´¦å·ï¼ŒåŒæ—¶æ‹¥æœ‰ä¸€ä¸ªAPI keyæ‰èƒ½æ­£åœ¨ä½¿ç”¨èµ·æ¥ã€‚</p>
<p>Githubåœ°å€ï¼š <a href="https://github.com/zurawiki/gptcommit" target="_blank" rel="noopener">https://github.com/zurawiki/gptcommit</a></p>
<h1 id="ä¸‹ä¸€æ­¥è®¡åˆ’"><a href="#ä¸‹ä¸€æ­¥è®¡åˆ’" class="headerlink" title="ä¸‹ä¸€æ­¥è®¡åˆ’"></a>ä¸‹ä¸€æ­¥è®¡åˆ’</h1><p>åé¢ä¹Ÿæ‰“ç®—åšä¸€ä¸‹æ›´åŠ æœ‰è¶£çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>å¦‚ä½•åˆ©ç”¨GPT-3å»å®ç°æ›´åŠ è‡ªåŠ¨åŒ– git flowå·¥ä½œæµï¼Ÿ</li>
<li>å¦‚ä½•è·³è¿‡å“ªäº›å¤§çš„æ€»ç»“?</li>
<li>å¦‚ä½•æ”¶é›†ç”¨æˆ·åé¦ˆï¼Œå°†commitä¿¡æ¯æ›´åŠ æœ‰æ•ˆï¼Ÿ</li>
</ul>
<p>æœ€åï¼Œå¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹æœ‰ä»»ä½•é—®é¢˜æˆ–è€…å»ºè®®ï¼Œè¯·åˆ°Githubå¼€æºåœ°å€å†™ä¸€ä¸ªissueç»™æˆ‘ï¼Œæˆ‘ä¼šå¾ˆå¿«å¤„ç†ã€‚</p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li>åŸæ–‡åœ°å€ï¼š<a href="https://zura.wiki/post/never-write-a-commit-message-again-with-the-help-of-gpt-3/" target="_blank" rel="noopener">Never write a commit message again (with the help of GPT-3)</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>ç¿»è¯‘æ–‡ç« </tag>
      </tags>
  </entry>
  <entry>
    <title>ã€å¼•å¯¼é¡µã€‘åŠŸèƒ½å®ç°åŸç†åˆ†æ</title>
    <url>/today/20230103.html</url>
    <content><![CDATA[<p>ä»€ä¹ˆæ˜¯å¼•å¯¼é¡µï¼Œå°±æ˜¯å¼•å¯¼ç”¨æˆ·å¯¹ä¸€äº›æ–°åŠŸèƒ½ä½¿ç”¨è¯´æ˜UIå±•ç¤ºã€‚</p>
<p>é‡åˆ°è¿™ç§éœ€æ±‚ï¼Œä¸€èˆ¬çš„æƒ³æ³•æ˜¯ï¼š</p>
<ul>
<li>æœ‰æ²¡æœ‰åŠæ³•å¯ä»¥å¿«é€Ÿå®ç°</li>
<li>æœ‰æ—¶é—´å¯¹å…¶èƒŒååŸç†ç ”ç©¶ä¸€ç•ª</li>
</ul>
<h2 id="å¿«é€Ÿæ¥å…¥"><a href="#å¿«é€Ÿæ¥å…¥" class="headerlink" title="å¿«é€Ÿæ¥å…¥"></a>å¿«é€Ÿæ¥å…¥</h2><p>æŒ‰ç…§å¸¸ç”¨æ¡†æ¶<code>Vue</code> <code>React</code> <code>åŸç”Ÿjs</code>è¿›è¡Œåˆ†ç±»ï¼Œç½—åˆ—ä¸€äº›å¼€æºæ¯”è¾ƒå¥½çš„æ¡†æ¶ä½¿ç”¨ã€‚</p>
<a id="more"></a>
<h3 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h3><h4 id="vue-tour"><a href="#vue-tour" class="headerlink" title="vue-tour"></a>vue-tour</h4><p><a href="https://github.com/pulsardev/vue-tour" target="_blank" rel="noopener">vue-tour</a> é€‚ç”¨äºVue2,</p>
<blockquote>
<p>Vue Touræ˜¯ä¸€ä¸ªè½»é‡çº§ã€ç®€å•ä¸”å¯å®šåˆ¶çš„å¯¼æ¸¸æ’ä»¶ï¼Œå¯ä¸Vue.jsä¸€èµ·ä½¿ç”¨ã€‚å®ƒæä¾›äº†ä¸€ç§å¿«é€Ÿè€Œç®€å•çš„æ–¹æ³•æ¥æŒ‡å¯¼ç”¨æˆ·å®Œæˆæ‚¨çš„åº”ç”¨ç¨‹åºã€‚</p>
</blockquote>
<p>ä½¿ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> VueTour <span class="keyword">from</span> <span class="string">'vue-tour'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'vue-tour/dist/vue-tour.css'</span>)</span><br><span class="line"></span><br><span class="line">Vue.use(VueTour)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œä½¿ç”¨vueç»„ä»¶</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;div id=<span class="string">"v-step-0"</span>&gt;A DOM element on your page. The first step will pop on <span class="keyword">this</span> element because its ID is <span class="string">'v-step-0'</span>.&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div class="v-step-1"&gt;A DOM element on your page. The second step will pop on this element because its ID is 'v-step-1'.&lt;/</span>div&gt;</span><br><span class="line">    &lt;div data-v-step=<span class="string">"2"</span>&gt;A DOM element on your page. The third and final step will pop on <span class="keyword">this</span> element because its ID is <span class="string">'v-step-2'</span>.&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;v-tour name="myTour" :steps="steps"&gt;&lt;/</span>v-tour&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name: <span class="string">'my-tour'</span>,</span><br><span class="line">    data () &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        steps: [</span><br><span class="line">          &#123;</span><br><span class="line">            target: <span class="string">'#v-step-0'</span>,  <span class="comment">// ä½¿ç”¨ document.querySelector() æŸ¥è¯¢DOMèŠ‚ç‚¹</span></span><br><span class="line">            header: &#123;</span><br><span class="line">              title: <span class="string">'Get Started'</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            content: <span class="string">`Discover &lt;strong&gt;Vue Tour&lt;/strong&gt;!`</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            target: <span class="string">'.v-step-1'</span>,</span><br><span class="line">            content: <span class="string">'An awesome plugin made with Vue.js!'</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            target: <span class="string">'[data-v-step="2"]'</span>,</span><br><span class="line">            content: <span class="string">'Try it, you\'ll love it!&lt;br&gt;You can put HTML in the steps and completely customize the DOM to suit your needs.'</span>,</span><br><span class="line">            params: &#123;</span><br><span class="line">              placement: <span class="string">'top'</span> <span class="comment">// å±•ç¤ºæ–¹ä½ åŒ…æ‹¬: top/bottom/left/rightç­‰</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.$tours[<span class="string">'myTour'</span>].start()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="React"><a href="#React" class="headerlink" title="React"></a>React</h3><p>Reactçš„ç”Ÿæ€æ¯”è¾ƒä¸°å¯Œï¼Œæ’ä»¶ä¹Ÿæ¯”è¾ƒå¤šï¼Œgoogle React Tourå°±å¯ä»¥æ‰¾åˆ°å¾ˆå¤šï¼Œä¸‹é¢ç½—åˆ—ä¸€ä¸‹githubä¸Šstarè¾ƒå¤šçš„å‡ ä¸ª</p>
<ul>
<li><a href="https://github.com/gilbarbara/react-joyride" target="_blank" rel="noopener">react-joyride</a>ï¼šä½¿ç”¨æ–¹ä¾¿å¿«æ·çš„å¼•å¯¼é¡µæ’ä»¶</li>
<li><a href="https://github.com/elrumordelaluz/reactour" target="_blank" rel="noopener">reactour</a>ï¼š åŠŸèƒ½æ›´åŠ ä¸°å¯Œçš„Reactå¼•å¯¼ç»„ä»¶ï¼Œåˆ†æˆå¥½å‡ ç§ç»„ä»¶ï¼š<code>@reactour/tour</code> <code>@reactour/mask</code> <code>@reactour/popover</code> <code>@reactour/utils</code>ç­‰</li>
</ul>
<h3 id="åŸç”Ÿjs"><a href="#åŸç”Ÿjs" class="headerlink" title="åŸç”Ÿjs"></a>åŸç”Ÿjs</h3><p>åŸç”Ÿjså®ç°çš„å¼•å¯¼é¡µæ’ä»¶ï¼Œæ¯”è¾ƒæœ‰åæœ‰driver.jsã€intro.jså’Œshepherd.js</p>
<h4 id="driver-js"><a href="#driver-js" class="headerlink" title="driver.js"></a>driver.js</h4><blockquote>
<p><strong><code>driver.js</code></strong> æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œè½»é‡çº§çš„æ™®é€š JavaScript å¼•æ“ï¼Œå¯åœ¨æ•´ä¸ªé¡µé¢ä¸Šé©±åŠ¨ç”¨æˆ·çš„æ³¨æ„åŠ›ï¼Œåªæœ‰ 4kb å·¦å³çš„ä½“ç§¯ï¼Œå¹¶ä¸”æ²¡æœ‰å¤–éƒ¨ä¾èµ–ï¼Œä¸ä»…é«˜åº¦å¯å®šåˆ¶ï¼Œè¿˜å¯ä»¥æ”¯æŒæ‰€æœ‰ä¸»æµæµè§ˆå™¨ã€‚</p>
</blockquote>
<p>githubåœ°å€: <a href="https://github.com/kamranahmedse/driver.js" target="_blank" rel="noopener">driver.js</a></p>
<p>ä½¿ç”¨demoæ•™ç¨‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Driver <span class="keyword">from</span> <span class="string">'driver.js'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'driver.js/dist/driver.min.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é«˜äº®æŸä¸ªdomèŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">const</span> driver = <span class="keyword">new</span> Driver();</span><br><span class="line">driver.highlight(&#123;</span><br><span class="line">  element: <span class="string">'#some-element'</span>,</span><br><span class="line">  popover: &#123;</span><br><span class="line">    title: <span class="string">'Title for the Popover'</span>,</span><br><span class="line">    description: <span class="string">'Description for it'</span>,</span><br><span class="line">    position: <span class="string">'left'</span>,</span><br><span class="line">    offset: <span class="number">20</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¥éª¤</span></span><br><span class="line"><span class="keyword">const</span> driver = <span class="keyword">new</span> Driver();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Define the steps for introduction</span></span><br><span class="line">driver.defineSteps([</span><br><span class="line">  &#123;</span><br><span class="line">    element: <span class="string">'#first-element-introduction'</span>,</span><br><span class="line">    popover: &#123;</span><br><span class="line">      className: <span class="string">'first-step-popover-class'</span>,</span><br><span class="line">      title: <span class="string">'Title on Popover'</span>,</span><br><span class="line">      description: <span class="string">'Body of the popover'</span>,</span><br><span class="line">      position: <span class="string">'left'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    element: <span class="string">'#second-element-introduction'</span>,</span><br><span class="line">    popover: &#123;</span><br><span class="line">      title: <span class="string">'Title on Popover'</span>,</span><br><span class="line">      description: <span class="string">'Body of the popover'</span>,</span><br><span class="line">      position: <span class="string">'top'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    element: <span class="string">'#third-element-introduction'</span>,</span><br><span class="line">    popover: &#123;</span><br><span class="line">      title: <span class="string">'Title on Popover'</span>,</span><br><span class="line">      description: <span class="string">'Body of the popover'</span>,</span><br><span class="line">      position: <span class="string">'right'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Start the introduction</span></span><br><span class="line">driver.start();</span><br></pre></td></tr></table></figure>

<h4 id="intro-js"><a href="#intro-js" class="headerlink" title="intro.js"></a>intro.js</h4><blockquote>
<p><strong><code>intro.js</code></strong> æ˜¯æ˜¯ä¸€ä¸ªå¼€æºçš„ vanilla Javascript/CSS åº“ï¼Œç”¨äºæ·»åŠ åˆ†æ­¥ä»‹ç»æˆ–æç¤ºï¼Œå¤§å°åœ¨ 10kBå·¦å³ï¼Œå±äºè½»é‡çº§çš„ä¸”æ— å¤–éƒ¨ä¾èµ–ã€‚</p>
</blockquote>
<p>githubåœ°å€: <a href="https://github.com/usablica/intro.js/" target="_blank" rel="noopener">intro.js</a></p>
<p>ä½¿ç”¨demoæ•™ç¨‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> introJs <span class="keyword">from</span> <span class="string">'intro.js'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'intro.js/introjs.css'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨HTMLå±æ€§</span></span><br><span class="line">&lt;a href=<span class="string">'http://google.com/'</span> data-intro=<span class="string">'Hello step one!'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨JSONé…ç½®</span></span><br><span class="line">&lt;section <span class="class"><span class="keyword">class</span></span>=<span class="string">"nav-menu"</span>&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li id=<span class="string">"step1"</span>&gt;æ­¥éª¤ä¸€&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">        &lt;li id="step2"&gt;æ­¥éª¤2&lt;/</span>li&gt;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>section&gt;</span><br><span class="line"><span class="comment">// é…ç½®</span></span><br><span class="line">introJs().setOptions(&#123;</span><br><span class="line">  steps: [&#123;</span><br><span class="line">    title: <span class="string">'Welcome'</span>,</span><br><span class="line">    intro: <span class="string">'Hello World! ğŸ‘‹'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    element: <span class="built_in">document</span>.querySelector(<span class="string">'#step1'</span>),</span><br><span class="line">    intro: <span class="string">'This step focuses on an image'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    title: <span class="string">'Farewell!'</span>,</span><br><span class="line">    element:<span class="built_in">document</span>.querySelector(<span class="string">'#step2'</span>),,</span><br><span class="line">    intro: <span class="string">'And this is our final step!'</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;).start();</span><br></pre></td></tr></table></figure>

<h4 id="shepherd-js"><a href="#shepherd-js" class="headerlink" title="shepherd.js"></a>shepherd.js</h4><blockquote>
<p><strong><code>shepherd.js</code></strong> åŒ…å«çš„ API ä¼—å¤šï¼Œå¤§å¤šåœºæ™¯éƒ½å¯ä»¥é€šè¿‡å…¶å¯¹åº”çš„é…ç½®å¾—åˆ°ï¼Œç¼ºç‚¹å°±æ˜¯æ•´ä½“çš„åŒ…ä½“ç§¯è¾ƒå¤§ï¼Œå¹¶ä¸”é…ç½®ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œé…ç½®å¤æ‚çš„å†…å®¹ä¸€èˆ¬éƒ½éœ€è¦è¿›è¡ŒäºŒæ¬¡å°è£…ï¼Œå°†å¯å˜å’Œä¸å¯å˜çš„é…ç½®é¡¹è¿›è¡ŒæŠ½ç¦»</p>
</blockquote>
<p>githubåœ°å€: <a href="https://github.com/shipshapecode/shepherd" target="_blank" rel="noopener">shepherd.js</a><br>ä½¿ç”¨demoæ•™ç¨‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Shepherd <span class="keyword">from</span> <span class="string">'shepherd.js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> tour = <span class="keyword">new</span> Shepherd.Tour(&#123;</span><br><span class="line">  defaultStepOptions: &#123;</span><br><span class="line">    cancelIcon: &#123;</span><br><span class="line">      enabled: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    classes: <span class="string">'class-1 class-2'</span>,</span><br><span class="line">    scrollTo: &#123; <span class="attr">behavior</span>: <span class="string">'smooth'</span>, <span class="attr">block</span>: <span class="string">'center'</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ æ­¥éª¤æŒ‡å¼•</span></span><br><span class="line">tour.addStep(&#123;</span><br><span class="line">  title: <span class="string">'Creating a Shepherd Tour'</span>,</span><br><span class="line">  text: <span class="string">`Creating a Shepherd tour is easy. too!\</span></span><br><span class="line"><span class="string">  Just create a \`Tour\` instance, and add as many steps as you want.`</span>,</span><br><span class="line">  attachTo: &#123;</span><br><span class="line">    element: <span class="string">'.hero-example'</span>,</span><br><span class="line">    on: <span class="string">'bottom'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  buttons: [</span><br><span class="line">    &#123;</span><br><span class="line">      action() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.back();</span><br><span class="line">      &#125;,</span><br><span class="line">      classes: <span class="string">'shepherd-button-secondary'</span>,</span><br><span class="line">      text: <span class="string">'Back'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      action() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.next();</span><br><span class="line">      &#125;,</span><br><span class="line">      text: <span class="string">'Next'</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  id: <span class="string">'creating'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å±•ç¤ºæŒ‡å¼•</span></span><br><span class="line">tour.start();</span><br></pre></td></tr></table></figure>

<h2 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h2><p>å¼•å¯¼é¡µä»å®ƒå±•ç¤ºæ–¹å¼è¯´èµ·ï¼Œè¦å®ç°å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>é«˜äº®éƒ¨åˆ†</strong>ï¼Œé€šè¿‡<code>el.cloneNode(true)</code>å¤åˆ¶å…ƒç´ èŠ‚ç‚¹ï¼Œå°†èŠ‚ç‚¹å¤åˆ¶åˆ°è’™å±‚</li>
<li><strong>å¼•å¯¼éƒ¨åˆ†</strong>ï¼Œå±•ç¤ºå¼•å¯¼æ¡†ï¼Œå¹¶å°†å¼•å¯¼æ¡†ä¸é«˜äº®éƒ¨åˆ†è¿›è¡Œå®šä½</li>
<li><strong>è¿‡åº¦åŠ¨ç”»</strong>ï¼Œé€šè¿‡è®¾ç½®<code>transition</code>å®ç°</li>
<li><strong>é¡µé¢ç›‘å¬</strong>ï¼Œå½“é¡µé¢å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå¼•å¯¼é¡µéœ€è¦é‡æ–°æ¸²æŸ“è®¡ç®—</li>
</ol>
<p>å…·ä½“å®ç°å¯ä»¥ç‚¹å‡»æŸ¥çœ‹æºç <a href="/code/tour.js">tour.js</a>ã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ul>
<li><a href="https://mp.weixin.qq.com/s/-O_AnG2pc5H5hLcwu9PTCA" target="_blank" rel="noopener">ä¸ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ€ä¹ˆå®ç°ã€å‰ç«¯å¼•å¯¼é¡µã€‘åŠŸèƒ½ï¼Ÿ</a></li>
</ul>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»å°è¯•æ­å»ºNASäº†è§£å„ç±»äº‘ç¡¬ç›˜åè®®ï¼ˆä¸€ï¼‰</title>
    <url>/today/20230104.html</url>
    <content><![CDATA[<h1 id="NAS-æ˜¯ä»€ä¹ˆ"><a href="#NAS-æ˜¯ä»€ä¹ˆ" class="headerlink" title="NAS æ˜¯ä»€ä¹ˆ"></a>NAS æ˜¯ä»€ä¹ˆ</h1><p>NASï¼Œå…¨ç§°Network Attached Storageï¼Œä¸­æ–‡åï¼š ç½‘ç»œé™„å±å­˜å‚¨ã€‚</p>
<p>å¯ä»¥ç†è§£æˆæ˜¯é•¿æ—¶é—´è”ç½‘çš„å­˜å‚¨è®¾å¤‡ï¼Œæ¯”å¦‚ä½ æœ‰ä¸ªç¡¬ç›˜ï¼Œé‡Œé¢å­˜å‚¨äº†ä¸€äº›æ•™å­¦è§†é¢‘ï¼Œä½ æƒ³è¦åˆ«çš„åœ°æ–¹å»è®¿é—®ï¼Œæ¯”å¦‚åœ¨æ‰‹æœºæˆ–è€…ç”µè„‘ä¸Šè®¿é—®ï¼Œé‚£ä¹ˆNASå°±èƒ½å¤Ÿè§£å†³ä½ è¿™ä¸ªé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>NASå¯ä»¥è§£å†³ä»€ä¹ˆåœºæ™¯ç—›ç‚¹ï¼š</p>
<ul>
<li>ä½ çš„ç…§ç‰‡ã€è§†é¢‘å¯ä»¥éšæ—¶ä¸Šä¼ ï¼Œå¤§å°ã€é¢˜æä¸é™åˆ¶</li>
<li>è®¿é—®é€Ÿåº¦å¿«ï¼Œå°¤å…¶åœ¨å®¶çš„æ—¶å€™å±€åŸŸç½‘æ›´å¿«</li>
<li>ä¿¡æ¯å®‰å…¨ï¼Œä¸å†æ‹…å¿ƒä½ çš„ä¿¡æ¯è¢«äº‘ç›˜å‚å•†æ³„éœ²</li>
</ul>
<a id="more"></a>

<h1 id="éƒ¨ç½²NAS"><a href="#éƒ¨ç½²NAS" class="headerlink" title="éƒ¨ç½²NAS"></a>éƒ¨ç½²NAS</h1><p>éƒ¨ç½²NASä¸€èˆ¬æœ‰ä¸¤ç§éƒ¨ç½²æ–¹æ¡ˆï¼š</p>
<ol>
<li>è´­ä¹°ç°æˆçš„NASï¼Œä¸€èˆ¬æœåŠ¡å‚å•†ä¼šå°†è§£å†³ä½ çš„æ‰€æœ‰é—®é¢˜ï¼Œä¸€é”®å‚»ç“œå¼éƒ¨ç½²</li>
<li>è‡ªå·±æŠ˜è…¾æ­å»ºNASï¼Œé‚£ä¹ˆéœ€è¦ä¸€å°7*24å°æ—¶æœåŠ¡å™¨ï¼Œæ­å»ºNASæœåŠ¡ï¼ŒåŒæ—¶è¿˜éœ€è¦æä¸ªappæ”¯æŒNASï¼Œæ”¯æŒæ‰‹æœºå®¢æˆ·ç«¯è®¿é—®</li>
</ol>
<p>ç¬¬ä¸€ç§æ–¹æ¡ˆç®€å•ï¼Œä½†æ˜¯æœ‰ç‚¹è´¹é’±</p>
<p>ç¬¬äºŒç§æ–¹æ¡ˆå›°éš¾ï¼Œä½†æ˜¯ä¸è´¹é’±</p>
]]></content>
      <tags>
        <tag>æ¯æ—¥æ›´æ–°</tag>
        <tag>åŠ¨æ‰‹å®æˆ˜</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»çŸ­è§†é¢‘åˆ°çŸ­è§†é¢‘æ€ç»´</title>
    <url>/today/20230105.html</url>
    <content><![CDATA[<h1 id="çŸ­è§†é¢‘çš„èƒŒæ™¯"><a href="#çŸ­è§†é¢‘çš„èƒŒæ™¯" class="headerlink" title="çŸ­è§†é¢‘çš„èƒŒæ™¯"></a>çŸ­è§†é¢‘çš„èƒŒæ™¯</h1><h2 id="æ ¸å¿ƒ"><a href="#æ ¸å¿ƒ" class="headerlink" title="æ ¸å¿ƒ"></a>æ ¸å¿ƒ</h2><p>äººç±»çš„éœ€æ±‚â€”â€”è®°å½•ã€è¡¨è¾¾ã€åˆ†äº«</p>
<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><ul>
<li>æ™ºèƒ½æ‰‹æœºæ™®åŠ</li>
<li>æ³•å¾‹æ³•è§„å…è®¸</li>
<li>å¤§æ•°æ®ã€AIç®—æ³•æˆç†Ÿ</li>
</ul>
<a id="more"></a>
<h1 id="çŸ­è§†é¢‘è®²è§£"><a href="#çŸ­è§†é¢‘è®²è§£" class="headerlink" title="çŸ­è§†é¢‘è®²è§£"></a>çŸ­è§†é¢‘è®²è§£</h1><h2 id="AIè¾…åŠ©å†…å®¹è§£æ"><a href="#AIè¾…åŠ©å†…å®¹è§£æ" class="headerlink" title="AIè¾…åŠ©å†…å®¹è§£æ"></a>AIè¾…åŠ©å†…å®¹è§£æ</h2><ul>
<li>AIè¯†åˆ«è§†é¢‘å†…å®¹</li>
<li>åˆ†ç±»è§†é¢‘æ¨¡å‹ï¼Œå¦‚ï¼šè‰²æƒ…ã€ä½ä¿—ã€æ€§æ„Ÿã€ç¤¾ä¼šäº‹ä»¶ã€æ­¦å™¨æ¨¡å‹ã€æ•æ„Ÿäººç‰©ã€æç«¯ç»„ç»‡ã€é«˜å±ç­‰</li>
<li>å†…å®¹å®¡æ ¸</li>
</ul>
<h2 id="AIæ¨èç®—æ³•"><a href="#AIæ¨èç®—æ³•" class="headerlink" title="AIæ¨èç®—æ³•"></a>AIæ¨èç®—æ³•</h2><p>ç»™ä½ çˆ±çœ‹ï¼Œä¹Ÿç»™ä½ å¥½çœ‹çš„çŸ­è§†é¢‘ã€‚</p>
<ul>
<li>ç”¨æˆ·ä¾§ç‰¹å¾ï¼šçˆ±å¥½ã€å¹´é¾„ã€èŒä¸šç­‰</li>
<li>è§†é¢‘ä¾§ç‰¹å¾ï¼šå® ç‰©ã€æ—…è¡Œã€ç”µå½±ç­‰</li>
<li>æµè¡Œåº¦ç‰¹å¾ï¼šæ’­æ”¾é‡ã€åœç•™æ—¶é—´ã€å®Œæ’­ç‡ã€åˆ†äº«ç‡ç­‰</li>
</ul>
<h3 id="å†…å®¹æµè½¬é€»è¾‘"><a href="#å†…å®¹æµè½¬é€»è¾‘" class="headerlink" title="å†…å®¹æµè½¬é€»è¾‘"></a>å†…å®¹æµè½¬é€»è¾‘</h3><p>æŠ–éŸ³æµé‡æ± ï¼Œ æŒ‰ç…§æ’­æ”¾æ¬¡æ•°ï¼Œåšç»Ÿè®¡ï¼Œå¦‚ä¸‹</p>
<ul>
<li>ç§å­æµé‡æ±  ï¼š æ•°ç™¾</li>
<li>åˆçº§æµé‡æ± ï¼š1w~10w</li>
<li>ä¸­çº§æµé‡æ± ï¼š10w~100w</li>
<li>é«˜çº§æµé‡æ± ï¼š100w~1000w</li>
<li>sçº§æµé‡æ± ï¼š1000w+</li>
<li>ç‹è€…æµé‡æ± ï¼šå…¨ç«™ã€æ–°æ‰‹</li>
</ul>
<p><strong>æ‰­è½¬æµç¨‹</strong>ï¼š</p>
<p>ä¸Šä¼ -&gt;ç¨‹åºåˆ¤æ–­-&gt;å®¡æ ¸å¤±è´¥</p>
<p>ä¸Šä¼ &gt;ç¨‹åºåˆ¤æ–­-&gt;ä¸Šä¼ æˆåŠŸ-&gt;ç§å­æ± -&gt;è¾¾åˆ°æ¨èæ ‡å‡†-&gt;åˆçº§-&gt;ä¸­çº§-&gt;é«˜çº§-&gt;å…¨ç«™</p>
<h1 id="åšçŸ­è§†é¢‘æ ¸å¿ƒ"><a href="#åšçŸ­è§†é¢‘æ ¸å¿ƒ" class="headerlink" title="åšçŸ­è§†é¢‘æ ¸å¿ƒ"></a>åšçŸ­è§†é¢‘æ ¸å¿ƒ</h1><p>ä¸€å¥è¯ï¼Œå¿˜è®°æ¶¨ç²‰ï¼Œå›å½’ä»·å€¼</p>
<ul>
<li>åšçŸ­è§†é¢‘ï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿</li>
<li>èƒ½å¤Ÿæä¾›ä»€ä¹ˆæœ‰ä»·å€¼çš„è§†é¢‘ç»™åˆ°ç”¨æˆ·</li>
</ul>
<h1 id="ä»€ä¹ˆæ˜¯çŸ­è§†é¢‘æ€ç»´"><a href="#ä»€ä¹ˆæ˜¯çŸ­è§†é¢‘æ€ç»´" class="headerlink" title="ä»€ä¹ˆæ˜¯çŸ­è§†é¢‘æ€ç»´"></a>ä»€ä¹ˆæ˜¯çŸ­è§†é¢‘æ€ç»´</h1><p>çŸ­è§†é¢‘ï¼Œæ˜¯ä»å™äº‹åŸºç¡€è®¾æ–½æ”¹å˜ï¼š é‡æ„ç”Ÿäº§ã€å‘è¡Œã€å®£ä¼ </p>
<p>å½±å“æŠ–éŸ³ã€å¿«æ‰‹æ¨èå› ç´ ï¼š<br>æŠ–éŸ³ï¼š</p>
<ul>
<li>å®Œæ’­ç‡</li>
<li>å¤æ’­ç‡</li>
<li>åˆ†äº«ç‡</li>
<li>è¯„è®ºç‡</li>
<li>ç‚¹èµç‡</li>
</ul>
<p>å¿«æ‰‹å¤šäº†ï¼šï¼ˆæ³¨é‡å°é¢ï¼‰</p>
<ul>
<li>ç‚¹å‡»ç‡</li>
<li>è½¬ç²‰ç‡</li>
</ul>
<h2 id="çŸ­è§†é¢‘æ€ç»´åŸåˆ™"><a href="#çŸ­è§†é¢‘æ€ç»´åŸåˆ™" class="headerlink" title="çŸ­è§†é¢‘æ€ç»´åŸåˆ™"></a>çŸ­è§†é¢‘æ€ç»´åŸåˆ™</h2><p>æ—¶é•¿ï¼šèƒ½çŸ­ä¸€ç§’æ˜¯ä¸€ç§’ï¼›</p>
<p>æ€ä¹ˆåšï¼š</p>
<ul>
<li>åæœŸï¼šèƒ½å°‘ä¸€å¸§æ˜¯ä¸€å¸§ï¼›</li>
<li>ç¼–å‰§ï¼šèƒ½å°‘ä¸€å­—æ˜¯ä¸€å­—ï¼›</li>
<li>å¯¼æ¼”ï¼šç”»é¢ä¸Šæ¯ä¸€å¸§éƒ½æ˜¯ç»è¿‡è®¾è®¡çš„ï¼›</li>
<li>è¿è¥ï¼šå¼•å¯¼äº’åŠ¨</li>
</ul>
<p>å†…å®¹ï¼šç”¨è®²æ•…äº‹çš„æ–¹å¼å»ºç«‹è®¤åŒæ„Ÿï¼›</p>
<p>æ€ä¹ˆåšï¼š</p>
<ul>
<li>è¦ä¹ˆå¥½ç©ï¼Œè¦ä¹ˆæœ‰ç”¨ï¼Œå¥½å†…å®¹æ»¡è¶³äººæ€§ï¼›</li>
<li>é»„é‡‘5ç§’ï¼›</li>
<li>å¤šä¸ªæ¢—ä¸å†²çªï¼›</li>
<li>è®¾è®¡çš„ç»“å°¾</li>
</ul>
<h2 id="çŸ­è§†é¢‘æ€ç»´æœ¬è´¨"><a href="#çŸ­è§†é¢‘æ€ç»´æœ¬è´¨" class="headerlink" title="çŸ­è§†é¢‘æ€ç»´æœ¬è´¨"></a>çŸ­è§†é¢‘æ€ç»´æœ¬è´¨</h2><p>æœ¬è´¨ï¼šæ•°æ®ä¸æ•ˆç‡</p>
<ul>
<li>æ—¶é•¿çŸ­ï¼Œæˆå“å¿«</li>
<li>ç‚¹èµç‡ï¼Œæ’­æ”¾ç‡</li>
<li>å¿«é€Ÿè¿­ä»£ã€ä½æˆæœ¬</li>
</ul>
<p>åˆ¶ä½œæ­¥éª¤ï¼š</p>
<ul>
<li>å¤šç»´åº¦å¿«é€Ÿè¿­ä»£ï¼Œå¤šåšå°è¯•</li>
<li>å®šå‹IP,IPæˆç«‹åªå·®ä¸€ä¸ªçˆ†æ¬¾</li>
<li>ä¸æ–­å¤ç›˜æ€»ç»“ã€å¼ºåŒ–æ•…äº‹å†²çªã€å¼ºåŒ–äººç‰©æ€§æ ¼</li>
<li>æ·±åº¦è¿è¥ã€å†…å®¹å®šåˆ¶ï¼Œç®€å•è¯´å°±æ˜¯å†…å®¹å‡çº§ã€ä¸æ–­æ»¡è¶³ç²‰ä¸çš„é¢„æœŸ</li>
</ul>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒçŸ­è§†é¢‘æ€ç»´å°±æ˜¯å‡ ç‚¹ï¼š</p>
<ul>
<li>ç§‰æŒä¸æ–­å­¦ä¹ çš„æ€åº¦ï¼Œå‹‡æ•¢å°è¯•å„ç§ç±»å‹</li>
<li>æ•ˆç‡è‡³ä¸Šï¼Œè¿­ä»£é€Ÿåº¦å¤Ÿå¿«</li>
<li>ç”¨æˆ·ä»·å€¼æ˜¯æ ¸å¿ƒæ€æƒ³ï¼Œä½ èƒ½å¤Ÿæä¾›ä»€ä¹ˆä»·å€¼çš„è§†é¢‘ç»™åˆ°ç”¨æˆ·</li>
</ul>
]]></content>
      <tags>
        <tag>æ¯æ—¥æ›´æ–°</tag>
        <tag>çŸ­è§†é¢‘</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»å®¡æ‰¹æµåˆ°bpmn-jså…¥é—¨</title>
    <url>/today/20230106.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>å…¬å¸å†…éƒ¨ç”±äºéœ€è¦å¾ˆå¤šå®¡æ‰¹åœ°æ–¹ï¼Œä¸€å¼€å§‹é‡‡ç”¨é‚®ä»¶æˆ–è€…ä¼ä¸šå¾®ä¿¡è¿›è¡Œå£å¤´å®¡æ‰¹ï¼Œä¸€èˆ¬ä¼šæŠ„é€ç›¸å…³äººå‘˜ï¼Œä»¥è¾¾åˆ°åˆæ­¥å®¡æ‰¹çš„æ•ˆæœï¼Œä½†æ˜¯éšç€å®¡æ‰¹è¶Šæ¥è¶Šå¤æ‚ï¼Œæ¯”å¦‚æœ‰æ—¶å€™éœ€è¦é©³å›æˆ–è€…è½¬æ¥ï¼Œç”šè‡³éœ€è¦è°ƒç”¨å…¶ä»–ç³»ç»Ÿæ¥å£ç»§ç»­æµç¨‹çš„æ—¶å€™ï¼Œå°±å¾ˆéº»çƒ¦ï¼Œå› æ­¤è¿«åˆ‡éœ€è¦ä¸€ä¸ªå·¥ä½œæµå»è§£å†³å®¡æ‰¹ç›¸å…³äº‹æƒ…ã€‚</p>
<h1 id="é€‰å‹"><a href="#é€‰å‹" class="headerlink" title="é€‰å‹"></a>é€‰å‹</h1><p>åœ¨é€‰å‹å‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å·¥ä½œæµæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p>å·¥ä½œæµå°±æ˜¯é€šè¿‡è®¡ç®—æœºæŠ€æœ¯å¯¹ä¸šåŠ¡æµç¨‹è¿›è¡Œè‡ªåŠ¨åŒ–ç®¡ç†ã€‚å®ç°å¤šä¸ªå‚ä¸è€…æŒ‰ç…§é¢„å®šçš„æµç¨‹å»è‡ªåŠ¨æ‰§è¡Œä¸šåŠ¡æµç¨‹ã€‚</p>
<blockquote>
<p>å·¥ä½œæµå®šä¹‰: é€šè¿‡è®¡ç®—æœºå¯¹ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–æ‰§è¡Œç®¡ç†</p>
</blockquote>
<p>å†é€šä¿—ä¸€ç‚¹ï¼Œå·¥ä½œæµå°±æ˜¯é€šè¿‡ç¨‹åºå»è‡ªåŠ¨å®ç°å¹³æ—¶éœ€è¦äººå·¥æ“ä½œçš„æµç¨‹èŠ‚ç‚¹ï¼Œæ‰€ä»¥å·¥ä½œæµèƒ½è§£å†³çš„é—®é¢˜ä¸€å®šæ˜¯å¯ä»¥è¢«æµç¨‹åŒ–çš„é—®é¢˜ã€‚</p>
<p>ç„¶è€Œè¿™ä¸€è¿‡ç¨‹è¢«å¤§å®¶ç»Ÿç§°ä¸ºä¸šåŠ¡æµç¨‹å»ºæ¨¡ï¼Œé€šå¸¸å¯¹å·²ç»å­˜åœ¨å¤æ‚é—®é¢˜è¿›è¡Œæ¨¡å‹åŒ–çš„æŠ½è±¡ï¼Œé€šè¿‡æ¨¡å‹æ¥æ¨å¯¼è§£å†³é—®é¢˜çš„æ–¹æ¡ˆã€‚</p>
<a id="more"></a>

<h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><h3 id="BPM"><a href="#BPM" class="headerlink" title="BPM"></a>BPM</h3><p><code>BPM(Business Process Management)</code>ï¼Œ ä¸šåŠ¡æµç¨‹ç®¡ç†ï¼Œæ˜¯æŒ‡çš„åœ¨å·¥ä½œæµçš„åŸºç¡€ä¸Šï¼ŒåŸºäºä¸šåŠ¡æµç¨‹å»ºæ¨¡ï¼Œæ”¯æŒä¸šåŠ¡æµç¨‹çš„åˆ†æã€å»ºæ¨¡ã€æ¨¡æ‹Ÿã€ä¼˜åŒ–ã€ååŒä¸ç›‘æ§ç­‰åŠŸèƒ½çš„æ–°ä¸€ä»£ä¼ä¸šåº”ç”¨ç³»ç»Ÿæ ¸å¿ƒã€‚</p>
<p>ç®€å•ç‚¹è¯´ï¼Œ<code>BPM</code>å…¶å®ä¸€ä¸ªä¸šåŠ¡æµç¨‹ç®¡ç†ç³»ç»Ÿçš„ç»Ÿç§°ï¼Œä¸å•å•å¯ä»¥å®ç°å®¡æ‰¹æµï¼Œè¿˜å¯ä»¥å®ç°å„ç§æ›´ä¸ºå¤æ‚çš„ä¸šåŠ¡æµç¨‹ï¼Œå¦‚ï¼šæ•°æ®åŒæ­¥ç­‰ã€‚</p>
<h3 id="BPMN"><a href="#BPMN" class="headerlink" title="BPMN"></a>BPMN</h3><p><code>BPMNï¼ˆBusiness Process Model And Notationï¼‰</code>ï¼Œ ä¸šåŠ¡æµç¨‹æ¨¡å‹å’Œç¬¦å·ï¼Œç”±<code>BPMIï¼ˆBusiness Process Management Initiativeï¼‰</code>å¼€å‘çš„ä¸€å¥—æ ‡å‡†çš„ä¸šåŠ¡æµç¨‹å»ºæ¨¡ç¬¦å·ï¼Œä½¿ç”¨BPMN æä¾›çš„ç¬¦å·å¯ä»¥åˆ›å»ºä¸šåŠ¡æµç¨‹ã€‚</p>
<p>æ›´åŠ å®¹æ˜“ç†è§£çš„è¯´ï¼Œ<code>BPMN</code>æ˜¯å®ç°<code>BPM</code>çš„ä¸€å¥—æ ‡å‡†ï¼Œåˆ¶å®šå¾ˆå¤šå»ºæ¨¡ç¬¦å·æ ‡å‡†ã€‚</p>
<p>è¿™é‡Œç®€å•æ¯”å–»ä¸€ä¸‹ï¼Œ<code>BPMN</code>æ˜¯ä¸€é—¨è¯­è¨€ï¼Œä½ å¯ä»¥ç”¨å®ƒå»å¼€å‘<code>BPM</code>ç³»ç»Ÿã€‚</p>
<p>åé¢ä¼šæ›´åŠ è¯¦ç»†è®²è§£ <code>BPMN</code> çš„åŸºç¡€çŸ¥è¯†ã€‚</p>
<p>å»ºæ¨¡ç¬¦å·äº†è§£ï¼Œå¯ä»¥æ”¾åˆ°ä¸‹ä¸€ç« èŠ‚åˆ†äº«ã€‚</p>
<h3 id="å·¥ä½œæµå¼•æ“é€‰å‹"><a href="#å·¥ä½œæµå¼•æ“é€‰å‹" class="headerlink" title="å·¥ä½œæµå¼•æ“é€‰å‹"></a>å·¥ä½œæµå¼•æ“é€‰å‹</h3><p>ç”±äº<code>BPMN</code>æ˜¯å¸‚é¢ä¸»æµçš„å·¥ä½œæµæ ‡å‡†ï¼Œ é‚£ä¹ˆå¸‚é¢ç»å¤§éƒ¨åˆ†å·¥ä½œæµå¼•æ“éƒ½æ˜¯åŸºäºè¯¥æ ‡å‡†å»å®ç°ã€‚ä¸‹é¢ç½—åˆ—ä¸€ä¸‹ç›®å‰å¸‚é¢ä¸Šä¸»æµçš„å„ç§å¼•æ“ï¼š</p>
<ul>
<li><code>Osworkflow</code>,ä¸€ä¸ªè½»é‡åŒ–çš„æµç¨‹å¼•æ“ï¼ŒåŸºäºçŠ¶æ€æœºæœºåˆ¶ï¼Œä½†ä¸æ”¯æŒä¼šç­¾ã€è·³è½¬ã€é€€å›ã€åŠ ç­¾ç­‰è¿™äº›æ“ä½œï¼Œéœ€è¦è‡ªå·±æ‰©å±•å¼€å‘ï¼Œæœ‰ä¸€å®šéš¾åº¦ï¼Œå¦‚æœæµç¨‹æ¯”è¾ƒç®€å•ï¼Œosworkflowæ˜¯å¾ˆå¥½çš„é€‰æ‹©ä½†è¯¥å¼€æºç»„ä»¶å·²è¿‡æ—¶ï¼Œé•¿æ—¶é—´æ²¡æœ‰ç‰ˆæœ¬å‡çº§äº†ã€‚</li>
<li><code>JBPM</code>, ä»¥<code>JBPM4</code>ç‰ˆæœ¬ä½œä¸ºåˆ†å‰²ç‚¹ï¼ŒJBPM5ä»¥åç‰ˆæœ¬åŸºäº<code>Drools Flow</code>ï¼Œ JBPM4å·²åœæ­¢ç»´æŠ¤ï¼Œä¹Ÿä¸å»ºè®®é€‰æ‹©ã€‚</li>
<li><code>Activiti</code>, activiti5å’Œactiviti6æ˜¯åŸºäº<code>JBPM4</code>å¼€æºï¼Œ<code>activiti7</code>æ˜¯åŸºäº6å‡çº§çš„ï¼Œå†…æ ¸åŸºæœ¬ä¸å˜ï¼Œä½†æ˜¯ç”±äº<code>Tijs Rademakers</code>ç¦»å¼€ï¼Œè°¨æ…é€‰æ‹©ã€‚</li>
<li><a href="https://flowable.com/open-source" target="_blank" rel="noopener"><code>flowable</code></a>, åŸºäºactiviti6è¡ç”Ÿå‡ºæ¥çš„ç‰ˆæœ¬ï¼Œä»¥flowable6.4.1ç‰ˆæœ¬ä¸ºåˆ†æ°´å²­ï¼Œå¤§åŠ›å‘å±•å…¶å•†ä¸šç‰ˆäº§å“ï¼Œå¼€æºç‰ˆæœ¬ç»´æŠ¤ä¸åŠæ—¶ï¼Œéƒ¨åˆ†åŠŸèƒ½å·²ç»ä¸å†å¼€æºç‰ˆå‘å¸ƒï¼Œå¯ä»¥è€ƒè™‘é€‰æ‹©ã€‚</li>
<li><a href="https://docs.camunda.org/manual/7.18/" target="_blank" rel="noopener"><code>Camunda</code></a>, CamundaåŸºäºactiviti5ï¼Œæ‰€ä»¥å…¶ä¿ç•™äº†PVMï¼Œå•†ä¸šç‰ˆæœ¬å’Œå¼€æºç‰ˆæœ¬åŠŸèƒ½ç›¸å·®ä¸å¤§ï¼Œå»ºè®®é€‰æ‹©ã€‚</li>
</ul>
<h3 id="æµç¨‹è®¾è®¡å™¨é€‰å‹"><a href="#æµç¨‹è®¾è®¡å™¨é€‰å‹" class="headerlink" title="æµç¨‹è®¾è®¡å™¨é€‰å‹"></a>æµç¨‹è®¾è®¡å™¨é€‰å‹</h3><p>å¯¹äºä½ä»£ç å¹³å°ä¸­çš„æµç¨‹å¯è§†åŒ–ï¼Œæµç¨‹è®¾è®¡å™¨æ˜¯é‡è¦çš„æ”¯æ’‘å·¥å…·ï¼Œç›®å‰å¸‚åœºä¸Šæ¯”è¾ƒä¸»æµçš„æµç¨‹:</p>
<ul>
<li><a href="https://bpmn.io/" target="_blank" rel="noopener">bpmn-js</a>,æ˜¯ BPMN 2.0 æ¸²æŸ“å·¥å…·åŒ…å’Œ Web æ¨¡å‹ï¼Œä½¿ç”¨ Web å»ºæ¨¡å·¥å…·å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ„å»º BPMN å›¾è¡¨ï¼Œå¯ä»¥æŠŠ BPMN å›¾è¡¨åµŒå…¥åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œå®¹æ˜“æ‰©å±•ã€‚</li>
<li><a href="http://jgraph.github.io/mxgraph/" target="_blank" rel="noopener">mxGraph</a>æ˜¯ä¸€ä¸ªå¼ºå¤§çš„JavaScriptæµç¨‹å›¾å‰ç«¯åº“ï¼Œç”±äºmxGraphæ˜¯ä¸€ä¸ªå¼€æ”¾çš„jsç»˜å›¾å¼€å‘æ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å‘å‡ºå¾ˆç‚«çš„æ ·å¼ï¼Œæˆ–è€…å®Œå…¨æŒ‰ç…§é¡¹ç›®éœ€æ±‚å®šåˆ¶ã€‚</li>
<li>[Activiti-Modeler] Activiti å¼€æºç‰ˆæœ¬ä¸­å¸¦äº†webç‰ˆæµç¨‹è®¾è®¡å™¨,ç•Œé¢ä¸ç¾è§‚ï¼Œç”¨æˆ·ä½“éªŒå·®</li>
<li>[flowable-modeler]flowableå¼€æºç‰ˆæœ¬ä¸­å¸¦äº†webç‰ˆæµç¨‹è®¾è®¡å™¨,ç•Œé¢ä¸ç¾è§‚ï¼Œç”¨æˆ·ä½“éªŒå·®</li>
</ul>
<h3 id="å»ºè®®é€‰å‹"><a href="#å»ºè®®é€‰å‹" class="headerlink" title="å»ºè®®é€‰å‹"></a>å»ºè®®é€‰å‹</h3><p>æ¨èå¤§å®¶ä½¿ç”¨<a href="https://docs.camunda.org/manual/7.18/" target="_blank" rel="noopener"><code>Camunda</code></a>ï¼ˆæµç¨‹å¼•æ“ï¼‰+<a href="https://bpmn.io/" target="_blank" rel="noopener">bpmn-js</a>ï¼ˆæµç¨‹è®¾è®¡å™¨ï¼‰ç»„åˆã€‚</p>
<h1 id="å¿«é€Ÿéƒ¨ç½²"><a href="#å¿«é€Ÿéƒ¨ç½²" class="headerlink" title="å¿«é€Ÿéƒ¨ç½²"></a>å¿«é€Ÿéƒ¨ç½²</h1><p>é€‰å‹åå°±æ˜¯å®æˆ˜ï¼Œæ¨èçš„é€‰å‹éƒ½æœ‰å¾ˆå®Œæ•´çš„å®‰è£…éƒ¨ç½²æ–‡æ¡£ï¼Œä¸‹é¢ç®€å•è¯´ä¸€ä¸‹éƒ¨ç½²æ­¥éª¤ã€‚</p>
<p>å†æ¬¡è¯´æ˜ä¸€ä¸‹ä¸¤è€…çš„åŒºåˆ«ï¼š</p>
<ul>
<li><code>Camunda</code>æ˜¯å·¥ä½œæµå¼•æ“ï¼Œç”¨æ¥æ‰§è¡Œå·¥ä½œæµæ¨¡å‹æ–‡ä»¶ä»»åŠ¡ï¼ŒåŒæ—¶ç®¡ç†å„ç§æµç¨‹æ‰§è¡Œã€‚</li>
<li><code>bpmn-js</code>æ˜¯å‰ç«¯çš„æµç¨‹è®¾è®¡å™¨ï¼ŒåŸºäº<code>bnpm</code>æ ‡å‡†å®ç°ï¼Œç”¨æ¥ç”Ÿæˆå·¥ä½œæµæ¨¡å‹æ–‡ä»¶ã€‚</li>
</ul>
<h2 id="Camundaéƒ¨ç½²"><a href="#Camundaéƒ¨ç½²" class="headerlink" title="Camundaéƒ¨ç½²"></a>Camundaéƒ¨ç½²</h2><ol>
<li>dockerå¿«é€Ÿå®‰è£…åç«¯ï¼š</li>
</ol>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker pull camunda/camunda-bpm-platform:run-latest</span><br><span class="line">docker run -d --name camunda -p 8080:8080 camunda/camunda-bpm-platform:run-latest</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>é€šè¿‡<code>spring boot</code>å¿«é€Ÿåˆ›å»ºé¡¹ç›®ï¼š<br>æ›´æ–°pom.xmlæ–‡ä»¶å†…å®¹</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.tencent<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>camunda_spring_boot<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>camunda_spring_boot<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>camunda_spring_boot<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>17<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">camunda.spring-boot.version</span>&gt;</span>7.15.0<span class="tag">&lt;/<span class="name">camunda.spring-boot.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.camunda.bpm.springboot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>camunda-bpm-spring-boot-starter-webapp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;camunda.spring-boot.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.h2database<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>h2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.sun.xml.bind<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxb-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹ç™»å½•ç”¨æˆ·é…ç½®ï¼Œ application.properties</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="meta">camunda.bpm</span>:<span class="string"></span></span><br><span class="line">  <span class="meta">admin-user</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">id</span>: <span class="string">demo</span></span><br><span class="line">    <span class="attr">password</span>: <span class="string">demo</span></span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">Demo</span></span><br><span class="line">  <span class="attr">filter</span>:<span class="string"></span></span><br><span class="line">    <span class="attr">create</span>: <span class="string">All tasks</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†<code>bpmn-js</code>æ“ä½œå¥½çš„xmlæ–‡ä»¶ä¿å­˜åˆ°<code>src/main/resources/loan-approval.bpmn</code></p>
</li>
</ol>
<p>è¿è¡Œç¨‹åºï¼Œè®¿é—®<a href="http://localhost:8080/camunda/app/cockpit/default/#/dashboard" target="_blank" rel="noopener">http://localhost:8080/camunda/app/cockpit/default/#/dashboard</a>ï¼Œå°±å¯ä»¥çœ‹åˆ°ç›¸å…³ä»»åŠ¡ã€‚</p>
<p>åé¢æ˜¯è¿è¡Œä»»åŠ¡ç­‰ï¼Œå°±ä¸å±äºå…¥é—¨æ•™ç¨‹ï¼Œå¯ä»¥æ”¾åˆ°åé¢æ•™ç¨‹æ…¢æ…¢å­¦ä¹ ã€‚</p>
<h2 id="bpmn-jséƒ¨ç½²"><a href="#bpmn-jséƒ¨ç½²" class="headerlink" title="bpmn-jséƒ¨ç½²"></a>bpmn-jséƒ¨ç½²</h2><p><a href="/fedlearn/code/bpmn-js/index.html">demoè®¿é—®</a>ï¼Œ å¿«é€Ÿä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, user-scalable=no"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>BPMNJSæµ‹è¯•æ¡ˆä¾‹<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="comment">&lt;!-- å¼•å…¥BPMN-JSçš„CSSæ–‡ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/bpmn-js@11.1.0/dist/assets/diagram-js.css"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://unpkg.com/bpmn-js@11.1.0/dist/assets/bpmn-font/css/bpmn.css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"canvas"</span> <span class="attr">style</span>=<span class="string">"height:80vh;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å¼•å…¥BPMN-JSçš„JSæ–‡ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://unpkg.com/bpmn-js@11.1.0/dist/bpmn-modeler.development.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- xmlæ–‡ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./bpmn.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> bpmnModeler = <span class="keyword">new</span> BpmnJS(&#123;</span></span><br><span class="line"><span class="actionscript">      container: <span class="string">'#canvas'</span></span></span><br><span class="line">    &#125;);</span><br><span class="line">		</span><br><span class="line"><span class="actionscript">    bpmnModeler.importXML(xml, <span class="function"><span class="keyword">function</span><span class="params">(err)</span> </span>&#123;</span></span><br><span class="line"><span class="vbscript">	  <span class="keyword">if</span> (<span class="built_in">err</span>) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">console</span>.error(<span class="string">'failed to load diagram'</span>, err);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p><code>BPNM</code>æ˜¯å¤§å®¶ç»Ÿä¸€è®¤çŸ¥çš„ä¸šåŠ¡æµå»ºæ¨¡æ ‡å‡†ï¼Œå®ç°å®ƒçš„å·¥ä½œæµå¼•æ“æœ‰å¾ˆå¤šï¼Œç»è¿‡é€‰å‹æœ€ç»ˆç¡®å®šä½¿ç”¨<a href="https://docs.camunda.org/manual/7.18/" target="_blank" rel="noopener">camunda</a> + <a href="https://bpmn.io/" target="_blank" rel="noopener">bpmn-js</a>ã€‚</p>
<p>ç®€å•å°è¯•ä¸€ä¸‹ï¼Œè¿˜æ˜¯å¾ˆç®€å•å®ç°äº†ä¸€ä¸ªç®€å•å·¥ä½œæµç®¡ç†ç³»ç»Ÿï¼Œä»è®¾è®¡å·¥ä½œæµåˆ°å·¥ä½œæµæ‰§è¡Œã€‚</p>
<p>å¦‚æœè¦çœŸæ­£ç”¨èµ·æ¥ï¼Œè¿˜æ˜¯éœ€è¦å‘å¿ƒæ€å»äº†è§£<code>BPNM</code>çš„æ•´ä½“æ ‡å‡†ï¼Œä»¥åŠ<a href="https://docs.camunda.org/manual/7.18/" target="_blank" rel="noopener">camunda</a>æ˜¯å¦‚ä½•è¿ä½œæ‰§è¡Œçš„ï¼ŒåŒæ—¶éœ€è¦å°†<a href="https://bpmn.io/" target="_blank" rel="noopener">bpmn-js</a>æµç¨‹è®¾è®¡å™¨ã€‚</p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="http://shaochenfeng.com/camunda/10.%E5%88%9B%E5%BB%BA_camunda_spring_boot_%E9%A1%B9%E7%9B%AE/" target="_blank" rel="noopener">camunda Spring Booté¡¹ç›®</a></p>
<p><a href="https://juejin.cn/post/6844904017592614919" target="_blank" rel="noopener">å…¨ç½‘æœ€è¯¦bpmn.jsæ•™æ-httpè¯·æ±‚ç¯‡</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»npmç‰ˆæœ¬ä¾èµ–åˆ°Monorepoå¤§ä»“é¡¹ç›®</title>
    <url>/today/20230107.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>å‰ç«¯çš„å‘å±•å¾ˆå¿«ï¼Œè‡ªä»node.jsçš„å‡ºç°ï¼Œæ‰“å¼€å‰ç«¯æ–°çš„å¤§é—¨ï¼Œnpmè®©jsæœ‰äº†è‡ªå·±çš„åŒ…ç®¡ç†èƒ½åŠ›ï¼Œèƒ½å¤Ÿè®©å‰ç«¯é¡¹ç›®å·¥ç¨‹åŒ–ï¼Œä»è€Œèƒ½å¤Ÿå¤„ç†æ›´åŠ å¤æ‚çš„å‰ç«¯é¡¹ç›®ã€‚</p>
<p>ä½†æ˜¯éšä¹‹è€Œæ¥çš„æ˜¯ï¼ŒåŒä¸€ä¸ªé¡¹ç›®çš„npmä¾èµ–è¶Šæ¥è¶Šå¤šï¼Œæœ‰äº›æ˜¯å¼€æºçš„ï¼Œæœ‰äº›æ˜¯è‡ªç ”çš„ï¼Œå°¤å…¶åœ¨åŒä¸€ä¸ªå›¢é˜Ÿï¼Œå½“ä½ å¼€å‘ä¸€ä¸ªæ–°çš„npmåŒ…çš„æ—¶å€™ï¼Œåªæ˜¯ä¸ºäº†æœåŠ¡ç‰¹å®šå‡ ä¸ªé¡¹ç›®ï¼Œä½†æ˜¯è¿™å‡ ä¸ªé¡¹ç›®ä¸åœ¨ä½ ç®¡ç†èŒƒå›´å†…ï¼Œå½“ä½ éœ€è¦æ›´æ–°çš„æ—¶å€™éœ€è¦é€šçŸ¥åˆ°ä»–ä»¬ï¼Œæœ‰æ—¶å€™ä¼šå‡ºç°ç‰ˆæœ¬ä¾èµ–é—®é¢˜ï¼Œç„¶ååå¤æ²Ÿé€šå’Œæµ‹è¯•ï¼Œæœ€ç»ˆè¾¾åˆ°åè°ƒã€‚ä½†æ˜¯ä¸‹æ¬¡æ›´æ–°çš„æ—¶å€™åˆå†æ¬¡é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œé‡å¤ä¸€æ¬¡ã€‚</p>
<h1 id="npmä¾èµ–"><a href="#npmä¾èµ–" class="headerlink" title="npmä¾èµ–"></a>npmä¾èµ–</h1><h2 id="npmæ˜¯ä»€ä¹ˆ"><a href="#npmæ˜¯ä»€ä¹ˆ" class="headerlink" title="npmæ˜¯ä»€ä¹ˆ"></a>npmæ˜¯ä»€ä¹ˆ</h2><blockquote>
<p>npmï¼ŒNode Package Managerçš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯â€œNodeçš„åŒ…ç®¡ç†å™¨â€ã€‚<br>npmï¼ˆâ€œNode åŒ…ç®¡ç†å™¨â€ï¼‰æ˜¯ JavaScript è¿è¡Œæ—¶ Node.js çš„é»˜è®¤ç¨‹åºåŒ…ç®¡ç†å™¨ã€‚</p>
</blockquote>
<a id="more"></a>

<p>é€šä¿—çš„è¯´ï¼Œnpmæ˜¯ç®¡ç†jsåŒ…çš„å·¥å…·ï¼Œå®ƒåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>npmæºï¼Œå­˜æ”¾å„ç±»npmåŒ…çš„ç½‘ç«™ï¼Œå¯ä»¥æ³¨å†Œï¼Œä¸Šä¼ npmåŒ…</li>
<li>npm-cli å‘½ä»¤å·¥å…·ï¼Œå…è®¸ä½ è‡ªç”±ä¸‹è½½ä»»ä½•npmåŒ…</li>
</ol>
<h2 id="npmå¦‚ä½•ç®¡ç†åŒ…"><a href="#npmå¦‚ä½•ç®¡ç†åŒ…" class="headerlink" title="npmå¦‚ä½•ç®¡ç†åŒ…"></a>npmå¦‚ä½•ç®¡ç†åŒ…</h2><p>é‚£ä¹ˆnpmæ˜¯å¦‚ä½•ç®¡ç†åŒ…çš„å‘¢ï¼Ÿä¸»è¦é¡¹ç›®ä¸‹<code>package.json</code>å¯¹npmè¿›è¡Œæè¿°ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå±æ€§ï¼š</p>
<ul>
<li>nameï¼šJavaScript é¡¹ç›®æˆ–åº“çš„åç§°ã€‚</li>
<li>versionï¼šé¡¹ç›®çš„ç‰ˆæœ¬ã€‚</li>
<li>scriptsï¼š å½“ä½œåœ¨é¡¹ç›®æœ¬åœ°è¿è¡Œçš„å‘½ä»¤è¡Œå·¥å…·</li>
<li>dependenciesï¼šå½“é¡¹ç›®è¢«äººä¾èµ–çš„æ—¶å€™ï¼Œéœ€è¦å®‰è£…çš„npmåŒ…ï¼Œæè¿°ï¼š<code>npmåŒ…åï¼š npmåŒ…ç‰ˆæœ¬</code></li>
<li>devDependenciesï¼šæœ¬åœ°å¼€å‘çš„æ—¶å€™ï¼Œéœ€è¦å®‰è£…çš„npmåŒ…ï¼Œæè¿°ï¼š<code>npmåŒ…åï¼š npmåŒ…ç‰ˆæœ¬</code></li>
</ul>
<p>åŒæ—¶<code>package-lock.json</code>æ–‡ä»¶æè¿°äº† npm JavaScript é¡¹ç›®ä¸­ä½¿ç”¨çš„ä¾èµ–é¡¹çš„ç¡®åˆ‡ç‰ˆæœ¬ï¼Œç¡®ä¿ä¸‹æ¬¡å®‰è£…é¡¹ç›®ä¾èµ–çš„npmåŒ…å‡çº§ç‰ˆæœ¬åå¯¼è‡´é¡¹ç›®æ— æ³•è¿è¡Œï¼ˆè¿™ä¸ªæ˜¯å¾ˆå¤šæ–°æ‰‹å®‰è£…npmåŒ…çš„æ—¶å€™ä¼šé‡åˆ°çš„ä¸€ä¸ªé”™è¯¯ï¼‰ã€‚</p>
<h2 id="npmç‰ˆæœ¬"><a href="#npmç‰ˆæœ¬" class="headerlink" title="npmç‰ˆæœ¬"></a>npmç‰ˆæœ¬</h2><p>npmåŒ…ç‰ˆæœ¬éµå¾ª<code>major.minor.patch</code>ç‰ˆæœ¬æ¨¡å‹è§„èŒƒï¼Œä»€ä¹ˆæ˜¯<code>major.minor.patch</code>ç‰ˆæœ¬æ¨¡å‹è§„èŒƒï¼Œä¸‹é¢å¼•ç”¨ä¸€ä¸‹è¯´æ˜ï¼š</p>
<blockquote>
<p>APRç‰ˆæœ¬è§„èŒƒï¼Œmajoræ˜¯å½“å‰çš„ä¸»ç‰ˆæœ¬å·ï¼Œminoråˆ™æ˜¯æ¬¡ç‰ˆæœ¬å·ï¼Œpatchå¯¹åº”çš„åˆ™æ˜¯APRçš„è¡¥ä¸å·ï¼ŒåŒæ—¶è¿˜æœ‰ç‰ˆæœ¬æ‰€å¤„é˜¶æ®µ<code>base</code>, <code>alpha</code>, <code>beta</code>, <code>RC</code>, <code>release</code>ã€‚</p>
</blockquote>
<p>å› æ­¤åœ¨package.jsonæè¿°çš„ä¾èµ–npmåŒ…çš„ç‰ˆæœ¬å·ï¼Œå¦‚:<code>~1.0.0</code>ï¼Œ<code>^1.0.0</code>ï¼Œå‡ ä¸ªç¬¦å·ä»£è¡¨çš„æ„æ€å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>^</code>ï¼šè¡¨ç¤ºæœ€æ–°çš„æ¬¡ç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼Œ <code>^1.0.4</code>  å¯èƒ½ä¼šå®‰è£…ä¸»ç‰ˆæœ¬ç³»åˆ—  <code>1</code> çš„æœ€æ–°æ¬¡ç‰ˆæœ¬ <code>1.3.0</code>ã€‚</li>
<li><code>ã€œ</code>ï¼šè¡¨ç¤ºæœ€æ–°çš„è¡¥ä¸ç¨‹åºç‰ˆæœ¬ï¼Œä¸  <code>^</code>  ç±»ä¼¼ï¼Œ <code>ã€œ1.0.4</code>  å¯èƒ½ä¼šå®‰è£…æ¬¡ç‰ˆæœ¬ç³»åˆ— <code>1.0</code>  çš„æœ€æ–°æ¬¡ç‰ˆæœ¬<code>1.0.7</code>ã€‚</li>
</ul>
<h2 id="npmåŒ…ç‰ˆæœ¬ä¾èµ–é—®é¢˜"><a href="#npmåŒ…ç‰ˆæœ¬ä¾èµ–é—®é¢˜" class="headerlink" title="npmåŒ…ç‰ˆæœ¬ä¾èµ–é—®é¢˜"></a>npmåŒ…ç‰ˆæœ¬ä¾èµ–é—®é¢˜</h2><p>å³ä½¿æœ‰<code>package-lock.json</code>æˆ–è€…<code>yarn.lock</code>ç­‰çº¦æŸæ–‡ä»¶è§£å†³é¡¹ç›®ä¾èµ–åŒ…çš„ç‰ˆæœ¬çš„é—®é¢˜ï¼Œä½†æ˜¯å½“é¡¹ç›®è¶Šæ¥è¶Šåºå¤§ï¼Œæ‹†åˆ†çš„å…¬å…±npmåŒ…è¶Šæ¥è¶Šå¤šï¼Œè¿™äº›npmç®¡ç†éš¾åº¦å’Œæ•°é‡æˆæ­£æ¯”æå‡ï¼Œå›¢é˜Ÿéœ€è¦é¢ä¸´npmåŒ…ç‰ˆæœ¬é—®é¢˜ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œå°¤å…¶å½“<code>å¾®å‰ç«¯</code>æ¦‚å¿µæå‡ºï¼Œå½“å¤§é¡¹ç›®è¢«æ‹†åˆ†æˆNä¸ªå­é¡¹ç›®çš„æ—¶å€™ï¼Œå›¢é˜Ÿæˆå‘˜éœ€è¦é¢ä¸´ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>å…¬å…±åŒ…npmæ›´æ–°äº†ï¼Œå¦‚ä½•é€šçŸ¥åˆ°å…¶ä»–å­é¡¹ç›®ä¾èµ–çš„npmåŒ…æ›´æ–°ç‰ˆæœ¬</li>
<li>å­é¡¹ç›®æœ‰äº›å…¬å…±çš„ä»£ç éœ€è¦æŠ½è±¡åˆ°å…¬å…±ä¸€èµ·ç»´æŠ¤ï¼Œæ˜¯æŠ½ç¦»æˆnpmåŒ…ï¼Œä½†æ˜¯åˆéœ€è¦æ–°èµ·ä¸€ä¸ªé¡¹ç›®</li>
<li>å…¬å…±npmè¶Šæ¥è¶Šå¤šï¼Œå­é¡¹ç›®ä¹Ÿè¶Šæ‹†è¶Šå¤šï¼Œå¦‚ä½•ç®¡ç†è¿™äº›é¡¹ç›®çš„å¼€å‘ã€æµ‹è¯•å’ŒæŒç»­å‘å¸ƒ</li>
<li>å…¶ä»–å„ç§å¼€å‘ç»†èŠ‚é—®é¢˜â€¦</li>
</ul>
<p>å› æ­¤ï¼Œå¤§å®¶è¿«åˆ‡éœ€è¦å»ä¸€ä¸ªæ ‡å‡†å»ç»Ÿä¸€ç»´æŠ¤ç®¡ç†è¿™äº›é¡¹ç›®ï¼Œå› æ­¤<code>Monorepo</code>ç»Ÿä¸€é¡¹ç›®ç®¡ç†è§„èŒƒï¼Œå°±æ˜¯æˆ‘ä»¬çš„æœ€ä½³é€‰æ‹©ã€‚</p>
<h1 id="Monorepo"><a href="#Monorepo" class="headerlink" title="Monorepo"></a>Monorepo</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><blockquote>
<p>Monorepoæ˜¯åŒ…å«å¤šä¸ªä¸åŒé¡¹ç›®çš„å•ä¸€å­˜å‚¨åº“ï¼Œå…·æœ‰æ˜ç¡®å®šä¹‰çš„å…³ç³»ã€‚</p>
</blockquote>
<p>é€šä¿—çš„è®²ï¼Œ<code>Monorepo</code>å°±æ˜¯å°†å‡ ä¸ªä¸åŒé¡¹ç›®æ”¾åˆ°ä¸€ä¸ªgitä»“åº“é‡Œï¼Œé€šè¿‡åˆ¶å®šä¸€ä¸ªå¤§å®¶éµå¾ªçš„ç®¡ç†è§„èŒƒå’Œå­é¡¹ç›®ä¹‹é—´ä¾èµ–å…³ç³»ã€‚</p>
<p><code>Monorepo</code>å¤§ä»“é¡¹ç›®ä¸<code>monolithic</code>å•ä½“å·¨çŸ³é¡¹ç›®è¿˜æ˜¯æœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼Œä¸‹é¢ç®€å•è¯´æ˜ï¼š</p>
<ul>
<li>Monorepo !== å•ä½“å·¨çŸ³é¡¹ç›®ï¼Œmonorepos ç®€åŒ–äº†ä»£ç å…±äº«å’Œè·¨é¡¹ç›®é‡æ„ï¼Œå®ƒä»¬æ˜¾ç€é™ä½äº†åˆ›å»ºåº“ã€å¾®æœåŠ¡å’Œå¾®å‰ç«¯çš„æˆæœ¬ï¼Œä¸éœ€è¦åšåˆ°ä¸€èµ·å‘å¸ƒ</li>
<li>èƒ½å¤Ÿæœ‰æ•ˆè§£å†³å­é¡¹ç›®ä¸å­é¡¹ç›®çš„ä¹‹é—´ç‰ˆæœ¬ä¾èµ–å…³ç³»ï¼Œè€Œä¸æ˜¯å•çº¯å°†å‡ ä¸ªé¡¹ç›®æ”¾åœ¨ä¸€èµ·å½¢æˆä¸€å †ä»£ç å±±</li>
</ul>
<p>ä¸ºäº†æ›´å¥½çš„äº†è§£<code>Monorepo</code>å¤§ä»“ï¼Œå¯ä»¥å’Œå¯¹ç«‹é¢<code>Polyrepo</code>å¤šä¸ªæ ‡å‡†å¼é¡¹ç›® ä½œå¯¹æ¯”ï¼š</p>
<p><img src="/assets/img/monorepo-polyrepo.svg" alt="å¤§ä»“ä¸å¤šä¸ªå¯¹æ¯”"></p>
<h2 id="monorepo-å·¥å…·"><a href="#monorepo-å·¥å…·" class="headerlink" title="monorepo å·¥å…·"></a>monorepo å·¥å…·</h2><p>Monorepos æœ‰å¾ˆå¤šä¼˜åŠ¿ï¼Œä½†è¦ä½¿å®ƒä»¬å‘æŒ¥ä½œç”¨ï¼Œæ‚¨éœ€è¦æ‹¥æœ‰åˆé€‚çš„å·¥å…·ã€‚éšç€å·¥ä½œç©ºé—´çš„æ‰©å¤§ï¼Œå·¥å…·å¿…é¡»å¸®åŠ©æ‚¨ä¿æŒå¿«é€Ÿã€æ˜“äºç†è§£å’Œç®¡ç†ã€‚</p>
<p>å¸‚é¢ä¸Šä¸»æµçš„<code>Monorepo</code>ç®¡ç†å·¥å…·æœ‰ï¼š</p>
<ul>
<li>Bazelï¼ˆè°·æ­Œï¼‰</li>
<li>Gradle Build Toolï¼ˆGradle, Incï¼‰</li>
<li>Lageï¼ˆå¾®è½¯ï¼‰</li>
<li>Lerna  </li>
<li>Nxï¼ˆNrwlï¼‰</li>
<li>Pantsï¼ˆPants Build ç¤¾åŒºï¼‰</li>
<li>Rushï¼ˆç”± Microsoft)</li>
<li>Turborepoï¼ˆç”± Vercelï¼‰</li>
</ul>
<p>å·¥å…·åº”è¯¥å…·å¤‡ä»¥ä¸‹å‡ ç‚¹èƒ½åŠ›ï¼š</p>
<ul>
<li>æœ¬åœ°è®¡ç®—ç¼“å­˜ï¼Œèƒ½å¤Ÿæä¾›æœ¬åœ°æ„å»ºç¼“å­˜ã€å•å…ƒæµ‹è¯•ç¼“å­˜ç­‰èƒ½åŠ›</li>
<li>æœ¬åœ°ä»»åŠ¡ç¼–æ’ï¼Œèƒ½å¤Ÿä»¥æ­£ç¡®çš„é¡ºåºå¹¶è¡Œè¿è¡Œä»»åŠ¡</li>
<li>åˆ†å¸ƒå¼è®¡ç®—ç¼“å­˜ï¼Œè·¨ä¸åŒç¯å¢ƒå…±äº«ç¼“å­˜å·¥ä»¶çš„èƒ½åŠ›ã€‚è¿™æ„å‘³ç€ä½ çš„æ•´ä¸ªç»„ç»‡ï¼ŒåŒ…æ‹¬ CI ä»£ç†ï¼Œæ°¸è¿œä¸ä¼šæ„å»ºæˆ–æµ‹è¯•ç›¸åŒçš„ä¸œè¥¿ä¸¤æ¬¡ã€‚</li>
<li>åˆ†å¸ƒå¼ä»»åŠ¡æ‰§è¡Œï¼Œåœ¨å¤šå°æœºå™¨ä¸Šåˆ†å‘å‘½ä»¤çš„èƒ½åŠ›ï¼ŒåŒæ—¶åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¿ç•™åœ¨å•å°æœºå™¨ä¸Šè¿è¡Œå®ƒçš„å¼€å‘äººä½“å·¥ç¨‹å­¦ã€‚</li>
<li>é€æ˜è¿œç¨‹æ‰§è¡Œï¼Œåœ¨æœ¬åœ°å¼€å‘æ—¶åœ¨å¤šå°æœºå™¨ä¸Šæ‰§è¡Œä»»ä½•å‘½ä»¤çš„èƒ½åŠ›ã€‚</li>
<li>æ£€æµ‹å—å½±å“çš„é¡¹ç›®/åŒ…ï¼Œç¡®å®šæ›´æ”¹å¯èƒ½ä¼šå½±å“ä»€ä¹ˆï¼Œä»¥ä»…è¿è¡Œæ„å»º/æµ‹è¯•å—å½±å“çš„é¡¹ç›®ã€‚</li>
<li>å·¥ä½œåŒºåˆ†æï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯ç†è§£å·¥ä½œåŒºé¡¹ç›®å›¾çš„èƒ½åŠ›ã€‚</li>
<li>ä¾èµ–å›¾å¯è§†åŒ–ï¼Œå¯è§†åŒ–é¡¹ç›®å’Œ/æˆ–ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚å¯è§†åŒ–æ˜¯äº¤äº’å¼çš„ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥æœç´¢ã€è¿‡æ»¤ã€éšè—ã€èšç„¦/çªå‡ºæ˜¾ç¤ºå’ŒæŸ¥è¯¢å›¾ä¸­çš„èŠ‚ç‚¹ã€‚</li>
<li>æºç åˆ†äº«ï¼Œä¿ƒè¿›åˆ†æ•£çš„æºä»£ç ç‰‡æ®µçš„å…±äº«ã€‚</li>
<li>ä¸€è‡´çš„å·¥å…·ï¼Œæ— è®ºæ‚¨ä½¿ç”¨ä»€ä¹ˆæ¥å¼€å‘é¡¹ç›®ï¼Œå¦‚JavaScript æ¡†æ¶ã€Goã€Rustã€Java ç­‰ï¼Œå·¥å…·éƒ½å¯ä»¥å¸®åŠ©æ‚¨è·å¾—ä¸€è‡´çš„ä½“éªŒ</li>
<li>ä»£ç ç”Ÿæˆï¼Œæœ¬æœºæ”¯æŒç”Ÿæˆä»£ç </li>
<li>é¡¹ç›®é™åˆ¶å’Œå¯è§æ€§ï¼Œæ”¯æŒå®šä¹‰è§„åˆ™ä»¥é™åˆ¶ repo ä¸­çš„ä¾èµ–å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå¼€å‘äººå‘˜å¯ä»¥å°†æŸäº›é¡¹ç›®æ ‡è®°ä¸ºä»–ä»¬å›¢é˜Ÿçš„ç§æœ‰é¡¹ç›®ï¼Œè¿™æ ·å…¶ä»–äººå°±æ— æ³•ä¾èµ–å®ƒä»¬ã€‚å¼€å‘äººå‘˜è¿˜å¯ä»¥æ ¹æ®ä½¿ç”¨çš„æŠ€æœ¯ï¼ˆä¾‹å¦‚ React æˆ– Nest.jsï¼‰æ ‡è®°é¡¹ç›®ï¼Œå¹¶ç¡®ä¿åç«¯é¡¹ç›®ä¸ä¼šå¯¼å…¥å‰ç«¯é¡¹ç›®ã€‚</li>
</ul>
<h2 id="monorepoå•ä¸€åŸåˆ™"><a href="#monorepoå•ä¸€åŸåˆ™" class="headerlink" title="monorepoå•ä¸€åŸåˆ™"></a>monorepoå•ä¸€åŸåˆ™</h2><p>å•ä¸€åŸåˆ™æŒ‡çš„æ˜¯å•ä¸€ç‰ˆæœ¬(One Version)åŸåˆ™ï¼Œå…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å•ä¸€ç‰ˆæœ¬(One Version)åŸåˆ™ï¼Œæ˜¯æŒ‡åœ¨ä»»æ„æ—¶é—´ï¼Œä»£ç åº“å†…çš„æ¯ä¸€ä»½ç»„ä»¶ã€æ¯ä¸€ä¸ªä¾èµ–åªæœ‰ä¸€ä¸ªç‰ˆæœ¬ã€‚</p>
</blockquote>
<p>å¯¹å†…éƒ¨åº“è€Œè¨€ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨ä¸»å¹²å¼€å‘ï¼ˆè§ä¸‹ï¼‰ï¼Œå¹¶ä¸”å¿…é¡»åœ¨ä¸»å¹² HEAD ä¸Šä¾èµ–ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¼ºçš„çº¦æŸâ€”â€”è¿™æ„å‘³ç€é™¤äº†ç»ˆç«¯åˆ¶å“ï¼Œä»»ä½•ä¸€ä¸ªå†…éƒ¨è¢«ä¾èµ–çš„åº“éƒ½ä¸èƒ½é€šè¿‡åˆ†æ”¯å‘å¸ƒï¼Œè€Œå¿…é¡»ä¿æŒè‡ªå·±åœ¨å•ä»“çš„ä¸»å¹²ä¸Šä¸€ç›´æ˜¯å‘å¸ƒçŠ¶æ€ã€‚</p>
<p>å¯¹å¤–éƒ¨ä¾èµ–è€Œè¨€ï¼ŒåŒä¸€ä¸ªç¬¬ä¸‰æ–¹åº“åœ¨å•ä»“ä¸­æ°¸è¿œåªä¼šå¼•å…¥ä¸€ä¸ªç‰ˆæœ¬ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>å› ä¸ºåŸæ¥çš„git flowå¼€å‘æµï¼Œä»feature-&gt;dev-&gt;masterï¼Œæ¯ä¸ªåˆ†æ”¯é‡Œé¢çš„ä¾èµ–ç‰ˆæœ¬éƒ½å¯èƒ½ä¼šä¸ä¸€æ ·ï¼Œä»è€Œå¯¼è‡´ä¾èµ–ç‰ˆæœ¬éš¾ä»¥ç»´æŠ¤ã€‚</p>
<h2 id="monorepoæŒ‘æˆ˜"><a href="#monorepoæŒ‘æˆ˜" class="headerlink" title="monorepoæŒ‘æˆ˜"></a>monorepoæŒ‘æˆ˜</h2><ul>
<li>å¹¶éæ‰€æœ‰æœåŠ¡éƒ½é€‚ç”¨äº monorepos</li>
<li>éœ€è¦æ›´å¤æ‚çš„ CI è®¾ç½®</li>
<li>éœ€è¦è€ƒè™‘ä»£ç æ¶æ„å¤§è§„æ¨¡çš„æ”¹å˜</li>
</ul>
<h1 id="monorepoå®æˆ˜"><a href="#monorepoå®æˆ˜" class="headerlink" title="monorepoå®æˆ˜"></a>monorepoå®æˆ˜</h1><p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œ<a href="https://lerna.js.org" target="_blank" rel="noopener">Lerna</a>æ¡†æ¶æ˜¯è‚¯å®šè¦å°è¯•ä¸€ç•ªï¼ŒåŒæ—¶åŠŸèƒ½æ¯”è¾ƒé½å…¨çš„<a href>Nx</a>æ¡†æ¶è¦å»ä½“éªŒä¸€ç•ªã€‚</p>
<p>ä½†æ˜¯å…¶å®ä¸¤è€…çš„å…³ç³»éå¸¸ç´§å¯†ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªå…¬å¸<code>Nrwl</code>å¼€å‘çš„ï¼Œæ‰€ä»¥æœ‰å¾ˆå¤šç±»ä¼¼ç‚¹ã€‚</p>
<h2 id="Lerna"><a href="#Lerna" class="headerlink" title="Lerna"></a>Lerna</h2><p>å¿«é€Ÿå¼€å§‹å®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npx lerna init</span><br></pre></td></tr></table></figure>

<p>PS: npxæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>npxï¼šNode Package Execute å³nodeåŒ…æ‰§è¡Œå™¨</li>
<li>npx æ˜¯npm v5.2.0ç‰ˆæœ¬ä¹‹åéšnpm ä¸€èµ·æ‰“åŒ…å®‰è£…çš„ä¸€ä¸ªåŒ…æ‰§è¡Œå™¨ã€‚</li>
<li>å®ƒä¼šè‡ªåŠ¨å»å¯»æ‰¾äºŒè¿›åˆ¶å‘½ä»¤æ–‡ä»¶ä¸”ä¸å¿…å…¨å±€å®‰è£…ä¾èµ–åŒ…ã€‚</li>
<li>npx å¯ä»¥åœ¨ä¸æŒ‡å®šé¡¹ç›®ä¸­çš„ç¡®åˆ‡ä½ç½®æˆ–ä½¿ç”¨åˆ«åçš„æƒ…å†µä¸‹è¿è¡Œæ­£ç¡®ç‰ˆæœ¬çš„å·¥å…·ï¼Œæ¯”å¦‚<code>npx lerna init</code>å‘½ä»¤ä¼šæ‰§è¡Œå»npmæºå®‰è£…<code>lerna-cli</code>å‘½ä»¤å·¥å…·åˆ°æœ¬åœ°ï¼Œç„¶åæ‰§è¡Œ<code>lerna init</code>å‘½ä»¤</li>
</ul>
<p>å®‰è£…å®Œä»¥åï¼Œé¡¹ç›®çš„åˆå§‹åŒ–æ¶æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">packages/</span><br><span class="line">    header/</span><br><span class="line">        src/</span><br><span class="line">            ...</span><br><span class="line">        package.json</span><br><span class="line">        rollup.config.json</span><br><span class="line">        jest.config.js</span><br><span class="line"></span><br><span class="line">    footer/</span><br><span class="line">        src/</span><br><span class="line">            ...</span><br><span class="line">        package.json</span><br><span class="line">        rollup.config.json</span><br><span class="line">        jest.config.js</span><br><span class="line"></span><br><span class="line">    remixapp/</span><br><span class="line">        app/</span><br><span class="line">            ...</span><br><span class="line">        public/</span><br><span class="line">        package.json</span><br><span class="line">        remix.config.js</span><br><span class="line"></span><br><span class="line">package.json</span><br><span class="line">lerna.json # éœ€è¦è‡ªå·±æ‰‹åŠ¨æ–°å»ºï¼Œ ç”¨æ¥æè¿°</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹<code>package.json</code>ï¼Œå»æ·»åŠ ä¸€ä¸ªnpm/yarn/pnpm workspace</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;root&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;workspaces&quot;: [&quot;packages/*&quot;],</span><br><span class="line">  &quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;lerna&quot;: &quot;6.0.1&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¸¸ç”¨çš„å‘½ä»¤"><a href="#å¸¸ç”¨çš„å‘½ä»¤" class="headerlink" title="å¸¸ç”¨çš„å‘½ä»¤"></a>å¸¸ç”¨çš„å‘½ä»¤</h2><ul>
<li><code>lerna run xxx</code>ï¼š ç»Ÿä¸€æ‰§è¡Œæ‰€æœ‰å­é¡¹ç›®çš„scriptså‘½ä»¤ï¼Œå¦‚ï¼šlerna run build</li>
<li><code>npx nx graph</code>ï¼šæŸ¥çœ‹é¡¹ç›®ä¾èµ–å›¾</li>
<li><code>npx lerna add-caching</code>ï¼šè®¾ç½®å­é¡¹ç›®çš„ä¸€äº›ç¼“å­˜è®¾ç½®ï¼Œä¼šåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆ<code>nx.json</code></li>
<li><code>npx lerna publish --no-private</code>: ç»Ÿä¸€å‘å¸ƒnpmåŒ…</li>
<li><code>npx lerna run xxx --scope=header</code>ï¼šå…è®¸åªé’ˆå¯¹æŸä¸ªå­é¡¹ç›®headeræ‰§è¡Œå‘½ä»¤</li>
</ul>
<p>å…¶ä»–å‘½ä»¤å¯ä»¥åˆ°å®˜ç½‘æŸ¥çœ‹ï¼Œ <a href="https://lerna.js.org/docs/api-reference/commands" target="_blank" rel="noopener">Lernaå‘½ä»¤</a></p>
<h2 id="NX"><a href="#NX" class="headerlink" title="NX"></a>NX</h2><p>å®˜ç½‘é‡Œå®šä¹‰æ˜¯ï¼š</p>
<blockquote>
<p><a href="https://nx.dev/" target="_blank" rel="noopener">NX</a>æ˜¯ä¸€ä¸ªæ™ºèƒ½ã€å¿«é€Ÿå’Œå¯æ‰©å±•çš„æ„å»ºç³»ç»Ÿï¼Œå…·æœ‰ä¸€æµçš„Monorepoæ”¯æŒå’Œå¼ºå¤§çš„é›†æˆã€‚</p>
</blockquote>
<p>å®æˆ˜æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>åˆ›å»ºä¸€ä¸ªæ–°å·¥ä½œåŒºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npx create-nx-workspace@latest package-based --preset=npm</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨<code>packages</code>åˆ›å»ºè‡ªå·±çš„å­é¡¹ç›®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package-based/</span><br><span class="line">â”œâ”€â”€ packages/</span><br><span class="line">â”‚   â””â”€â”€ is-even/</span><br><span class="line">â”‚       â”œâ”€â”€ index.ts</span><br><span class="line">â”‚       â””â”€â”€ package.json</span><br><span class="line">â”‚   â””â”€â”€ is-odd/</span><br><span class="line">â”‚       â”œâ”€â”€ index.ts</span><br><span class="line">â”‚       â””â”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ nx.json</span><br><span class="line">â””â”€â”€ package.json</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å°±æ˜¯é…ç½® <code>nx.json</code>ï¼Œå­é¡¹ç›®ä¹‹é—´çš„ä¾èµ–ï¼Œå·²ç»ä»»åŠ¡æ‰§è¡Œé¡ºåºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// nx.json</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;targetDefaults&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &#123;</span><br><span class="line">      &quot;dependsOn&quot;: [&quot;^build&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ„å»ºå‘½ä»¤<code>npx nx build is-odd</code> å¯ä»¥çœ‹åˆ°è¦å…ˆæ„å»º<code>is-event</code>é¡¹ç›®</p>
<p>æœ€åæ˜¯æ„å»ºå…¨éƒ¨é¡¹ç›®<code>npx nx run-many --target=build</code></p>
<h2 id="CI-CDæ„å»ºæµç¨‹æ”¹é€ "><a href="#CI-CDæ„å»ºæµç¨‹æ”¹é€ " class="headerlink" title="CI/CDæ„å»ºæµç¨‹æ”¹é€ "></a>CI/CDæ„å»ºæµç¨‹æ”¹é€ </h2><p>è¿™ä¸ªæŒ‰ç…§å„è‡ªå›¢é˜Ÿçš„CI/CDæ„å»ºæµç¨‹å»æ”¹é€ ï¼Œä½†æ˜¯ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>CI/CDæµæ°´çº¿èŒè´£åˆ†ç¦»</li>
<li>ç»Ÿä¸€é•œåƒNPMå‡­è¯ç®¡ç†</li>
<li>æ‰‹åŠ¨è§¦å‘CDæµæ°´çº¿å‘å¸ƒï¼Œä½¿ç”¨ç»Ÿä¸€ç‰ˆæœ¬è¿›è¡Œç®¡ç†å‘å¸ƒ</li>
</ul>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://monorepo.tools/#what-is-a-monorepo" target="_blank" rel="noopener">Monorepo Explain</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•åœ¨é¡µé¢å±•ç¤ºæ•°å­¦å…¬å¼ä¹‹Latexè¯­æ³•</title>
    <url>/today/20230108.html</url>
    <content><![CDATA[<h1 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h1><p>æœ€è¿‘åœ¨åšmarkdown ç®—æ³•æ–‡ç« åˆ†äº«ï¼Œç®—æ³•è‚¯å®šä¼šæ¶‰åŠåˆ°æ•°å­¦å¤æ‚åº¦ï¼Œæ¯”å¦‚: $$ O(log_nX) $$ ç­‰æ•°å­¦å…¬å¼çš„å±•ç¤ºï¼Œä½†æ˜¯å¦‚æœå†™æˆè¿™æ ·å­<code>lognX</code>ï¼Œä¼°è®¡å¾ˆéš¾å‡†ç¡®è¡¨è¾¾ï¼Œå› æ­¤ä¸Šç½‘æœç´¢äº†ä¸€ä¸‹æ•°å­¦è¡¨è¾¾å¼åœ¨å‰ç«¯é¡µé¢å¦‚ä½•å±•ç¤ºçš„ç›¸å…³æŠ€æœ¯ã€‚</p>
<h1 id="web-æ•°å­¦è¡¨è¾¾å¼å±•ç¤ºè§£å†³æ–¹æ¡ˆ"><a href="#web-æ•°å­¦è¡¨è¾¾å¼å±•ç¤ºè§£å†³æ–¹æ¡ˆ" class="headerlink" title="web æ•°å­¦è¡¨è¾¾å¼å±•ç¤ºè§£å†³æ–¹æ¡ˆ"></a>web æ•°å­¦è¡¨è¾¾å¼å±•ç¤ºè§£å†³æ–¹æ¡ˆ</h1><p>ä¸€èˆ¬éœ€è¦åœ¨webé¡µé¢å±•ç¤ºæ•°å­¦è¡¨è¾¾å¼ç›¸å…³æŠ€æœ¯ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨çº¿ç¼–è¾‘å™¨ï¼Œä½†æ˜¯markdownä¹Ÿç®—æ˜¯ä¸€ç§ç¼–è¾‘å™¨è¯­æ³•ï¼Œæ‰€ä»¥ä¸Šç½‘æ”¶é›†äº†ä¸»è¦ä»¥ä¸‹å‡ ç§</p>
<ul>
<li>TeXï¼Œå‰æœŸè®¡ç®—æœºæ— æ³•ç”Ÿæˆæ•°å­¦å…¬å¼æ’ç‰ˆæˆ–è€…æ’ç‰ˆå¾ˆä¸‘ï¼Œå› æ­¤<code>Donald E. Knuth</code>è®¾è®¡äº†ä¸€å¥—æ’ç‰ˆæŠ€æœ¯ï¼Œæ‹¥æœ‰å¾ˆå¤šè®¡ç®—æœºçš„å‘½ä»¤æˆ–è€…æŠ€æœ¯è¯­è¨€</li>
<li>LaTeXï¼Œæ˜¯ä¸€ç§åŸºäºTeXçš„å®ç°æ’ç‰ˆç³»ç»Ÿï¼Œå‡†ç¡®çš„åŸºäºTeXçš„åº”ç”¨ç³»ç»Ÿï¼Œå·²ç»å°è£…å¾ˆå¤šå…¬å¼æ¨¡æ¿ï¼Œç›´æ¥å¥—ç”¨å³å¯</li>
<li>MathJaXï¼ŒåŸºäºLaTeXå®ç°çš„JavaScriptæ¸²æŸ“å™¨ï¼Œ æ¸²æŸ“ç¨æ…¢ï¼Œæ”¯æŒæ›´å¤šå¤æ‚çš„è¡¨ç¤º</li>
<li>KaTeXï¼Œä¹ŸåŸºäºLaTeXå®ç°çš„æ˜¯ä¸€ä¸ªJavaScriptåº“ï¼Œå¯¹æ¯”MathJaXï¼Œæ¸²æŸ“æ›´å¿«ï¼Œæ”¯æŒè‹¥å¹²ç®€å†™å­—ç¬¦ï¼Œä½†æ˜¯æœ¬èº«æ”¯æŒçš„èŒƒå›´è¾ƒå°</li>
</ul>
<a id="more"></a>

<h1 id="å¯¹æ¯”è¯´æ˜"><a href="#å¯¹æ¯”è¯´æ˜" class="headerlink" title="å¯¹æ¯”è¯´æ˜"></a>å¯¹æ¯”è¯´æ˜</h1><h2 id="MathJaX"><a href="#MathJaX" class="headerlink" title="MathJaX"></a>MathJaX</h2><blockquote>
<p>MathJaX æ˜¯ä¸€ä¸ªé€‚ç”¨æ‰€æœ‰æµè§ˆå™¨çš„å±•ç¤ºæ•°å­¦è¡¨è¾¾å¼çš„jså¼•æ“ã€‚</p>
</blockquote>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://www.mathjax.org/" target="_blank" rel="noopener">https://www.mathjax.org/</a></p>
<h2 id="KaTex"><a href="#KaTex" class="headerlink" title="KaTex"></a>KaTex</h2><blockquote>
<p>KaTeX æ˜¯ä¸€ä¸ªæ”¯æŒåœ¨ç½‘é¡µä¸Šæ˜¾ç¤º TeX å…¬å¼çš„ JavaScript åº“</p>
</blockquote>
<p>é€šä¿—çš„è¯´ï¼ŒTexå°±æ˜¯ä¸€ç§æ•°å­¦å…¬å¼çš„æ’ç‰ˆè¯­è¨€è§„èŒƒï¼ŒKaTeXæ˜¯ä»¥Texä½œä¸ºåŸºç¡€è¯­è¨€è§„èŒƒçš„å®ç°ç‰ˆæœ¬ã€‚</p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://katex.org/" target="_blank" rel="noopener">https://katex.org/</a></p>
<h2 id="æ€ä¹ˆç”¨"><a href="#æ€ä¹ˆç”¨" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h2><p>å¿«é€Ÿä½¿ç”¨ï¼Œè¿™é‡Œå°è¯•<a href="/code/latex/index.html">demo</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>LaTexå…¬å¼ demo<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">integrity</span>=<span class="string">"sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- The loading of KaTeX is deferred to speed up page rendering --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">integrity</span>=<span class="string">"sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- To automatically render math in text elements, include the auto-render extension: --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">integrity</span>=<span class="string">"sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"</span> <span class="attr">crossorigin</span>=<span class="string">"anonymous"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">onload</span>=<span class="string">"renderMathInElement(document.body);"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> å¯¹æ•°ï¼š <span class="tag">&lt;<span class="name">span</span>&gt;</span>$$ log_nX $$<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> ç»Ÿè®¡è¡¨è¾¾å¼ï¼š <span class="tag">&lt;<span class="name">span</span>&gt;</span>$$  \sum_&#123;i=1&#125;^&#123;n&#125;&#123;X_i&#125; $$<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨gitbookä¸­ï¼Œä½ åªéœ€è¦æ·»åŠ ç›¸å…³æ’ä»¶å³å¯ï¼š</p>
<ul>
<li><code>npm install gitbook-plugin-katex</code>ï¼Œå®‰è£…æ’ä»¶</li>
<li>åœ¨<code>book.json</code>ä¸­çš„<code>plugins</code>ï¼Œæ–°å¢:<code>katex</code></li>
<li>ç„¶åå°±å¯ä»¥åœ¨é¡µé¢ä¸­ä½¿ç”¨è¯­æ³•<code>$$ log_nX $$</code>å±•ç¤ºä¸º$$ log_nX $$</li>
</ul>
<p>åœ¨hexoç­‰åšå®¢ï¼Œéœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>æ‰¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š<code>themes\landscape\layout\_partial\after-footer.ejs</code>ï¼Œæ·»åŠ jsæ–‡ä»¶ <code>&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js&quot;&gt;&lt;/script&gt;</code></li>
<li>æ‰¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š<code>themes\landscape\layout\_partial\after-footer.ejs</code>ï¼Œæ·»åŠ cssæ–‡ä»¶ <code>&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css&quot;&gt;</code></li>
<li>åç»­å†å®‰è£…hexoçš„katexæ’ä»¶å³å¯ <code>npm install hexo-katex --save</code></li>
</ul>
<h2 id="LaTeXæ•°å­¦å…¬å¼ç¼–å†™"><a href="#LaTeXæ•°å­¦å…¬å¼ç¼–å†™" class="headerlink" title="LaTeXæ•°å­¦å…¬å¼ç¼–å†™"></a>LaTeXæ•°å­¦å…¬å¼ç¼–å†™</h2><p>ç®€å•è¯­æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>$$ log_nX $$</code> å¯¹æ•°è¡¨è¾¾å¼ $$ O(log_nX) $$ </li>
<li><code>$$  \sum_{i=1}^{n}{X_i} $$</code> ç»Ÿè®¡è¡¨è¾¾å¼ $$  \sum_{i=1}^{n}{X_i} $$</li>
</ul>
<p>æœ‰ä¸ªåœ¨çº¿ç¼–è¾‘ç½‘ç«™èƒ½å¸®ä½ å¿«é€Ÿç”Ÿæˆå…¬å¼ï¼Œè¯·è®¿é—®<a href="https://www.latexlive.com/##" target="_blank" rel="noopener">Latexå…¬å¼ç¼–è¾‘å™¨</a></p>
<p>å¦‚æœè¦æƒ³å­¦ä¹ æ›´å¤šå…¬å¼ï¼Œè¿™é‡Œåˆ†äº«ä¸€äº›æ•™ç¨‹ï¼š</p>
<p><a href="https://zhuanlan.zhihu.com/p/110756681" target="_blank" rel="noopener">LaTeX å…¬å¼ç¯‡</a></p>
<p><a href="https://qyxf.github.io/2020/01/03/latex-formula-beginner" target="_blank" rel="noopener">LaTeX å…¬å¼è¯­æ³•é€Ÿæˆ</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯¹CMDBè¿›è¡Œä¸€ä¸ªç³»ç»Ÿå®Œæ•´è®¤çŸ¥</title>
    <url>/today/20230109.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åŠå¹´ï¼Œéƒ½åœ¨å¼€å‘éƒ¨é—¨å†…éƒ¨çš„CMDBå¹³å°å’Œç”³è¯·æµç¨‹ï¼Œå› æ­¤å¯¹CMDBæœ‰äº†ä¸€å®šäº†è§£ï¼Œä½†æ˜¯åˆä¸å¤Ÿç³»ç»Ÿï¼Œæ‰€ä»¥å¸Œæœ›å†™ä¸€ç¯‡æ–‡ç« èƒ½å¤Ÿç³»ç»Ÿå®Œæ•´çš„è®¤çŸ¥ä¸€ä¸‹CMDBï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>æ˜¯ä»€ä¹ˆ</li>
<li>èƒ½åšä»€ä¹ˆå’Œæ€ä¹ˆåš</li>
<li>ä¼˜ç§€æ–¹æ¡ˆ</li>
<li>æœªæ¥æ–¹å‘</li>
</ul>
<a id="more"></a>
<h1 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h1><blockquote>
<p>CMDB(Configuration Management Database)ï¼Œé…ç½®ç®¡ç†æ•°æ®åº“ï¼Œä¸»è¦åŒ…å«äº†é…ç½®é¡¹å…¨ç”Ÿå‘½å‘¨æœŸçš„ä¿¡æ¯ä»¥åŠé…ç½®é¡¹ä¹‹é—´çš„å…³ç³»(åŒ…æ‹¬ç‰©ç†å…³ç³»ã€å®æ—¶é€šä¿¡å…³ç³»ã€éå®æ—¶é€šä¿¡å…³ç³»å’Œä¾èµ–å…³ç³»)ã€‚<br>CMDBå­˜å‚¨ä¸ç®¡ç†ä¼ä¸šITæ¶æ„ä¸­è®¾å¤‡çš„å„ç§é…ç½®ä¿¡æ¯ï¼Œå®ƒä¸æ‰€æœ‰æœåŠ¡æ”¯æŒå’ŒæœåŠ¡äº¤ä»˜æµç¨‹éƒ½ç´§å¯†ç›¸è”ï¼Œæ”¯æŒè¿™äº›æµç¨‹çš„è¿è½¬ã€å‘æŒ¥é…ç½®ä¿¡æ¯çš„ä»·å€¼ï¼ŒåŒæ—¶ä¾èµ–äºç›¸å…³æµç¨‹ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§ã€‚<br>CMDBå­˜å‚¨ç›®æ ‡å®šä¹‰ä¸ºï¼šé…ç½®ç®¡ç†è‡´åŠ›äºé€šè¿‡ç»´æŠ¤ITåŸºç¡€è®¾æ–½å’ŒITæœåŠ¡çš„é€»è¾‘æ¨¡å¼æ¥ååŠ©ç®¡ç†ITæœåŠ¡çš„ç»æµä»·å€¼(å®¢æˆ·éœ€æ±‚ã€è´¨é‡å’Œæˆæœ¬çš„ç»“åˆ)ï¼Œå¹¶å°†ä¸æ­¤ç›¸å…³çš„ä¿¡æ¯æä¾›ç»™å…¶ä»–ä¸šåŠ¡æµç¨‹ã€‚å®ƒé€šè¿‡è¯†åˆ«ã€ç›‘æµ‹ã€æ§åˆ¶å’Œæä¾›æœ‰å…³é…ç½®é¡¹åŠå…¶ç‰ˆæœ¬æ–¹é¢çš„ä¿¡æ¯æ¥å®ç°ç›®æ ‡ã€‚<br>ä»¥ä¸Šæè¿°æ¥è‡ªç™¾åº¦ç™¾ç§‘<a href="https://baike.baidu.com/item/CMDB/5403317" target="_blank" rel="noopener">CMDB</a>ã€‚</p>
</blockquote>
<p>æŒ‰ç…§ä¸ªäººç†è§£ï¼ŒCMDBæŒ‰ç…§æ¯”è¾ƒå®¹æ˜“ç†è§£çš„è¯´æ³•ï¼ŒCMDBä¸»è¦å­˜å‚¨å…¬å¸å†…éƒ¨ITåŸºç¡€æ¶æ„æ•°æ®å­˜å‚¨å’Œé…ç½®ï¼Œèƒ½å¤Ÿæ•°å­—åŒ–ITèµ„äº§ä¸ä¸šåŠ¡çš„å…³è”å…³ç³»ã€‚</p>
<p>æ›´åŠ æ˜ç¡®çš„è¯´ï¼ŒCMDBæ˜¯è¿ç»´çš„åŸºç¡€æ ¸å¿ƒç³»ç»Ÿï¼ŒåŒ…æ‹¬è¿ç»´æ‰€éœ€è¦çš„å…ƒæ•°æ®ï¼ŒåŒæ—¶å…±äº«æ•°æ®ç®¡ç†æºã€‚ CMDBå­˜å‚¨çš„æ•°æ®åŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<ul>
<li>é€»è¾‘èµ„æºï¼ŒæŒ‡çš„æ˜¯åº•å±‚ç‰©ç†èµ„æºå¯¹åº”çš„é€»è¾‘èµ„æºï¼ŒåŒ…æ‹¬ï¼šxxxç³»ç»Ÿã€xxxæœåŠ¡ã€xxxAppç­‰</li>
<li>ç‰©ç†èµ„æºï¼ŒæŒ‡çš„æ˜¯å¯ä¾›è¿ç»´äººå‘˜å®é™…æ“ä½œçš„ç‰©ç†èµ„æºï¼ŒåŒ…æ‹¬ï¼šæœåŠ¡å™¨(cvmã€ç‰©ç†æœºã€å®¹å™¨)ï¼Œæœºæˆ¿ã€æœºæŸœã€ç½‘ç»œè®¾å¤‡ã€é“¾è·¯èµ„æºã€é…ä»¶ç­‰</li>
</ul>
<h1 id="èƒ½åšä»€ä¹ˆ"><a href="#èƒ½åšä»€ä¹ˆ" class="headerlink" title="èƒ½åšä»€ä¹ˆ"></a>èƒ½åšä»€ä¹ˆ</h1><p>ä¸Šé¢æè¿°CMDBæ˜¯ä»€ä¹ˆï¼ŒCMDBåˆ°åº•èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿæˆ–è€…å®ƒå¯¹è¿ç»´æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œéœ€è¦ç®€å•ä»‹ç»å‡ ä¸ªæ¦‚å¿µï¼š</p>
<ul>
<li>ITSM(IT service management), ITæœåŠ¡ç®¡ç†ï¼Œä¸»è¦æ˜¯ç»™ç”¨æˆ·æä¾›æ ‡å‡†æµç¨‹å®ŒæˆITèµ„äº§äº¤ä»˜ï¼Œå’Œç®¡ç†è¿™äº›ITæµç¨‹çš„ç³»ç»Ÿ</li>
<li>ITIL(Information Technology Infrastructure Library)ï¼ŒITæœåŠ¡ç®¡ç†æ ‡å‡†åº“ï¼Œ æ˜¯ITSMæœ€å¸¸ç”¨çš„å®ç°æ–¹æ¡ˆï¼Œä¾§é‡äºä½¿ ITæœåŠ¡ä¸ä¸šåŠ¡éœ€æ±‚ä¿æŒç´§å¯†å…³è”</li>
<li>DevOpsç”±è‹±æ–‡ Developmentï¼ˆå¼€å‘ï¼‰å’Œ Operationsï¼ˆè¿ç»´ï¼‰ç»„åˆè€Œæˆï¼Œæ˜¯å¼€å‘å’Œè¿ç»´ç´§å¯†ç»“åˆçš„æ€æƒ³ç†å¿µï¼Œæ˜¯å¼€å‘å’Œè¿ç»´å›¢é˜Ÿä¹‹é—´çš„æµç¨‹èƒ½å¤Ÿè‡ªåŠ¨åŒ–å’ŒæŒç»­é›†æˆã€äº¤ä»˜ï¼Œä»å¼€å‘åˆ°äº¤ä»˜éƒ¨ç½²å½¢æˆä¸€ä¸ªå¾ªç¯çš„è¿‡ç¨‹ã€‚åé¢æˆ‘ä»¬ä¼šå•ç‹¬æŠ½å‡ºä¸€ä¸ªæ–‡ç« åšè¯¦ç»†äº†è§£ã€‚</li>
</ul>
<p>ä¸Šé¢çš„å‡ ä¸ªæ¦‚å¿µï¼Œåªè¦æ˜¯ITä»ä¸šè€…æˆ–å¤šæˆ–å°‘éƒ½æœ‰æ¥è§¦åˆ°ï¼Œé‚£ä¹ˆCMDBåœ¨è¿™äº›ç³»ç»Ÿæˆ–è€…æµç¨‹ä¸­ï¼Œèµ·åˆ°ä¸€ä¸ªæ•°æ®åŸºçŸ³çš„ä½œç”¨ï¼Œæˆ‘ä»¬ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p>
<ol>
<li>å¦‚æœæ²¡æœ‰CMDBçš„é…ç½®æ•°æ®ï¼ŒITSMæµç¨‹å¯¹ç”¨æˆ·(å¼€å‘)å°±å¾ˆéš¾å…¥æ‰‹ï¼Œæ¯”å¦‚è¦ç”³è¯·ä¸€å°æœºå™¨ï¼Œæµç¨‹é‡Œä¼šæœ‰å¾ˆå¤šITä¸“ç”¨æè¿°ï¼Œå¼€å‘æ— æ³•å¿«é€Ÿç”³è¯·æµç¨‹</li>
<li>å¦‚æœæ²¡æœ‰CMDBï¼Œé‚£ä¹ˆDevOpsä¸­è¦å®ç°è‡ªåŠ¨åŒ–æŒç»­é›†æˆå’Œäº¤ä»˜ï¼Œå¼€å‘è¦å°†æœåŠ¡éƒ¨ç½²åˆ°å“ªå°æœºå™¨ï¼Œè¿ç»´æ— æ³•å¾—çŸ¥</li>
</ol>
<p>é‚£ä¹ˆæ€»ç»“ä¸€ä¸‹ï¼ŒCMDBèƒ½åšçš„äº‹æƒ…ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>èƒ½æ•°å­—åŒ–ITèµ„äº§ï¼Œå¹¶ä¸”æä¾›åˆ°ITèµ„äº§ç®¡ç†ä¸€ä¸ªå¯é çš„å‚è€ƒæ•°æ®</li>
<li>èƒ½å¸®å¿™å¿«é€Ÿå®ŒæˆISMæµç¨‹ï¼Œä»¥åŠæ›´åŠ æœ‰æ•ˆç®¡ç†ITSMæµç¨‹</li>
<li>èƒ½å°†ä¸šåŠ¡ä¸ITèµ„äº§åšå…³è”ï¼Œå®ç°ä¸šåŠ¡ä¸ITèµ„äº§çš„æœ‰æ•ˆç®¡ç†</li>
</ol>
<h1 id="æ€ä¹ˆåš"><a href="#æ€ä¹ˆåš" class="headerlink" title="æ€ä¹ˆåš"></a>æ€ä¹ˆåš</h1><p>æ˜ç™½CMDBèƒ½åšä»€ä¹ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•è®¾è®¡ä¸€ä¸ªåˆç†CMDBå‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œå¸‚åœºä¸Šå·²ç»å­˜åœ¨å„è‰²å„æ ·çš„CMDBå¹³å°ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li><a href="https://bk.tencent.com/docs/document/6.0/142/8600" target="_blank" rel="noopener">è…¾è®¯è“é²¸å¹³å°CMDBé…ç½®ç³»ç»Ÿ</a>ï¼ŒåŸºäºè…¾è®¯è“é²¸å¹³å°çš„CMDBé…ç½®ç³»ç»Ÿ</li>
<li><a href="https://github.com/Combodo/iTop" target="_blank" rel="noopener">ITOP</a>ï¼Œä¸€ä¸ªå®Œæ•´çš„å¼€æºï¼ŒITILï¼ŒåŸºäºWebçš„æœåŠ¡ç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬å®Œå…¨å¯å®šåˆ¶çš„CMDBï¼Œå¸®åŠ©å°ç³»ç»Ÿå’Œæ–‡æ¡£ç®¡ç†å·¥å…·ã€‚</li>
<li>æ€ä¹ˆå¼€å‘CMDBå¹³å°è¿™é‡Œå°±ä¸åšæè¿°ï¼Œæ— éå‡ ç‚¹ï¼š</li>
</ul>
<ol>
<li>å¯è‡ªç”±é…ç½®çš„CMDBæ¨¡å‹çš„ ç®¡ç†webç•Œé¢</li>
<li>å¼€å‘æ ‡å‡†APIæ¥å£ï¼ˆä¸»è¦æ¨¡å‹çš„CRUDï¼‰ï¼Œå¯¹ç¬¬ä¸‰æ–¹å·¥å…·æä¾›æœåŠ¡</li>
</ol>
<h2 id="æ¨¡å‹è®¾è®¡"><a href="#æ¨¡å‹è®¾è®¡" class="headerlink" title="æ¨¡å‹è®¾è®¡"></a>æ¨¡å‹è®¾è®¡</h2><p>ä¸€ä¸ªå¯ç»´æŠ¤çš„CMDBå¹³å°ï¼Œè‚¯å®šè„±ç¦»ä¸äº†å‰æœŸæ¨¡å‹è®¾è®¡ï¼Œæ‰€ä»¥ä¸€ä¸ªè‰¯å¥½ä¸”èƒ½å¤Ÿå‘å‰å…¼å®¹çš„æ¨¡å‹è®¾è®¡è‡³å…³é‡è¦ï¼Œå› æ­¤æˆ‘è¿™è¾¹ç®€å•ç½—åˆ—äº†ä¸€ä¸‹æ¨¡å‹å‡ å¤§ç±»ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼š</p>
<ul>
<li>ä¸šåŠ¡æ¨¡å‹ï¼Œè¿™é‡Œä¸šåŠ¡æ¨¡å‹å¯ä»¥æ‹†åˆ†å¤šçº§ï¼Œæœ€å¤šä¸‰çº§ï¼Œå› ä¸ºä¸‰çº§ä¸šåŠ¡æ ‘åŸºæœ¬ä¸Šèƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†ä¸šåŠ¡ç­‰çº§æ‹†åˆ†</li>
<li>æ¨¡å—æ¨¡å‹ï¼Œæ¨¡å—å³æ˜¯ä»å¼€å‘è§’åº¦å»ç†è§£çš„é¡¹ç›®ç²’åº¦ï¼Œé€šä¿—çš„è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªå•ç‹¬ä¸”å®Œæ•´çš„é¡¹ç›®ï¼Œ</li>
<li>è®¾å¤‡æ¨¡å‹ï¼Œå°±æ˜¯æœåŠ¡å™¨ï¼ŒåŒ…æ‹¬ï¼šè™šæ‹Ÿæœºã€ç‰©ç†æœºã€å®¹å™¨ç­‰</li>
<li>æŒç»­é›†æˆç›¸å…³æ¨¡å‹ï¼Œä¸»è¦åŒ…æ‹¬ï¼šCI(æŒç»­é›†æˆ)ã€CD(æŒç»­äº¤ä»˜)ç­‰æ¨¡å‹</li>
<li>ç½‘ç»œæ¶æ„ç›¸å…³æ¨¡å‹ï¼Œä¸»è¦åŒ…æ‹¬ï¼šç½‘ç»œç­–ç•¥ã€åŸŸåã€è¯ä¹¦ç­‰</li>
</ul>
<p>å†å°±æ˜¯éœ€è¦è®¾è®¡æ¨¡å‹ä¸æ¨¡å‹ä¹‹é—´çš„å…³ç³»ï¼Œè¿™é‡Œä¼šå¾ˆç»•ï¼Œä½†æ˜¯ä¸ºäº†è®©å¤§å®¶æ›´åŠ æ¸…æ™°äº†è§£CMDBçš„è®¾è®¡ï¼Œè¿™é‡Œç®€å•ç»˜ç”»äº†ä¸€ä¸‹ï¼š</p>
<p><img src="/assets/img/cmdb1.svg" alt></p>
<h3 id="æ¨¡å‹ç”Ÿå‘½å‘¨æœŸ"><a href="#æ¨¡å‹ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="æ¨¡å‹ç”Ÿå‘½å‘¨æœŸ"></a>æ¨¡å‹ç”Ÿå‘½å‘¨æœŸ</h3><p>æ¯ä¸ªCMDBä¸­æ¨¡å‹ï¼Œéƒ½æœ‰å…¶ç”Ÿå‘½å‘¨æœŸæµç¨‹ï¼Œç»“åˆITSMå°±å¯ä»¥å®Œæˆå®ç°æ¨¡å‹çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€æ‰­è½¬ã€‚</p>
<h2 id="æ³¨æ„äº‹é¡¹ï¼š"><a href="#æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼š"></a>æ³¨æ„äº‹é¡¹ï¼š</h2><p>** åœ¨CMDBå®ç°é˜¶æ®µï¼šä¸€å®šè¦å˜æˆè¿ç»´å’Œè¿ç»´ç ”å‘çš„å…±åŒé¡¹ç›®ï¼Œå¹¶ä¸”å…·ä½“çš„é…ç½®é¡¹ç®¡ç†äººè¦å…¨ç¨‹å‚ä¸ï¼Œæ¯”å¦‚è¯´éœ€æ±‚è®¨è®ºã€æµ‹è¯•ã€ä¸Šçº¿éªŒæ”¶ç­‰ç­‰ï¼ˆè¿ç»´ç ”å‘é¡¹ç›®éƒ½å¯ä»¥éµå¾ªè¯¥æ¨¡å¼ï¼‰ **</p>
<h3 id="å¯¼è‡´CMDBå¤±è´¥çš„å› ç´ "><a href="#å¯¼è‡´CMDBå¤±è´¥çš„å› ç´ " class="headerlink" title="å¯¼è‡´CMDBå¤±è´¥çš„å› ç´ "></a>å¯¼è‡´CMDBå¤±è´¥çš„å› ç´ </h3><ol>
<li>åœ¨å¤æ‚æµç¨‹ä¸Šæ¶ˆè€—å¤ªå¤šçš„æ—¶é—´â€”æˆ‘ä»¬æ˜¯åˆ›å»ºä¸€ä¸ªCMDBåº“ï¼Œä¸æ˜¯ä¸€ä¸ªæµç¨‹ç³»ç»Ÿã€‚</li>
<li>æ²¡æœ‰æŒ‡å®šé…ç½®é¡¹è´Ÿè´£äººâ€”-ç¡®ä¿é…ç½®é¡¹æœ‰äººä¸“èŒç»´æŠ¤ã€‚</li>
<li>ç›®æ ‡è¿‡å¤§ï¼Œæ¶µç›–å¤ªå¤šçš„åŠŸèƒ½â€”-æ¯”å¦‚è¯´ITé‡‡è´­å’Œé¢„ç®—ç®¡ç†ç­‰ç­‰ã€‚</li>
<li>é¢—ç²’åº¦ä¸åˆé€‚â€”-é…ç½®åˆç†çš„CMDBçš„é…ç½®é¡¹å±‚æ¬¡å’Œç²’åº¦éå¸¸é‡è¦ã€‚</li>
<li>å­˜åœ¨ç»„ç»‡éš”é˜‚â€”-CMDBæ˜¯ä¸€ä¸ªé›†æˆä½“ç³»ï¼Œé æµç¨‹ä¸­çš„æ¯ä¸€ä¸ªäººé€šåŠ›åä½œï¼Œè€Œä¸æ˜¯æŸä¸ªäººã€‚</li>
</ol>
<h3 id="å¯¼è‡´CMDBæˆåŠŸçš„å› ç´ "><a href="#å¯¼è‡´CMDBæˆåŠŸçš„å› ç´ " class="headerlink" title="å¯¼è‡´CMDBæˆåŠŸçš„å› ç´ "></a>å¯¼è‡´CMDBæˆåŠŸçš„å› ç´ </h3><ol>
<li>ä¸šåŠ¡å¯¼å‘ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬åœ¨CMDBçš„æ–°çš„ç³»ç»Ÿä¸­å®æ—¶åŠ å…¥QRç æŠ€æœ¯ï¼Œä¸ºäº†é™ä½èµ„äº§ç›˜ç‚¹çš„å·¥ä½œé‡ã€‚</li>
<li>èƒ½è‡ªåŠ¨å‘ç°å°±è‡ªåŠ¨å‘ç°ï¼Œé™ä½é…ç½®ç®¡ç†çš„æˆæœ¬ï¼Œä½†è‡ªåŠ¨å‘ç°çš„ä¿¡æ¯ä¸èƒ½ç”¨æ¥åšå‘Šè­¦ã€‚</li>
<li>é…ç½®é¡¹çš„ç®¡ç†å‘˜å¿…é¡»å…¨ç¨‹å‚ä¸ï¼Œéœ€æ±‚å®šå‹ã€æµ‹è¯•åŠéªŒæ”¶ç­‰ç­‰ã€‚</li>
<li>CMDBç³»ç»Ÿå»ºè®¾å®Œæˆä¹‹åï¼Œå…¶ä»–ç³»ç»Ÿå¿…é¡»å’Œä»–è”åŠ¨ã€‚æ¯”å¦‚è¯´ç›‘æ§ã€è´¨é‡ã€å®¹é‡ç­‰ç­‰ï¼Œç”¨åœºæ™¯é©±åŠ¨é…ç½®é¡¹çš„ç®¡ç†ã€‚</li>
<li>æµç¨‹ä¸€å®šè¦å¹³å°åŒ–ï¼Œä¸è¦è®©æµç¨‹è„±ç¦»CMDBå­˜åœ¨ï¼Œæ¯”å¦‚è¯´æä¸€ä¸ªOAæµç¨‹ï¼Œè¿™ä¸ªæ˜¯å¾ˆè‡´å‘½çš„ã€‚</li>
<li>CMDBè¦æŒç»­æ¼”è¿›ï¼Œç‰¹åˆ«æ˜¯äº‘ç«¯èµ„æºçš„ç®¡ç†ã€‚</li>
<li>é…ç½®é¡¹å’Œæµç¨‹å¿…é¡»è¦æ–‡æ¡£åŒ–ï¼ŒåæœŸè¦è¿›è¡ŒCMDBåŸ¹è®­ã€‚</li>
</ol>
<h1 id="æœªæ¥è§„åˆ’â€”â€”è‡ªåŠ¨åŒ–-æ™ºèƒ½åŒ–-æ›´å®‰å…¨çš„è¿ç»´"><a href="#æœªæ¥è§„åˆ’â€”â€”è‡ªåŠ¨åŒ–-æ™ºèƒ½åŒ–-æ›´å®‰å…¨çš„è¿ç»´" class="headerlink" title="æœªæ¥è§„åˆ’â€”â€”è‡ªåŠ¨åŒ–/æ™ºèƒ½åŒ–/æ›´å®‰å…¨çš„è¿ç»´"></a>æœªæ¥è§„åˆ’â€”â€”è‡ªåŠ¨åŒ–/æ™ºèƒ½åŒ–/æ›´å®‰å…¨çš„è¿ç»´</h1><p>ç›®å‰ç»å¤§éƒ¨åˆ†çš„CMDBæ•°æ®éƒ½æ˜¯èµ°è¿ç»´äººå·¥æ‰‹åŠ¨å½•å…¥ï¼Œæ˜¯å¦èƒ½å¤Ÿåšåˆ°è‡ªåŠ¨åŒ–ï¼Œç”šè‡³æ™ºèƒ½åŒ–ã€‚</p>
<p>è®©æ•°æ®è‡ªåŠ¨åŒ–ä¸»è¦é ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>å»ºç«‹æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œè‡ªåŠ¨åŒ–æµç¨‹é©±åŠ¨æ•°æ®æ›´æ–°</li>
<li>ä¸å¤šä¸ªè¿ç»´å·¥å…·å¯¹æ¥ï¼Œä¿ƒè¿›æ•°æ®æ¶ˆè´¹ï¼Œæé«˜æ•°æ®æµåŠ¨æ€§</li>
<li>é€šè¿‡è§„åˆ™æ ¡éªŒä»¥åŠäººå·¥å®¡è®¡ç¡®ä¿åŠæ—¶å‘ç°å’Œä¿®å¤å¼‚å¸¸æ•°æ®</li>
</ol>
<p>ä¾æ‰˜CMDBçš„æ•°æ®åŸºçŸ³ï¼Œèƒ½è®©è¿ç»´èµ°å‘æ™ºèƒ½åŒ–ï¼Œè¿ç»´çš„ä»·å€¼åœ¨äºäº¤ä»˜èƒ½åŠ›ï¼Œä¸»è¦ï¼š</p>
<ol>
<li>å¼€å‘èƒ½å¤Ÿéšæ—¶äº¤ä»˜ï¼Œæ— éœ€è¿ç»´è¿‡å¤šå‚ä¸ï¼Œè‡ªåŠ¨åŒ–è¿ç»´</li>
<li>å®æ—¶ç›‘æ§ï¼Œæ™ºèƒ½åŒ–å‘Šè­¦ï¼Œæå‰å‘ŠçŸ¥å¼€å‘è¿›è¡Œé¢„è­¦</li>
<li>æœåŠ¡å¼‚å¸¸è‡ªæ„ˆï¼Œä¾æ‰˜CMDBæ•°æ®ï¼Œèƒ½å¤Ÿè‡ªåŠ¨é‡å¯æœåŠ¡å®ŒæˆæœåŠ¡å¼‚å¸¸è‡ªæ„ˆ</li>
</ol>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>CMDBå…¶å®å°±æ˜¯ä¸€ä¸ªæ•°æ®ç®¡ç†å¹³å°ï¼Œå¼€å‘æŠ€æœ¯ä¸Šéš¾åº¦ä¸å¤§ï¼Œæœ€å¤§éš¾åº¦åœ¨äºæ•°æ®ï¼Œä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>ç¬¬ä¸€è¦ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§</li>
<li>ç¬¬äºŒè¦èƒ½å¿«é€Ÿè‡ªåŠ¨åŒ–è·å–æ•°æ®</li>
<li>ç¬¬ä¸‰æ•°æ®æ¨¡å‹ä»¥åŠå…¶å…³è”è®¾è®¡ï¼Œä¸»è¦å®Œæˆè¿™ä¸‰ç‚¹</li>
</ul>
<p>ä½†æ˜¯å®ŒæˆCMDBæ•°æ®åï¼Œåªæ˜¯è¿ˆå¼€è‡ªåŠ¨åŒ–/æ™ºèƒ½åŒ–è¿ç»´çš„ç¬¬ä¸€æ­¥ï¼Œåé¢è¿˜éœ€è¦åŸºäºCMDBå»å®Œæˆæ•´ä¸ªDevOpsæµç¨‹è‡ªåŠ¨åŒ–/æ™ºèƒ½åŒ–ã€‚</p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»egg.jsè½¬åˆ°nest.js</title>
    <url>/today/20230110.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>è¿›å…¥éƒ¨é—¨å·¥ä½œåï¼Œæ¥è§¦åˆ°çš„node.jsæœåŠ¡ç«¯æ¡†æ¶ï¼Œæ˜¯egg.jsï¼Œåé¢åŸºäºæ‰©å±•å¢åŠ äº†å¾ˆå¤šæ’ä»¶ï¼Œæ¯”å¦‚ï¼š@Controller @Serviceç­‰æ³¨è§£ï¼Œè¿˜æœ‰é’ˆå¯¹egg-framework å®šåˆ¶åŒ–éƒ¨é—¨ä½¿ç”¨çš„åº•å±‚frameworkã€‚</p>
<p>ä½†æ˜¯ï¼Œéšç€æ—¶é—´çš„è¿ç§»ï¼Œeggå·²ç»ä¸å¤ªèƒ½æ»¡è¶³æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡å’Œå¼€å‘æ¨¡å¼ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>å¯¹typescriptæ”¯æŒåº¦ä¸å¤Ÿï¼Œè¿™æ˜¯ç”±äºegg.jsæœ¬èº«å°±ä¸æ˜¯typescriptå¼€å‘</li>
<li>egg.jså°è£…webæ¶æ„ï¼Œçº¦å®šå¤§äºç¼–ç ï¼Œå¦‚ï¼šå¼ºåˆ¶å°†webåº”ç”¨åˆ†çº§ä¸ºï¼š controllerã€serviceã€middlewareã€extendç­‰ï¼Œè‡ªç”±åº¦ç›¸å¯¹æ¯”è¾ƒå¼±ï¼Œå½“ä½ éœ€è¦å®šåˆ¶åŒ–å¼€å‘å†…å®¹ï¼Œä½ éœ€è¦æ·±å…¥äº†è§£egg.jsçš„æ•´ä¸ªè¿è¡ŒåŸç†æ‰èƒ½å®ç°</li>
<li>è™½ç„¶éƒ¨é—¨å†…éƒ¨å®šåˆ¶åŒ–å¼€å‘ @Controller @Serviceç­‰æ³¨è§£ï¼Œå‡å°‘è·¯ç”±é…ç½®ï¼Œä½†æ˜¯è¿™ä¸€å—æ’ä»¶è¿˜å­˜åœ¨ä¸€äº›éšè—è§„åˆ™ï¼Œéœ€è¦å¼€å‘æ³¨æ„</li>
</ul>
<p>å½“ç„¶egg.jsè¿è¡Œçš„webåº”ç”¨è¿˜æ˜¯æ¯”è¾ƒç¨³å®šï¼Œè€Œä¸”ç›¸å…³æ’ä»¶ç”Ÿæ€ä¹Ÿæ¯”è¾ƒä¸°å¯Œï¼Œåªæ˜¯å½“egg.jsè¿­ä»£æ›´æ–°é€Ÿåº¦åœ¨2020å¹´åå°±é€æ­¥æ”¾ç¼“ï¼Œæ›´ä¸ä¸Šå˜åŒ–ï¼Œæˆ‘ä»¬å°±éœ€è¦è¿æ¥ä¸€äº›æ–°çš„æ¡†æ¶æ¥æ»¡è¶³è¦æ±‚ã€‚</p>
<h1 id="æ¡†æ¶å¯¹æ¯”"><a href="#æ¡†æ¶å¯¹æ¯”" class="headerlink" title="æ¡†æ¶å¯¹æ¯”"></a>æ¡†æ¶å¯¹æ¯”</h1><p>æˆ‘ä»è¿‘ä¸¤å¹´å¬åˆ°æˆ–è€…ç½‘ä¸Šæ”¶é›†çš„ï¼ŒåŸºäºNode.jsçš„æ¡†æ¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li>åŸºç¡€æ¡†æ¶ï¼ŒåŸºæœ¬ä¸Šè¿˜æ˜¯ä»¥expressã€koaã€Fastify.jsç­‰ä¸ºä¸»</li>
<li>egg.jsï¼Œä»¥MVCä¸ºæ¶æ„çš„webæ¡†æ¶</li>
<li>nest.jsï¼Œä»¥Ioc æ§åˆ¶åè½¬ä½œä¸ºæ ¸å¿ƒæ¦‚å¿µçš„webæ¡†æ¶ï¼Œå¯¹typescriptæ”¯æŒå‹å¥½</li>
<li>nuxt.jsï¼Œä»¥Vue.jsä½œä¸ºSSRæœåŠ¡ç«¯æ¸²æŸ“æ ¸å¿ƒçš„webæ¡†æ¶ï¼Œæœ€æ–°æ˜¯Nuxt3ï¼ˆä»¥Vue3ä¸ºæ ¸å¿ƒï¼‰</li>
<li>next.jsï¼Œä»¥React.jsä½œä¸ºSSRæœåŠ¡ç«¯æ¸²æŸ“æ ¸å¿ƒçš„</li>
<li>Meteor.jsï¼Œfull-stack javascriptå¹³å°ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯å½“æ•°æ®å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œæ‰€æœ‰ä¾èµ–è¯¥æ•°æ®çš„åœ°æ–¹è‡ªåŠ¨å‘ç”Ÿç›¸åº”çš„æ”¹å˜ã€‚</li>
<li>Fastify.jsï¼Œå·ç§°æœ€å¿«çš„node.js webæ¡†æ¶ï¼Œç‰¹ç‚¹æ˜¯å†…ç½®äº†åŸºäº JSON schema çš„ validation å’Œ serializationï¼Œæ¯”JSON.stringifyè¿˜å¿«çš„jsonåºåˆ—åŒ–ç®—æ³•ï¼Œè™½ç„¶æ˜¯å€ŸåŠ©å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“ ajvã€‚</li>
<li>strapi.jsï¼Œå¿«é€Ÿç”ŸæˆAPIæ¥å£çš„webæ¡†æ¶ï¼ŒåŒæ—¶å®ç°å„ç§åç«¯æ‰€éœ€è¦çš„é‰´æƒã€æƒé™ã€æ–‡ä»¶ä¸Šä¼ ç­‰è½®å­</li>
</ul>
<a id="more"></a>

<p>å¯¹æ¯”ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸»è¦ç”¨æ¥å¼€å‘åç«¯apiæ¥å£ï¼Œä¸éœ€è¦SSRï¼Œä¸éœ€è¦è¿‡äºé‡æˆ–è¿‡äºè½»é‡çš„æ¡†æ¶ï¼Œå› æ­¤æœ€åæŒ‘é€‰äº†nest.jsã€‚</p>
<h1 id="nest-js"><a href="#nest-js" class="headerlink" title="nest.js"></a>nest.js</h1><blockquote>
<p>Nest (NestJS) æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆã€å¯æ‰©å±•çš„Node.jsæœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚å®ƒä½¿ç”¨æ¸è¿›å¼ JavaScriptï¼Œæ„å»ºå¹¶å®Œå…¨æ”¯æŒTypeScriptï¼ˆä½†ä»ç„¶å…è®¸å¼€å‘äººå‘˜ä½¿ç”¨çº¯ JavaScript è¿›è¡Œç¼–ç ï¼‰å¹¶ç»“åˆäº† OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰ã€FPï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼‰å’Œ FRPï¼ˆå‡½æ•°å¼å“åº”å¼ç¼–ç¨‹ï¼‰çš„å…ƒç´ ã€‚</p>
</blockquote>
<p>æœ¯è¯­ä»‹ç»ï¼š</p>
<ul>
<li>ä»€ä¹ˆæ˜¯æ¸è¿›å¼ï¼Ÿç®€å•è¯´ï¼Œå°±ä¸€å¼€å§‹ä½ ä¸éœ€è¦äº†è§£å®ƒçš„å…¨éƒ¨åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿä¸Šæ‰‹ï¼Œæœ‰äº›åŠŸèƒ½ç‰¹æ€§ä¸ç”¨ä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</li>
<li>OOP é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¸‡ç‰©çš†å¯ç”¨å¯¹è±¡æ¥æè¿°ï¼Œå¦‚ï¼š <code>class Dog{ say(return &#39;one one!&#39;)}</code></li>
<li>FP å‡½æ•°å¼ç¼–ç¨‹ï¼Œä»¥å‡½æ•°ä½œä¸ºå…¥å£ï¼Œè€Œä¸æ˜¯å»å£°æ˜ä¸€ä¸ªå¯¹è±¡ç±»ï¼Œå¦‚ï¼š <code>say(&#39;one one!&#39;)</code></li>
<li>RP å“åº”å¼ç¼–ç¨‹ï¼Œä¸€ç§é¢å‘æ•°æ®æµå’Œå˜åŒ–ä¼ æ’­çš„ç¼–ç¨‹èŒƒå¼ï¼Œå¦‚ï¼š<code>a = 5; b=6; c=a+b;</code> å½“<code>a</code>æˆ–<code>b</code>å˜åŒ–çš„æ—¶å€™ï¼Œ<code>c</code>ä¼šéšä¹‹å˜åŒ–</li>
<li>FRP å‡½æ•°å¼å“åº”å¼ç¼–ç¨‹ï¼Œä¾èµ–æ•°æ®æµçš„å‡½æ•°å¼ç¼–ç¨‹ï¼Œå¦‚ï¼š<code>str=&#39;one one~&#39;; say(str)</code>ï¼Œ å½“<code>str</code>å˜åŒ–ï¼Œä¼šè‡ªåŠ¨è§¦å‘<code>say</code></li>
</ul>
<h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><p>Nest.jsçš„æ ¸å¿ƒæ˜¯åŸºäºIoCæ§åˆ¶åè½¬ + DI ä¾èµ–æ³¨å…¥ å»å®ç°ç±»çš„å£°æ˜å’Œå®ä¾‹åŒ–çš„ã€‚å¦‚æœä½ äº†è§£è¿‡Spring Bootå…¶å®å¾ˆå®¹æ˜“ä¸Šæ‰‹nest.jsã€‚</p>
<h3 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h3><p>Module å…¶å®æ˜¯nest.jsç”¨æ¥å°†ä¸€ä¸ªwebåº”ç”¨æ‹†åˆ†æˆå„ä¸ªå­æ¨¡å—çš„åˆ†ç±»è§„å®šï¼Œwebåº”ç”¨æ ¹æ¨¡å—ä¸€èˆ¬å«<code>app.module.ts</code>ï¼Œå®˜æ–¹è®¾è®¡å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://docs.nestjs.com/assets/Modules_1.png" alt></p>
<p>Moduleåº”è¯¥ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>providersï¼š å…è®¸äº¤ç»™æ¨¡å—å®ä¾‹åŒ–çš„ç±»ï¼ŒåŒ…æ‹¬ä¸é™äºServiceç­‰</li>
<li>controllersï¼šå¿…é¡»å®ä¾‹çš„controllerç±»</li>
<li>importsï¼š æ¨¡å—ä¾èµ–å…¶ä»–æ¨¡å—</li>
<li>exportsï¼šæ¨¡å—å¯¹å¤–æä¾›çš„æ–¹æ³•ç±»</li>
</ul>
<h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><p>Controllerå°±ä¸€ä¸ªä½œç”¨ï¼Œåˆ†å‰²è·¯ç”±ï¼Œè°ƒç”¨å¤„ç†æ–¹æ³•ï¼Œè¿”å›httpè¯·æ±‚ç»“æœã€‚</p>
<p><img src="https://docs.nestjs.com/assets/Controllers_1.png" alt></p>
<p>æ”¯æŒå†™æ³•ï¼š</p>
<ul>
<li><code>@Controller(&#39;test&#39;)</code></li>
<li><code>@Get()</code> <code>@Post()</code> <code>@Put()</code> <code>@Del()</code>ä»£è¡¨å„ç§è¯·æ±‚æ–¹æ³•(http Method)</li>
<li>è¿˜æ”¯æŒä¸€äº›ç‰¹æ®Šå†™æ³•ï¼š <code>@Session()</code>  <code>@Body(key?: string)</code> <code>@Param(key?: string)</code></li>
</ul>
<h3 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h3><p>Providerå…¶å®å°±æ˜¯ä¸ä»…ä»…æ˜¯Serviceå±‚ï¼Œè¿˜åŒ…æ‹¬ï¼šSqlçš„Daoå±‚ã€å·¥å…·æ–¹æ³•ç­‰æä¾›ã€‚å®ƒå’Œå…¶ä»–å±‚å…³ç³»å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://docs.nestjs.com/assets/Components_1.png" alt></p>
<p>å†™æ³•ï¼š</p>
<ul>
<li><code>@Injectable()</code> å£°æ˜è¯¥ç±»æ˜¯ä¸€ä¸ªProviderï¼Œå…è®¸å…¶ä»–ç±»å®ç°ä¾èµ–æ³¨å…¥</li>
<li><code>@Optional()</code> å…è®¸æ„é€ ä¸ä¼ </li>
<li><code>@Inject()</code> è‡ªåŠ¨ä¾èµ–æ³¨å…¥</li>
</ul>
<h2 id="Middleware"><a href="#Middleware" class="headerlink" title="Middleware"></a>Middleware</h2><p>Middlewareä¸­é—´ä»¶ï¼Œå…¶å®å’Œegg.jsçš„ä¸­é—´ä»¶æ¦‚å¿µä¸€æ ·ï¼Œå°±æ˜¯å½“httpè¯·æ±‚æ¥äº†ä¹‹åï¼Œè¢«ä¸­é—´ä»¶å¤„ç†ä¸€éä¹‹åæ‰ä¼šåˆ°å¯¹åº”çš„Controllerå±‚ã€‚</p>
<p><img src="https://docs.nestjs.com/assets/Middlewares_1.png" alt></p>
<p>å†™æ³•ï¼š</p>
<ul>
<li><code>implements NestMiddleware</code>ï¼Œå¿…é¡»å®ç°<code>NestMiddleware</code>æ¥å£ï¼Œä»¥åŠå†…éƒ¨æ–¹æ³•<code>use(req: Request, res: Response, next: NextFunction)</code>ï¼ŒåŒæ—¶å†…éƒ¨æ–¹æ³•å¿…é¡»è°ƒç”¨<code>next</code></li>
<li>åœ¨<code>Module</code>å±‚æ³¨å†Œä¸­é—´ä»¶ï¼Œè¿™é‡Œéœ€è¦å¯ä»¥è®¾ç½®</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Module, NestModule, MiddlewareConsumer &#125; <span class="keyword">from</span> <span class="string">'@nestjs/common'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; LoggerMiddleware &#125; <span class="keyword">from</span> <span class="string">'./common/middleware/logger.middleware'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; CatsModule &#125; <span class="keyword">from</span> <span class="string">'./cats/cats.module'</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Module</span>(&#123;</span><br><span class="line">  imports: [CatsModule],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> AppModule <span class="keyword">implements</span> NestModule &#123;</span><br><span class="line">  configure(consumer: MiddlewareConsumer) &#123;</span><br><span class="line">    consumer</span><br><span class="line">      .apply(LoggerMiddleware)</span><br><span class="line">      .forRoutes(<span class="string">'cats'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>äº†è§£ <code>MiddlewareConsumer</code>ï¼Œä¸­é—´ä»¶æ¶ˆè´¹è€…å·¥å…·ç±»ï¼Œä¸»è¦æŠŠä¸­é—´ä»¶åŠ ä¸Šä¸€äº›é…ç½®é¡¹åŠŸèƒ½ï¼Œå¦‚ï¼š<code>forRoutes</code>æ”¯æŒè·¯ç”±åŒ¹é…ï¼Œ<code>exclude</code>ä¸åŒ…å«è·¯ç”±</li>
<li>å‡½æ•°å¼å£°æ˜ä¸­é—´ä»¶ï¼Œå› ä¸ºMiddlewareæ˜¯åŸºäºexpresï¼Œæ‰€ä»¥å†™æ³•ä¸expressåŸºæœ¬ä¸Šä¸€è‡´</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Request, Response, NextFunction &#125; <span class="keyword">from</span> <span class="string">'express'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">logger</span>(<span class="params">req: Request, res: Response, next: NextFunction</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Request...`</span>);</span><br><span class="line">  next();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="ExceptionFilter"><a href="#ExceptionFilter" class="headerlink" title="ExceptionFilter"></a>ExceptionFilter</h2><p>Filterè¿‡æ»¤å™¨ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯æ‰€æœ‰webæ¡†æ¶éƒ½å…·å¤‡çš„åŠŸèƒ½ï¼Œæ‹¦æˆªç”¨æˆ·è¯·æ±‚å’Œwebè¿”å›æ•°æ®ã€‚åœ¨Nest.jsä¸­ï¼Œåªå®ç°ExeptionFilterï¼Œä½ ä¹Ÿå¯ä»¥åŸºäºè¿™ä¸ªå»è‡ªå®šä¹‰è‡ªå·±çš„å¼‚å¸¸è¿‡æ»¤å™¨ï¼Œå…·ä½“å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://docs.nestjs.com/assets/Filter_1.png" alt></p>
<p>å†™æ³•ï¼š</p>
<ul>
<li><code>@Catch(HttpException) class HttpExceptionFilter implements ExceptionFilter</code> å®ç°è‡ªå®šä¹‰å¼‚å¸¸è¿‡æ»¤å™¨</li>
<li><code>@UseFilters(new HttpExceptionFilter())</code> èƒ½ç»™å…·ä½“æ¥å£åŒ…è£¹ä¸Šä¸€å±‚è‡ªå®šä¹‰çš„å¼‚å¸¸è¿‡æ»¤å™¨</li>
</ul>
<h2 id="Pipe"><a href="#Pipe" class="headerlink" title="Pipe"></a>Pipe</h2><p>Pipe ç®¡é“æµï¼Œæ˜¯æŒ‡çš„Httpè¯·æ±‚é‡Œçš„å†…å®¹æ•°æ®æµï¼Œå®ƒæ”¯æŒæ•°æ®éªŒè¯ã€æ•°æ®è½¬æ¢ç­‰åŠŸèƒ½ï¼Œæœ‰ç‚¹ç±»ä¼¼Filterçš„åŠŸèƒ½ã€‚</p>
<p>å†™æ³•ï¼š</p>
<ul>
<li><code>@Param(&#39;id&#39;, ParseIntPipe) id: number</code>ï¼Œå°†å‚æ•°idè½¬æ¢ä¸ºnumberç±»å‹</li>
<li><code>class ValidationPipe implements PipeTransform</code>è‡ªå®šä¹‰ Pipeï¼ŒåŒæ—¶å¿…é¡»å®ç°æ–¹æ³•<code>transform(value: any, metadata: ArgumentMetadata)</code></li>
<li><code>@UsePipes(new Pipe())</code>ï¼Œæ”¯æŒåœ¨controlleré…ç½®è‡ªå®šä¹‰çš„Pipe</li>
</ul>
<h2 id="Guard"><a href="#Guard" class="headerlink" title="Guard"></a>Guard</h2><p>Guard å®ˆå«ï¼Œä¹Ÿæ˜¯å¤„Httpè¯·æ±‚ä¸­çš„ä¸€å±‚ç‰¹æ®Šä¸­é—´ä»¶ï¼Œä½†æ˜¯ä¸ä¸­é—´ä»¶ä¸åŒçš„æ—¶å€™ï¼Œä¸­é—´ä»¶ä¸çŸ¥é“next()æ˜¯å»å“ªä¸ªæ‰§è¡Œä»£ç ï¼Œè€ŒGuardåˆ™å¯ä»¥è·å–<code>ExecutionContext</code>å®ä¾‹ï¼Œå¯ä»¥è·çŸ¥æ•´ä¸ªè¯·æ±‚çš„ç”Ÿå‘½å‘¨æœŸå’Œå†…ç½®å†…å®¹ï¼Œé€šå¸¸ç”¨æ¥æ¥å£ç™»å½•å’Œæƒé™æ§åˆ¶ã€‚</p>
<p><img src="https://docs.nestjs.com/assets/Guards_1.png" alt></p>
<p>å†™æ³•ï¼š</p>
<ul>
<li><code>class AuthGuard implements CanActivate</code></li>
<li>å¿…é¡»å®ç°æ–¹æ³•<code>canActivate(context: ExecutionContext): boolean | Promise&lt;boolean&gt; | Observable&lt;boolean&gt;</code></li>
<li>æ³¨å†Œä½¿ç”¨ï¼š<code>@UseGuards</code> Controllerå±‚ä½¿ç”¨ï¼Œ <code>app.useGlobalGuards(new RolesGuard());</code> å…¨å±€æ³¨å†Œ</li>
</ul>
<h2 id="Interceptor"><a href="#Interceptor" class="headerlink" title="Interceptor"></a>Interceptor</h2><p>Interceptoræ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ç†å¿µå½±å“çš„æ¦‚å¿µï¼Œå®ƒå…è®¸ä½ åœ¨æ–¹æ³•æ‰§è¡Œå‰åæ‰©å±•åŸæœ‰å‡½æ•°åŠŸèƒ½ï¼Œå¦‚ï¼šæ”¹å˜è¿”å›ç»“æœï¼Œæ‰©å±•åŸºæœ¬åŠŸèƒ½ç­‰ï¼Œå¸¸ç”¨çš„åœºæ™¯ï¼šæ·»åŠ å¸¸è§„æ—¥å¿—ã€‚</p>
<p><img src="https://docs.nestjs.com/assets/Interceptors_1.png" alt></p>
<p>å†™æ³•ï¼š</p>
<ul>
<li><code>class LoggingInterceptor implements NestInterceptor</code>,è‡ªå®šä¹‰å®ç°</li>
<li><code>intercept(context: ExecutionContext, next: CallHandler): Observable&lt;any&gt;</code>æ–¹æ³•å®ç°ï¼ŒåŒæ—¶éœ€è¦è¿”å›å¯¹åº”ç»“æœ<code>next()</code></li>
<li>æ³¨å†Œä½¿ç”¨ï¼š<code>@UseInterceptors(LoggingInterceptor)</code>å¯ä»¥åœ¨ç±»æˆ–æ–¹æ³•å‰è¿›è¡Œæ³¨å†Œï¼Œ <code>app.useGlobalInterceptors(new LoggingInterceptor());</code>å…¨å±€æ³¨å†Œ</li>
</ul>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul>
<li>è‡ªå®šä¹‰å‚æ•°è£…é¥°å™¨<code>createParamDecorator</code>ï¼Œå¯ä»¥ä»requestå¯¹è±¡ä¸­æŠ½å–å›ºå®šçš„å‚æ•°ã€‚</li>
<li><code>applyDecorators</code> å¯ä»¥å°†å¤šä¸ªè£…é¥°å™¨ æ–¹æ³•åˆåœ¨ä¸€èµ·éªŒè¯ï¼Œç„¶åå½¢æˆä¸€ä¸ªæ–°çš„æ³¨è£…é¥°å™¨</li>
</ul>
<p>PS: è£…é¥°å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>è£…é¥°å™¨åœ¨JavaScriptä¸­æš‚æ—¶æ˜¯æ²¡æœ‰ï¼Œåªæœ‰TypeScriptæ‰å¯ä»¥å®ç°ä¸€ç§è¯­æ³•ç³–</li>
<li>è£…é¥°å™¨ä½¿ç”¨ @expression çš„å½¢å¼ï¼Œå…¶ä¸­ expression å¿…é¡»èƒ½å¤Ÿæ¼”ç®—ä¸ºåœ¨è¿è¡Œæ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œå…¶ä¸­åŒ…æ‹¬è£…é¥°å£°æ˜ä¿¡æ¯ã€‚</li>
<li>è‡ªå®šä¹‰è£…é¥°å™¨ä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™æ˜¯ä¸€ä¸ªè£…é¥°å™¨å·¥å‚â€”â€”æœ‰åŠ©äºå°†ç”¨æˆ·å‚æ•°ä¼ ç»™è£…é¥°å™¨å£°æ˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"f(): evaluated"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target, propertyKey: <span class="built_in">string</span>, descriptor: PropertyDescriptor</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"f(): called"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"g(): evaluated"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target, propertyKey: <span class="built_in">string</span>, descriptor: PropertyDescriptor</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"g(): called"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> C &#123;</span><br><span class="line">  <span class="meta">@f</span>()</span><br><span class="line">  <span class="meta">@g</span>()</span><br><span class="line">  method() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// f(): evaluated</span></span><br><span class="line"><span class="comment">// g(): evaluated</span></span><br><span class="line"><span class="comment">// g(): called</span></span><br><span class="line"><span class="comment">// f(): called</span></span><br></pre></td></tr></table></figure>

<h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h2><p>Nest.jsçš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šåˆå§‹åŒ–ã€è¿è¡Œå’Œç»ˆæ­¢ï¼Œä¸‹å›¾è¯¦ç»†ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªå­é˜¶æ®µï¼š</p>
<p><img src="https://docs.nestjs.com/assets/lifecycle-events.png" alt></p>
<p>å…è®¸ç›‘å¬çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼š</p>
<ul>
<li><code>onModuleInit()</code>, æ¨¡å—åˆå§‹åŒ–æ—¶å€™è°ƒç”¨</li>
<li><code>onApplicationBootstrap()</code>ï¼Œæ‰€æœ‰æ¨¡å—éƒ½å‡†å¤‡å¥½äº†ï¼Œä½†æ˜¯åœ¨webåº”ç”¨æ­£å¼å¯ç”¨å‰ä¼šè¢«è°ƒç”¨</li>
<li><code>onModuleDestroy()</code>ï¼Œæ¨¡å—å‡†å¤‡è¢«åœæ­¢</li>
<li><code>beforeApplicationShutdown()</code>, webåº”ç”¨å‡†å¤‡è¢«åœæ­¢ä¹‹å‰</li>
<li><code>onApplicationShutdown()</code>ï¼Œwebåº”ç”¨è¢«åœæ­¢ä¹‹åï¼Œåœ¨è¿›ç¨‹é€€å‡ºä¹‹å‰</li>
</ul>
<h2 id="ä¸Šæ‰‹å®æˆ˜"><a href="#ä¸Šæ‰‹å®æˆ˜" class="headerlink" title="ä¸Šæ‰‹å®æˆ˜"></a>ä¸Šæ‰‹å®æˆ˜</h2><h3 id="ç¬¬ä¸€æ­¥å®‰è£…ï¼š"><a href="#ç¬¬ä¸€æ­¥å®‰è£…ï¼š" class="headerlink" title="ç¬¬ä¸€æ­¥å®‰è£…ï¼š"></a>ç¬¬ä¸€æ­¥å®‰è£…ï¼š</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm i -g @nestjs/cli</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nest new project-name --strict</span></span><br></pre></td></tr></table></figure>

<h3 id="ç”Ÿæˆé¡¹ç›®ç»“æ„"><a href="#ç”Ÿæˆé¡¹ç›®ç»“æ„" class="headerlink" title="ç”Ÿæˆé¡¹ç›®ç»“æ„"></a>ç”Ÿæˆé¡¹ç›®ç»“æ„</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">src</span><br><span class="line">|-- app.controller.spec.ts // controllerå±‚çš„å•å…ƒæµ‹è¯•</span><br><span class="line">|-- app.controller.ts // controllerå±‚ æ§åˆ¶è·¯ç”±æ¥å£å±‚</span><br><span class="line">|-- app.module.ts // åº”ç”¨æ ¹æ¨¡å—</span><br><span class="line">|-- app.service.ts // serviceå±‚ ç»™controlleræä¾›å„ç§ä¸šåŠ¡å¤„ç†æ–¹æ³•</span><br><span class="line">|-- main.ts // å…¥å£æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> yarn</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> yarn start:dev</span></span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ <a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a> å°±å¯ä»¥è®¿é—®äº†ã€‚</p>
<p>åé¢æœ‰ç¯‡æ–‡ç« å«<a href="/2023/01/22/today/20220122/">ã€Šä»nest.jsä¸­äº†è§£Iocå’ŒDIã€‹</a>ï¼Œå¤§å®¶æƒ³äº†è§£å¯ä»¥å»çœ‹çœ‹ã€‚</p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆæ€»ç»“</title>
    <url>/today/20230111.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>ç”±äºè‡ªå·±å¤ªä¹…æ²¡å¼€å‘ç§»åŠ¨ç«¯çš„é¡µé¢ï¼Œä¸ªäººè§‰å¾—ç§»åŠ¨ç«¯å¼€å‘ç›¸æ¯”è¾ƒPCç«¯å¼€å‘æœ€å¤§çš„ä¸åŒï¼Œåœ¨äºéœ€è¦å»é€‚é…å„ç§å°ºå¯¸çš„æ‰‹æœºå±å¹•ï¼Œå°¤å…¶è¿˜æœ‰1pxçš„é—®é¢˜ã€‚</p>
<p>å› æ­¤éœ€è¦å†æ¬¡æ”¶é›†ä¸€ä¸‹ï¼Œé™¤äº†è‡ªå·±è®¤çŸ¥(remé€‚é…)ä»¥å¤–ï¼Œæ˜¯å¦è¿˜æœ‰ç§»åŠ¨ç«¯é€‚é…çš„æ–¹æ¡ˆå—ï¼Ÿ</p>
<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ç§»åŠ¨ç«¯å­˜åœ¨å‡ ç±»é—®é¢˜ï¼Œå¦‚ä¸‹æ‰€åˆ—ï¼š</p>
<ul>
<li>1pxæ˜¾ç¤ºè¿‡ç²—é—®é¢˜</li>
<li>æ‰‹æœºå±å¹•å‡ºç°åˆ˜æµ·å±ã€æ»´æ°´å±ç­‰ï¼Œå¦‚ä½•é€‚é…</li>
<li>å¦‚ä½•åœ¨ä¸åŒå±å¹•ï¼Œæ˜¾ç¤ºæ­£ç¡®é«˜æ¸…å›¾ç‰‡</li>
<li>meta çš„ viewport å€¼ èƒ½å¦ç”¨æ¥é€‚é…</li>
<li>remï¼Œvwï¼Œvhè®¡ç®—å•ä½çš„åŒºåˆ«</li>
<li>â€¦</li>
</ul>
<a id="more"></a>
<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><h2 id="åƒç´ "><a href="#åƒç´ " class="headerlink" title="åƒç´ "></a>åƒç´ </h2><blockquote>
<p>åƒç´ æ˜¯è®¡ç®—æœºå±å¹•ä¸Šæ‰€èƒ½æ˜¾ç¤ºçš„æœ€å°å•ä½ã€‚ç”¨æ¥è¡¨ç¤ºå›¾åƒçš„å•ä½ã€‚</p>
</blockquote>
<p>æŒ‰ç…§æˆ‘ä¸ªäººç†è§£ï¼ŒæŠŠå±å¹•æ¯”åšä¸€å¼ ç™½çº¸ï¼Œç„¶ååƒç´ å°±æ˜¯ä¸€ä¸ªç‚¹ï¼Œæ¥ç€åŒä¸€æ°´å¹³çº¿ä¸Šçš„ç‚¹å½¢æˆä¸€æ¡çº¿ï¼Œæ°´å¹³çº¿å’Œå‚ç›´çº¿åŒæ—¶å°±å½¢æˆä¸€ä¸ªç”»é¢ã€‚</p>
<p>ç„¶åå¯¹äºæˆ‘ä»¬å‰ç«¯å¼€å‘è€Œè¨€ï¼Œåƒç´ åˆéœ€è¦åˆ†æˆå‡ ç±»ï¼š</p>
<ul>
<li><code>è®¾å¤‡ç‹¬ç«‹åƒç´ </code>, ä¿—ç§°<code>DIP</code>ï¼Œä½ å¯ä»¥ç†è§£æˆæˆ‘ä»¬å¹³æ—¶ç”¨cssåƒç´  åˆç­‰äº é€»è¾‘åƒç´ ï¼Œç®€å•è¯´å°±æ˜¯åŒä¸€ä¸ªå°ºå¯¸çš„å±å¹•ï¼Œè®¾å¤‡ç‹¬ç«‹åƒç´ æ˜¯ä¸€æ ·çš„ï¼Œä»è€Œå‡å°‘è¯¯è§£</li>
<li><code>ç‰©ç†åƒç´ </code>ï¼Œå…¶å®å°±æ˜¯æˆ‘ä»¬çœŸå®è‚‰çœ¼å¯è§çš„åƒç´ ï¼Œç‰©ç†åƒç´  = åˆ†è¾¨ç‡</li>
<li><code>è®¾å¤‡åƒç´ æ¯”</code>ï¼Œ <code>DPR</code> <code>devicePixelRatio</code> = è®¾å¤‡åƒç´  / è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œå½“ç‰©ç†åƒç´ å’Œè®¾å¤‡ç‹¬ç«‹åƒç´ ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€ä¸ªæ ‡å‡†æ¥åšé€‚é…ï¼Œåˆ©ç”¨<code>DPR</code>æˆ‘ä»¬èƒ½å°†åŒæ ·çš„ç”»é¢é€‚åº”ä¸åŒçš„å±å¹•</li>
<li><code>æ¯è‹±å¯¸åƒç´ </code> <code>ppi</code> ï¼ˆpixel per inchï¼‰ï¼Œè¡¨ç¤ºæ¯è‹±å¯¸æ‰€åŒ…å«çš„åƒç´ ç‚¹æ•°ç›®ï¼Œæ›´ç¡®åˆ‡çš„è¯´æ³•åº”è¯¥æ˜¯åƒç´ å¯†åº¦ã€‚æ•°å€¼è¶Šé«˜ï¼Œè¯´æ˜å±å¹•èƒ½ä»¥æ›´é«˜å¯†åº¦æ˜¾ç¤ºå›¾åƒ</li>
</ul>
<h2 id="åˆ†è¾¨ç‡"><a href="#åˆ†è¾¨ç‡" class="headerlink" title="åˆ†è¾¨ç‡"></a>åˆ†è¾¨ç‡</h2><blockquote>
<p>åˆ†è¾¨ç‡æŒ‡å±å¹•ä¸Šåƒç´ çš„æ•°ç›®ï¼Œä¸€èˆ¬ç”¨æ°´å¹³<em>å‚ç›´ï¼Œæ¯”å¦‚ï¼šå±å¹•åˆ†è¾¨ç‡ä¸º 800</em> 600ï¼Œ æ°´å¹³æœ‰800ä¸ªåƒç´ ç‚¹ï¼Œå‚ç›´æœ‰600ä¸ªåƒç´ </p>
</blockquote>
<p>æ‰€ä»¥å¹³æ—¶æˆ‘ä»¬å°†2kã€4kå±å¹•ï¼Œé€šå¸¸æŒ‡çš„æ˜¯æ°´å¹³æ–¹å‘çš„å­˜æ”¾åƒç´ è¶…è¿‡2000æˆ–4000ä¸ªã€‚</p>
<h2 id="è§†å£ï¼ˆviewportï¼‰"><a href="#è§†å£ï¼ˆviewportï¼‰" class="headerlink" title="è§†å£ï¼ˆviewportï¼‰"></a>è§†å£ï¼ˆviewportï¼‰</h2><blockquote>
<p>è§†å£ä»£è¡¨å½“å‰å¯è§çš„è®¡ç®—æœºå›¾å½¢åŒºåŸŸã€‚åœ¨ Web æµè§ˆå™¨æœ¯è¯­ä¸­ï¼Œé€šå¸¸ä¸æµè§ˆå™¨çª—å£ç›¸åŒï¼Œä½†ä¸åŒ…æ‹¬æµè§ˆå™¨çš„ UIï¼Œèœå•æ ç­‰â€”â€”å³æŒ‡ä½ æ­£åœ¨æµè§ˆçš„æ–‡æ¡£çš„é‚£ä¸€éƒ¨åˆ†ã€‚<br>è§†å£ä¸€èˆ¬æ˜¯æŒ‡ç”¨æˆ·è®¿é—®é¡µé¢æ—¶ï¼Œå½“å‰çš„å¯è§†åŒºåŸŸèŒƒå›´ã€‚é€šè¿‡æ»šåŠ¨æ¡æ»‘åŠ¨ï¼Œè§†å£å¯ä»¥æ˜¾ç¤ºé¡µé¢çš„å…¶ä»–éƒ¨åˆ†ã€‚<br>é€šè¿‡ document.documentElement.clientWidth æˆ– window.innerWidth å¯ä»¥è·å–è§†å£å®½åº¦ã€‚</p>
</blockquote>
<p>ç®€å•çš„è¯´ï¼Œè§†å£å°±æ˜¯æµè§ˆå™¨è‚‰çœ¼å¯è§çš„åŒºåŸŸï¼Œæ˜¯éšæ—¶å¯å˜åŒ–ï¼Œè§†å£æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå®ƒåˆå¯ä»¥æ ¹æ®ä¸åŒæƒ…å†µåˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>å¸ƒå±€è§†å£ï¼Œå¯¹äºå¼€å‘æ¥è¯´çš„ä¸€ç§è§†å£æ¦‚å¿µï¼Œåœ¨ç§»åŠ¨ç«¯å¯ä»¥é€šè¿‡ <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=980, initial-scale=1.0&quot;&gt;&lt;/meta&gt;</code>è°ƒæ•´ä»è€Œå°†æ‰“å±æ˜¾ç¤ºçš„å†…å®¹å®Œæ•´ç¼©å°é€‚é…åˆ°ç§»åŠ¨ç«¯å°å±</li>
<li>è§†è§‰è§†å£ï¼Œæ˜¯ä¸€ç§é’ˆå¯¹ç§»åŠ¨ç«¯å±å¹•æå‡ºæ¥çš„æ¦‚å¿µï¼Œå…·ä½“æ˜¯æŒ‡çš„å±å¹•çš„å¯è§åŒºåŸŸï¼Œå½“é”®ç›˜å¼¹èµ·ã€æµè§ˆå™¨å·¥å…·æ éšè—ç­‰ï¼Œè§†è§‰è§†å£éƒ½ä¼šéšä¹‹å˜åŒ–ï¼Œè€Œå¸ƒå±€è§†å£ä¸ä¼š</li>
</ul>
<h2 id="å¸ƒå±€è§†å£ï¼ˆlayout-viewportï¼‰"><a href="#å¸ƒå±€è§†å£ï¼ˆlayout-viewportï¼‰" class="headerlink" title="å¸ƒå±€è§†å£ï¼ˆlayout viewportï¼‰"></a>å¸ƒå±€è§†å£ï¼ˆlayout viewportï¼‰</h2><blockquote>
<p>innerHeight å’Œ innerWidth æ‰€ç»„æˆçš„åŒºåŸŸé€šå¸¸è¢«è®¤ä¸ºæ˜¯å¸ƒå±€è§†å£ï¼ˆlayout viewportï¼‰ã€‚æµè§ˆå™¨çš„æ¡†æ¶ä¸è¢«è®¤ä¸ºæ˜¯è§†å£çš„ä¸€éƒ¨åˆ†ã€‚</p>
</blockquote>
<p>åœ¨PCç«¯çš„æ—¶å€™ï¼Œ è§†å£=å¸ƒå±€è§†å£=è§†è§‰è§†å£ã€‚</p>
<p>åœ¨ç§»åŠ¨ç«¯çš„æ—¶å€™ï¼Œå¸ƒå±€è§†å£ = å†…å®¹å®½åº¦ï¼Œå¯ä»¥é€šè¿‡<code>&lt;meta name=&quot;viewport&quot; content=&quot;width=980, initial-scale=1.0&quot;&gt;&lt;/meta&gt;</code>è°ƒæ•´ï¼Œä¸‹é¢ä¸¾å‡ ä¸ªä¾‹å­(ç§»åŠ¨ç«¯ä¸º375*667)ï¼š</p>
<ul>
<li><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=980, initial-scale=1.0&quot;&gt;&lt;/meta&gt;</code>ï¼Œ å¸ƒå±€è§†å£=window.innerWidth=980</li>
<li><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&lt;/meta&gt;</code>, å¸ƒå±€è§†å£=window.innerWidth=375</li>
</ul>
<h2 id="è§†è§‰è§†å£ï¼ˆvisual-viewportï¼‰"><a href="#è§†è§‰è§†å£ï¼ˆvisual-viewportï¼‰" class="headerlink" title="è§†è§‰è§†å£ï¼ˆvisual viewportï¼‰"></a>è§†è§‰è§†å£ï¼ˆvisual viewportï¼‰</h2><blockquote>
<p>è§†è§‰è§†å£æŒ‡å½“å‰æµè§ˆå™¨ä¸­å¯è§çš„éƒ¨åˆ†ï¼Œå¹¶ä¸”å¯ä»¥å˜åŒ–ã€‚å½“ä½¿ç”¨åŒæŒ‡ç¼©æ”¾ï¼Œæˆ–é”®ç›˜åœ¨æ‰‹æœºä¸Šå¼¹å‡ºçš„æ—¶å€™ï¼Œæˆ–è€…ä¹‹å‰éšè—çš„åœ°å€æ å˜å¾—å¯è§çš„æ—¶å€™ï¼Œè§†è§‰è§†å£ç¼©å°äº†ï¼Œä½†æ˜¯å¸ƒå±€è§†å£å´ä¿æŒä¸å˜ã€‚</p>
</blockquote>
<p>ç›¸æ¯”è¾ƒ<code>å¸ƒå±€è§†å£</code>æ¦‚å¿µï¼Œè§†è§‰è§†å£æ˜¯ç”±è‹¹æœ ä¹”å¸ƒæ–¯æå‡ºï¼Œä¸ºäº†æ›´å¥½çš„åœ¨ç§»åŠ¨ç«¯å±•ç¤ºwebç½‘é¡µï¼Œè§†è§‰è§†å£=å±å¹•çš„å¯è§åŒºåŸŸï¼Œä¸‹é¢é€šè¿‡å‡ ä¸ªä¾‹å­å»è®¤çŸ¥(ç§»åŠ¨ç«¯ä¸º375*667)ï¼š</p>
<ul>
<li><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=980, initial-scale=1.0&quot;&gt;&lt;/meta&gt;</code>ï¼Œè§†è§‰è§†å£=window.screen.width=375</li>
<li><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&lt;/meta&gt;</code>ï¼Œè§†è§‰è§†å£=window.screen.width=375</li>
</ul>
<h2 id="viewportè®¾ç½®é¡¹"><a href="#viewportè®¾ç½®é¡¹" class="headerlink" title="viewportè®¾ç½®é¡¹"></a>viewportè®¾ç½®é¡¹</h2><p><code>viewport</code>çš„è®¾ç½®ä¸»è¦æ˜¯åœ¨ç§»åŠ¨ç«¯é…ç½®è§†å£å¤§å°ï¼Œä»widthå®½åº¦ï¼Œinitial-scaleç¼©æ”¾ç­‰è®¾ç½®å±æ€§ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li>widthï¼šæ§åˆ¶ viewport çš„å¤§å°ï¼Œå¯ä»¥ç»™å®ƒæŒ‡å®šä¸€ä¸ªå€¼(æ­£æ•´æ•°)ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å€¼(å¦‚ï¼šdevice-width è®¾å¤‡ç‹¬ç«‹åƒç´ å®½åº¦ï¼Œå•ä½ç¼©æ”¾ä¸º 1 æ—¶)ï¼›</li>
<li>initial-scaleï¼šåˆå§‹ç¼©æ”¾æ¯”ä¾‹ï¼Œå³å½“é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½æ—¶çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—(å¯ä»¥å¸¦å°æ•°)ï¼›</li>
<li>maximum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å¤§æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—(å¯ä»¥å¸¦å°æ•°)ï¼›</li>
<li>minimum-scaleï¼šå…è®¸ç”¨æˆ·ç¼©æ”¾åˆ°çš„æœ€å°æ¯”ä¾‹ï¼Œä¸ºä¸€ä¸ªæ•°å­—(å¯ä»¥å¸¦å°æ•°)ï¼›</li>
<li>user-scalableï¼šæ˜¯å¦å…è®¸ç”¨æˆ·æ‰‹åŠ¨ç¼©æ”¾ï¼Œå€¼ä¸º â€œnoâ€(ä¸å…è®¸) æˆ– â€œyesâ€(å…è®¸)ï¼›</li>
<li>heightï¼šä¸ width ç›¸å¯¹åº”(å¾ˆå°‘ä½¿ç”¨)ã€‚</li>
</ul>
<h2 id="æ³¨æ„é¡¹"><a href="#æ³¨æ„é¡¹" class="headerlink" title="æ³¨æ„é¡¹"></a>æ³¨æ„é¡¹</h2><ul>
<li>iframeçš„è§†å£ç­‰äºæ˜¯å…¶å†…éƒ¨é«˜åº¦å’Œå®½åº¦çš„å¤§å°ã€‚</li>
<li>SVGçš„è§†å£å³ SVG å›¾ç‰‡çš„å¯è§†åŒºåŸŸã€‚</li>
</ul>
<h1 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h1><p>è¿™äº›å…¼å®¹æ–¹æ¡ˆéƒ½æ˜¯åŸºäºè§†å£ä¸ç¼©æ”¾é…ç½®æ‰èƒ½ç”Ÿæ•ˆï¼š<br><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;&lt;/meta&gt;</code></p>
<p>ç›®å‰å¸‚é¢ä¸»æµçš„å‡ ç§é€‚é…æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ul>
<li><code>rem</code> ï¼Œé€šè¿‡ä¸€ä¸ªå®½åº¦å°ºå¯¸ä½œä¸ºç»Ÿä¸€çš„å•ä½å€¼ï¼Œç„¶åé€šè¿‡jsè®¡ç®—å‡ºä¸åŒå°ºå¯¸å¯¹æ¯”å€¼ï¼Œå¾—åˆ°é€‚é…æ•ˆæœ</li>
<li><code>vw</code> ï¼Œä¸€ä¸ªæµè§ˆå™¨æ”¯æŒçš„å•ä½ï¼Œåˆ©ç”¨ CSS è§†çª—çš„ç‰¹æ€§ï¼Œæ€»å®½åº¦ä¸º 100vwï¼Œæ¯ä¸€ä»½ä¸ºä¸€ä¸ªå•ä½ 1vwï¼Œè®¾ç½® 1rem å•ä½ä¸º 10vw</li>
<li><code>px + calc + clamp</code>ï¼Œå¤§æ¼ åœ¨2021å¹´æå‡ºï¼Œæ ¹æ® CSS çš„æ–°ç‰¹æ€§ï¼šcsså˜é‡ã€calc()å‡½æ•°ã€clamp()ã€@containerå‡½æ•°å®ç°</li>
</ul>
<h2 id="remæ–¹æ¡ˆ"><a href="#remæ–¹æ¡ˆ" class="headerlink" title="remæ–¹æ¡ˆ"></a>remæ–¹æ¡ˆ</h2><p><code>rem</code>æ˜¯æŒ‡çš„htmlå…ƒç´ çš„<code>font-size</code>çš„å¤§å°ï¼Œå¦‚ï¼š<code>html{font-size:50px}; 1rem=50px</code>ã€‚</p>
<h3 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h3><p>é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œæ›´å¥½ç†è§£å®ƒçš„åŸç†ã€‚æ¯”å¦‚ä½ æ‹¿åˆ°ä¸€å¼ è®¾è®¡ç¨¿ä¸º750pxå®½åº¦çš„ï¼Œé‡Œé¢æœ‰ä¸ªé•¿æ–¹å½¢ä¸º100*200ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦åœ¨ä¸åŒå±å¹•å»åšé€‚é…ã€‚</p>
<p>remçš„è§£å†³æ–¹æ¡ˆæ€è·¯ä¸ºï¼š</p>
<ul>
<li>å°†æ ‡å‡†å°ºå¯¸å®½åº¦ 750/10= 75pxï¼Œè®¾ç½®:<code>html{font-size:75px} 1rem=75px</code></li>
<li>å°†é•¿æ–¹å½¢çš„ 100*200ï¼Œ100/75 * 200/75ï¼Œè®¾ç½®ä¸ºï¼š<code>.rectangle{width: 1.33rem;height:2.66rem}</code></li>
<li>é‚£ä¹ˆå½“å±å¹•çš„å°ºå¯¸å‘ç”Ÿå˜è¯çš„æ—¶å€™ï¼Œ å˜æˆä»750å‡å°‘ä¸º375ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè®¾ç½®: <code>html{font-size:37.5px} 1rem=37.5px</code></li>
<li>é•¿æ–¹å½¢çš„cssè®¾ç½®æ— éœ€å˜åŒ–ï¼Œä»è€Œè¾¾åˆ°é€‚é…çš„æ•ˆæœ</li>
<li></li>
</ul>
<p>æ‰€ä»¥remçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯åœ¨webåº”ç”¨åœ¨åŠ è½½çš„æ—¶å€™ï¼Œæå‰è®¡ç®—å¥½remå•ä½ï¼Œæ‰€ä»¥å°±å¯ä»¥å®Œæˆé€‚é…ã€‚</p>
<p>ç›®å‰ä¸»æµçš„æ–¹æ¡ˆæœ‰ï¼š</p>
<ul>
<li><a href="https://github.com/amfe/lib-flexible" target="_blank" rel="noopener">flexible</a></li>
<li><a href="https://github.com/songsiqi/px2rem" target="_blank" rel="noopener">px2rem</a></li>
</ul>
<p>æºç å®ç°ï¼š</p>
<p><a href="/code/h5-shipei/flexible.js">h5-shipei.js</a></p>
<p>PS: é‡Œé¢æ¶‰åŠåˆ°<code>pageshow</code>äº‹ä»¶ï¼ŒåŸºæœ¬ä¸Šæ˜¯å› ä¸ºç§»åŠ¨ç«¯ç¼“å­˜äº†webé¡µé¢ï¼Œå½“æµè§ˆå™¨å†å²è®°å½•å‰è¿›æˆ–åé€€çš„æ˜¯ä¼šè§¦å‘ï¼Œå¯ä»¥é€šè¿‡<code>e.persisted</code>åˆ¤æ–­æ˜¯å¦ä»ç¼“å­˜è·å–</p>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>éœ€è¦å‰ç½®jsæ‰èƒ½å®ç°ï¼Œæ ¹æ®è®¾å¤‡çš„è§†çª—å®½åº¦è¿›è¡Œè®¡ç®—ï¼Œå½±å“æ€§èƒ½</li>
<li>åœ¨ PC ç«¯æµè§ˆç ´ç›¸ï¼Œä¸€èˆ¬è®¾ç½®ä¸€ä¸ªæœ€å¤§å®½åº¦</li>
</ul>
<h2 id="vwæ–¹æ¡ˆ"><a href="#vwæ–¹æ¡ˆ" class="headerlink" title="vwæ–¹æ¡ˆ"></a>vwæ–¹æ¡ˆ</h2><h3 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h3><p>vwæ˜¯cssçš„ä¸€ç§è®¡ç®—å•ä½ï¼Œå®šä¹‰ï¼š </p>
<blockquote>
<p>1vw ç­‰äº1/100çš„è§†å£å®½åº¦ ï¼ˆViewport Widthï¼‰</p>
</blockquote>
<p>åŒç†vhä¹Ÿæ˜¯:</p>
<blockquote>
<p>1vh ç­‰äº1/100çš„è§†å£é«˜åº¦ ï¼ˆViewport Heightï¼‰</p>
</blockquote>
<p>é‚£ä¹ˆvmaxï¼Œvminï¼Œæˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°æ¯”è¾ƒå¥½è§£é‡Šå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>vmin â€” vminçš„å€¼æ˜¯å½“å‰vwå’Œvhä¸­è¾ƒå°çš„å€¼ã€‚<br>vmax â€” vwå’Œvhä¸­è¾ƒå¤§çš„å€¼ã€‚<br>åœ¨æ¨ªç«–å±çš„åˆ‡æ¢ä¸­ï¼Œååˆ†æœ‰ç”¨ã€‚</p>
</blockquote>
<h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>äº†è§£åˆ°vwçš„æ¦‚å¿µï¼Œé‚£ä¹ˆå¦‚ä½•åˆ©ç”¨vwå»è§£å†³ç§»åŠ¨ç«¯çš„é€‚é…å‘¢ï¼Ÿå…¶å®å’Œremæ–¹æ¡ˆæ˜¯ä¸€æ ·ï¼Œå…·ä½“ä»£ç å¯ä»¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* rem æ–¹æ¡ˆ */</span></span><br><span class="line"><span class="selector-tag">html</span> &#123; <span class="attribute">font-size</span>: width / <span class="number">100</span>&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>: <span class="number">26.67rem</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* vw æ–¹æ¡ˆ */</span></span><br><span class="line"><span class="selector-tag">div</span> &#123; <span class="attribute">width</span>: <span class="number">26.67vw</span> &#125;</span><br></pre></td></tr></table></figure>

<p>å·²å®ç°çš„æ¡†æ¶æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<p><a href="https://github.com/evrone/postcss-px-to-viewport/blob/master/README_CN.md" target="_blank" rel="noopener">postcss-px-to-viewport</a></p>
<p>åˆ©ç”¨æ‰“åŒ…ç¼–è¯‘è¿‡ç¨‹ï¼Œå°†è®¾ç½®å¥½çš„pxå•ä½è½¬æ¢ä¸ºvwæˆ–vhï¼Œå…·ä½“ä½¿ç”¨å¯ä»¥çœ‹ä½¿ç”¨æ–‡æ¡£ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>å’Œremä¸€æ ·ï¼Œå®¹æ˜“åœ¨pcç«¯é€‚é…é”™è¯¯ï¼Œå¯ä»¥ç”¨@mediaåª’ä½“æŸ¥è¯¢å»åšæ ·å¼å…¼å®¹</li>
</ul>
<p><strong>åç»­æ·»åŠ </strong></p>
<p>å¦‚æœåˆ©ç”¨flex/gridå¸ƒå±€ï¼ŒåŠ ä¸Švwã€vhå•ä½ï¼Œæ˜¯å¦å¯ä»¥åšåˆ°è‡ªé€‚åº”å¸ƒå±€å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯è‚¯å®šï¼Œè€Œä¸”ç›¸å¯¹è€Œè¨€ä¼šæ¯”å…¶ä»–æ–¹æ¡ˆï¼Œä¼šæ›´åŠ å®¹æ˜“å¼€å‘äº›ï¼Œå®ç°æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ©ç”¨flexå¼¹æ€§å¸ƒå±€ï¼ŒåŠ ä¸Švwè®¾ç½®flexå¼¹æ€§ç›’å­çš„å®½åº¦ï¼Œä»è€Œåšåˆ°ä¸åŒå®½åº¦å±å¹•ï¼Œæ˜¯å¦æ¢è¡Œæˆ–è€…å‚ç›´å¸ƒå±€</li>
</ul>
<p>åç»­å¯ä»¥ä¸“é—¨å†™ä¸ªæ–‡ç« ç”¨æ¥æè¿°flexå¸ƒå±€çš„åŸç†ã€‚</p>
<h2 id="px-calc-clamp"><a href="#px-calc-clamp" class="headerlink" title="px + calc + clamp"></a>px + calc + clamp</h2><h3 id="æ˜¯ä»€ä¹ˆ-1"><a href="#æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h3><p><code>calc()</code> æ­¤ CSS å‡½æ•°å…è®¸åœ¨å£°æ˜ CSS å±æ€§å€¼æ—¶æ‰§è¡Œä¸€äº›è®¡ç®—ã€‚ æ”¯æŒ  + ï¼Œ - ï¼Œ / ,* ç­‰è¿ç®—ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* property: calc(expression) */</span></span><br><span class="line"><span class="selector-tag">width</span>: <span class="selector-tag">calc</span>(100% <span class="selector-tag">-</span> 80<span class="selector-tag">px</span>);</span><br></pre></td></tr></table></figure>

<p><code>clamp()</code> å‡½æ•°çš„ä½œç”¨æ˜¯æŠŠä¸€ä¸ªå€¼é™åˆ¶åœ¨ä¸€ä¸ªä¸Šé™å’Œä¸‹é™ä¹‹é—´ï¼Œå½“è¿™ä¸ªå€¼è¶…è¿‡æœ€å°å€¼å’Œæœ€å¤§å€¼çš„èŒƒå›´æ—¶ï¼Œåœ¨æœ€å°å€¼å’Œæœ€å¤§å€¼ä¹‹é—´é€‰æ‹©ä¸€ä¸ªå€¼ä½¿ç”¨ã€‚å®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šæœ€å°å€¼ã€é¦–é€‰å€¼ã€æœ€å¤§å€¼ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">font-size</span>: <span class="selector-tag">clamp</span>(1<span class="selector-tag">rem</span>, 2<span class="selector-class">.5vw</span>, 2<span class="selector-tag">rem</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>å½“<code>2.5vw</code>å¤§äº<code>2rem</code>ï¼Œä½¿ç”¨2rem</li>
<li>å½“<code>2.5vw</code>å°äº<code>1rem</code>ï¼Œä½¿ç”¨1rem</li>
<li>å…¶ä»–ä½¿ç”¨<code>2.5vw</code>å•ä½</li>
</ul>
<h3 id="åŸç†-1"><a href="#åŸç†-1" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>äº†è§£åˆ°ä¸Šé¢cssä¸¤ä¸ªå‡½æ•°ï¼Œå¦‚æœé€šè¿‡åªç”¨pxå•ä½å»åšé€‚é…å‘¢ï¼ŸåŸç†æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>å‡è®¾æˆ‘ä»¬æ‹¿åˆ°çš„è®¾è®¡ç¨¿750pxå®½åº¦ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æœ‰ä¸ªé•¿æ–¹ä½“æ˜¯200*100</li>
<li>åˆ©ç”¨csså˜é‡ï¼Œè®¾ç½®ä¸€ä¸ªé¦–å…ˆå€¼ï¼Œç„¶åè®¡ç®—å‡ºå»å…¶ä»–å°ºå¯¸æ‰€éœ€çš„æœ€å¤§å€¼ã€æœ€å°å€¼ï¼Œè®¾ç½®clamp()</li>
<li>åŒæ—¶åˆ©ç”¨calc()å»è®¡ç®—åå·®å€¼</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>calc å’Œclamp å‡½æ•°åœ¨æµè§ˆå™¨æ”¯æŒåº¦è¿˜ä¸å¤Ÿ</li>
<li>éœ€è¦äº†è§£è¿™å¥—æ–¹æ¡ˆè¿˜éœ€è¦è¾ƒæ·±çš„æŠ€æœ¯æ–¹æ¡ˆ</li>
</ul>
<h1 id="1pxé«˜æ¸…æ˜¾ç¤ºé—®é¢˜"><a href="#1pxé«˜æ¸…æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="1pxé«˜æ¸…æ˜¾ç¤ºé—®é¢˜"></a>1pxé«˜æ¸…æ˜¾ç¤ºé—®é¢˜</h1><p>1åƒç´ é—®é¢˜ï¼š 1åƒç´ æŒ‡åœ¨ Retina å±æ˜¾ç¤º 1å•ä½ç‰©ç†åƒç´ </p>
<ul>
<li>DPR = 1ï¼Œæ­¤æ—¶ 1 ç‰©ç†åƒç´  ç­‰äº 1 CSS åƒç´ </li>
<li>DPR = 2ï¼Œæ­¤æ—¶ 1 ç‰©ç†åƒç´ ç­‰äº 0.5 CSS åƒç´ </li>
<li>border-width: 1pxï¼Œè¿™é‡Œçš„ 1px å…¶å®æ˜¯ 1 CSS åƒç´ å®½åº¦ï¼Œç­‰äº 2 ç‰©ç†åƒç´ ï¼Œè®¾è®¡å¸ˆå…¶å®æƒ³è¦çš„æ˜¯ border-width: 0.5px<br>DPR = 3ï¼Œæ­¤æ—¶ 1 ç‰©ç†åƒç´ ç­‰äº 0.33 CSS åƒç´ ã€‚è®¾è®¡å¸ˆæƒ³è¦çš„æ˜¯ border-width: 0.33px</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>æ¸å˜å®ç° ï¼š background-image: linear-gradient(to top, ,,,)</li>
<li>ä½¿ç”¨ç¼©æ”¾å®ç°ï¼štransform: scaleY(0.333)</li>
<li>ä½¿ç”¨å›¾ç‰‡å®ç°ï¼šbase64</li>
<li>ä½¿ç”¨ SVG å®ç°ï¼šåµŒå…¥ background url</li>
<li>border-imageï¼Œä½ç«¯æœºä¸‹æ”¯æŒåº¦ä¸å¥½</li>
</ul>
<p>ä»¥ä¸Šæ–¹æ¡ˆéƒ½æ˜¯åŸºäºåª’ä½“æŸ¥è¯¢è§£å†³çš„</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">media</span> only screen and (-webkit-min-device-pixel-ratio: <span class="number">2</span>),</span><br><span class="line">    only screen and (min-device-pixel-ratio: <span class="number">2</span>) &#123;&#125;</span><br><span class="line">@<span class="keyword">media</span> only screen and (-webkit-min-device-pixel-ratio: <span class="number">3</span>),</span><br><span class="line">    only screen and (min-device-pixel-ratio: <span class="number">3</span>) &#123;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="åª’ä½“æŸ¥è¯¢"><a href="#åª’ä½“æŸ¥è¯¢" class="headerlink" title="åª’ä½“æŸ¥è¯¢"></a>åª’ä½“æŸ¥è¯¢</h1><blockquote>
<p>åª’ä½“æŸ¥è¯¢ï¼ˆMedia queriesï¼‰éå¸¸å®ç”¨ï¼Œå°¤å…¶æ˜¯å½“ä½ æƒ³è¦æ ¹æ®è®¾å¤‡çš„å¤§è‡´ç±»å‹ï¼ˆå¦‚æ‰“å°è®¾å¤‡ä¸å¸¦å±å¹•çš„è®¾å¤‡ï¼‰æˆ–è€…ç‰¹å®šçš„ç‰¹å¾å’Œè®¾å¤‡å‚æ•°ï¼ˆä¾‹å¦‚å±å¹•åˆ†è¾¨ç‡å’Œæµè§ˆå™¨è§†çª—å®½åº¦ï¼‰æ¥ä¿®æ”¹ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºæ—¶ã€‚</p>
</blockquote>
<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>ä¸€èˆ¬æœ‰å‡ ç§ç”¨æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ul>
<li>é€šè¿‡ <code>@media</code> å’Œ <code>@import at-rules</code> ç”¨CSS è£…é¥°æ ·å¼</li>
<li>ç”¨ <code>media=</code> å±æ€§ä¸º<code>&lt;style&gt;, &lt;link&gt;, &lt;source&gt;</code>å’Œå…¶ä»–HTMLå…ƒç´ æŒ‡å®šç‰¹å®šçš„åª’ä½“ç±»å‹</li>
<li>ä½¿ç”¨<code>Window.matchMedia()</code>å’Œ <code>MediaQueryList.addListener()</code> æ–¹æ³•æ¥æµ‹è¯•å’Œç›‘æ§åª’ä½“çŠ¶æ€</li>
</ul>
<p>CSSè£…é¥°æ ·å¼ç”¨æ³•</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">media</span> screen, print &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>HTMLå…ƒç´ å¼•å…¥</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">src</span>=<span class="string">"styles.css"</span> <span class="attr">media</span>=<span class="string">"screen"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">src</span>=<span class="string">"styles.css"</span> <span class="attr">media</span>=<span class="string">"print"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>jsç”¨æ³•</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> mql = <span class="built_in">window</span>.matchMedia(<span class="string">'(max-width: 600px)'</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">".mq-value"</span>).innerText = mql.matches;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mql = <span class="built_in">window</span>.matchMedia(<span class="string">'(max-width: 600px)'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">screenTest</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (e.matches) &#123;</span><br><span class="line">    <span class="comment">/* the viewport is 600 pixels wide or less */</span></span><br><span class="line">    para.textContent = <span class="string">'This is a narrow screen â€” less than 600px wide.'</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.style.backgroundColor = <span class="string">'red'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">/* the viewport is more than than 600 pixels wide */</span></span><br><span class="line">    para.textContent = <span class="string">'This is a wide screen â€” more than 600px wide.'</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.style.backgroundColor = <span class="string">'blue'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mql.addListener(screenTest);</span><br></pre></td></tr></table></figure>

<h1 id="å›¾ç‰‡é«˜æ¸…é—®é¢˜"><a href="#å›¾ç‰‡é«˜æ¸…é—®é¢˜" class="headerlink" title="å›¾ç‰‡é«˜æ¸…é—®é¢˜"></a>å›¾ç‰‡é«˜æ¸…é—®é¢˜</h1><p>å›¾ç‰‡é«˜æ¸…é—®é¢˜ï¼Œä¸€èˆ¬æ˜¯æŒ‡çš„ï¼šä¸åŒ DPR ä¸‹å›¾ç‰‡çš„é«˜æ¸…è§£å†³æ–¹æ¡ˆã€‚</p>
<p>è¿™ç§é—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œé€šå¸¸æ˜¯åˆ©ç”¨åª’ä½“æŸ¥è¯¢+æä¾›ä¸åŒå°ºå¯¸çš„å›¾ç‰‡å»æ˜¾ç¤ºã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆï¼Œç»“åˆå¼€å‘ä¸­ï¼Œå¤§å®¶éƒ½æ˜¯ç›´æ¥å†™pxï¼Œç„¶ååˆ©ç”¨ç¼–è¯‘è¿‡ç¨‹çš„è¿›è¡Œè½¬æ¢ï¼Œæ¯”å¦‚: <code>px2rem</code> ï¼Œ<code>px2vw</code>ã€‚</p>
<p>å†å°±æ˜¯æ’ç‰ˆé—®é¢˜ï¼Œä¸åŒå±å¹•é—®é¢˜éœ€è¦åšè‡ªåŠ¨æ’ç‰ˆä¼˜åŒ–æ–¹æ¡ˆï¼Œè¿™ä¸ªéœ€è¦åé¢å»ç ”ç©¶ä¸€ä¸‹<a href="https://news.sangniao.com/p/1729687518" target="_blank" rel="noopener">ã€Šå¦‚ä½•æ­£ç¡®çš„ä½¿ç”¨ CSS Clamp è¿›è¡Œå“åº”å¼æ’ç‰ˆã€‹</a>ã€‚</p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»Z-Libraryåˆ°äº†è§£IPFSå»ä¸­å¿ƒåŒ–æŠ€æœ¯</title>
    <url>/today/20230116.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘æƒ³ä¸‹è½½ä¸€äº›å…è´¹çš„ç”µå­ä¹¦ï¼Œç„¶åæ‰¾åˆ°ä¸€ä¸ªæ¨èçš„ç½‘ç«™ï¼Œè¯´æ˜¯å»ä¸­å¿ƒåŒ–å›¾ä¹¦é¦†ï¼Œåˆ©ç”¨å»ä¸­å¿ƒåŒ–ï¼Œå¯ä»¥æ°¸ä¹…æœ‰æ•ˆçš„ï¼Œå°±æ˜¯<code>Z-Library</code>ï¼Œå› æ­¤è§‰å¾—æŒºæœ‰è¶£ï¼Œæ‰€ä»¥é€‚åˆç®€å•ç ”ç©¶ä¸€ä¸‹ã€‚</p>
<h1 id="Z-Library"><a href="#Z-Library" class="headerlink" title="Z-Library"></a>Z-Library</h1><blockquote>
<p>Z-Libraryï¼ˆç®€ç§°Z-Libï¼Œå‰èº«ä¸ºBookFinderï¼‰æ˜¯ä¸€ä¸ªå½±å­å›¾ä¹¦é¦†å’Œå¼€æ”¾è·å–æ–‡ä»¶åˆ†äº«è®¡åˆ’ï¼Œç”¨æˆ·å¯åœ¨æ­¤ä¸€ç½‘ç«™ä¸Šä¸‹è½½æœŸåˆŠæ–‡ç« ä»¥åŠå„ç§ç±»å‹çš„ä¹¦ç±ã€‚æ ¹æ®Z-Libraryçš„è¯´æ³•ï¼Œæˆªè‡³2022å¹´6æœˆ12æ—¥ï¼Œå…¶å…±æ”¶å½•äº†10,456,034æœ¬ä¹¦å’Œ84,837,646ç¯‡æ–‡ç« [1]ã€‚Z-Libraryåœ¨å…¶ç”µå­ä¹¦æœç´¢é¡µé¢ä¸Šå®£ç§°è‡ªå·±æ˜¯â€œå…¨çƒæœ€å¤§çš„æ•°å­—å›¾ä¹¦é¦†â€[2]ï¼Œå¹¶åœ¨æ–‡ç« æœç´¢é¡µé¢ä¸Šç§°è‡ªèº«æ˜¯â€œå…¨çƒæœ€å¤§çš„ç§‘å­¦æ–‡ç« å­˜å‚¨åº“â€[3]ã€‚å®ƒåŸæ˜¯åˆ›ä¸–çºªå›¾ä¹¦é¦†çš„é•œåƒç½‘ç«™ï¼Œå¹¶ä»è¯¥å›¾ä¹¦é¦†è·å¾—å¤§éƒ¨åˆ†é¦†è—ã€‚ä½†å®ƒçš„ä¸€äº›é¦†è—ç”±ç”¨æˆ·è‡ªè¡Œä¸Šè½½ï¼Œå¹¶ä¸”ä¸ä¸ºåˆ›ä¸–çºªå›¾ä¹¦é¦†æ‰€æ”¶è—[4]ã€‚è¯¥å¹³å°å…¬å¼€ç½‘åŸŸå·²äº2022å¹´11æœˆ3æ—¥é­åˆ°ç¾å›½æ”¿åºœå±è”½ã€‚</p>
</blockquote>
<p>ZLibraryè™½ç„¶æ˜¯ä¸€ä¸ªä¿„å›½ç½‘ç«™ï¼Œä½†å®ƒæ‹¥æœ‰16ç§è¯­è¨€ç‰ˆæœ¬å¯ä¾›é€‰æ‹©ï¼Œä¸‹æ»‘è‡³ç½‘é¡µæœ«å°¾ï¼Œå³å¯åˆ‡æ¢è¯­è¨€ã€‚</p>
<p>è®¿é—®åœ°å€ï¼š<a href="https://zlib.cydiar.com/" target="_blank" rel="noopener">https://zlib.cydiar.com/</a><br>è®¿é—®åœ°å€ï¼š<a href="https://bk.hallowlib.org/" target="_blank" rel="noopener">https://bk.hallowlib.org/</a> å›½å†…å¤‡ç”¨ç½‘å€</p>
<a id="more"></a>
<h2 id="æ€ä¹ˆä½¿ç”¨"><a href="#æ€ä¹ˆä½¿ç”¨" class="headerlink" title="æ€ä¹ˆä½¿ç”¨"></a>æ€ä¹ˆä½¿ç”¨</h2><p>é™¤äº†ä¸Šè¿°æä¾›çš„ç½‘å€åï¼Œå¯ä»¥åœ¨é‡Œé¢è®¿é—®ç›´æ¥è·³è½¬ä¸‹è½½ï¼Œä½†æ˜¯åŒæ—¶ä¹Ÿæä¾›äº†IPFSèŠ‚ç‚¹ä¸‹è½½åœ°å€ã€‚å…·ä½“å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/assets/img/20230116.png" alt></p>
<h2 id="IPFSä¸‹è½½"><a href="#IPFSä¸‹è½½" class="headerlink" title="IPFSä¸‹è½½"></a>IPFSä¸‹è½½</h2><p>éœ€è¦åœ¨æœ¬åœ°æ­å»ºIPFSèŠ‚ç‚¹ï¼Œæ‰å¯ä»¥æ­£å¸¸æ–‡ä»¶ï¼Œä½†æ˜¯å›½å†…ç»å¸¸ä¼šè®¿é—®ä¸äº†ï¼Œæ‰€ä»¥ä¸å»ºè®®æ­å»ºï¼Œå› æ­¤åªæ˜¯ç®€å•äº†è§£ä¸€ä¸‹èƒŒåæŠ€æœ¯å³å¯ã€‚</p>
<p>æ¥ä¸‹æ¥å…·ä½“è®²è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯IPFSã€‚</p>
<h1 id="IPFS"><a href="#IPFS" class="headerlink" title="IPFS"></a>IPFS</h1><blockquote>
<p>æ˜Ÿé™…æ–‡ä»¶ç³»ç»Ÿ(InterPlanetary File System). IPFS æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„web, ç‚¹åˆ°ç‚¹è¶…åª’ä½“åè®®. å¯ä»¥è®©æˆ‘ä»¬çš„äº’è”ç½‘é€Ÿåº¦æ›´å¿«, æ›´åŠ å®‰å…¨, å¹¶ä¸”æ›´åŠ å¼€æ”¾. IPFSåè®®çš„ç›®æ ‡æ˜¯å–ä»£ä¼ ç»Ÿçš„äº’è”ç½‘åè®®HTTPã€‚</p>
</blockquote>
<p>HTTPåè®®çš„ç¼ºé™·ï¼š</p>
<ul>
<li>ä½¿ç”¨HTTPåè®®æ¯æ¬¡éœ€è¦ä»ä¸­å¿ƒåŒ–çš„æœåŠ¡å™¨ä¸‹è½½å®Œæ•´çš„æ–‡ä»¶</li>
<li>Webæ–‡ä»¶ç»å¸¸è¢«åˆ é™¤</li>
<li>ç»å¸¸å—å„ç§é™åˆ¶ï¼Œå¯¼è‡´æ–‡ä»¶æ— æ³•æ­£å¸¸ä¸‹è½½</li>
</ul>
<p>IPFSæ˜¯ä¸€ä¸ªåè®®ï¼Œç±»ä¼¼httpåè®®ï¼Œä¸»è¦å®šä¹‰äº†ï¼š</p>
<ul>
<li>å®šä¹‰äº†åŸºäºå†…å®¹çš„å¯»å€æ–‡ä»¶ç³»ç»Ÿ</li>
<li>å†…å®¹åˆ†å‘</li>
<li>ä½¿ç”¨çš„æŠ€æœ¯åˆ†å¸ƒå¼å“ˆå¸Œã€p2pä¼ è¾“ã€ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ</li>
<li>å¯ä»¥åƒhttpé‚£æ ·æŸ¥çœ‹äº’è”ç½‘é¡µé¢</li>
<li>IPFSæ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œæœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼Œå¯æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ</li>
<li>æœªæ¥æµè§ˆå™¨å¯ä»¥ç›´æ¥æ”¯æŒ ipfs:/ æˆ–è€… fs:/ åè®®</li>
</ul>
<p>åº•å±‚æ¶æ„ä»‹ç»ï¼š</p>
<ul>
<li>IPFSæ˜¯æ¨¡å—åŒ–çš„åè®®ï¼Œ åˆ†ä¸ºè¿æ¥å±‚ã€è·¯ç”±å±‚ã€æ•°æ®å—äº¤æ¢</li>
<li>è¿æ¥å±‚ï¼šé€šè¿‡å…¶ä»–ä»»ä½•ç½‘ç»œåè®®è¿æ¥</li>
<li>è·¯ç”±å±‚ï¼šå¯»æ‰¾å®šä½æ–‡ä»¶æ‰€åœ¨ä½ç½®</li>
<li>æ•°æ®å—äº¤æ¢ï¼šé‡‡ç”¨BitTorrentæŠ€æœ¯</li>
<li>p2pç³»ç»Ÿï¼šä¸–ç•ŒèŒƒå›´å†…çš„p2pæ–‡ä»¶ä¼ è¾“ç½‘ç»œ</li>
<li>æ˜¯ä¸€ä¸ªCDNï¼Œæ–‡ä»¶æ·»åŠ åˆ°IPFSç½‘ç»œï¼Œå°†ä¼šåœ¨å…¨ä¸–ç•Œè¿›è¡ŒCDNåŠ é€Ÿ</li>
<li>IPNSï¼šåŸºäºSFSï¼ˆè‡ªè®¤è¯ç³»ç»Ÿï¼‰å‘½åä½“ç³»ï¼Œå¯ä»¥å’Œç°æœ‰åŸŸåç³»ç»Ÿç»‘å®š</li>
</ul>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>IPFSä¸»è¦æ˜¯ä½¿ç”¨goè¯­è¨€å®ç°çš„ï¼Œç›®å‰ä¸»æµçš„IPFSå®ç°æœ‰å‡ ä¸ªæ¡†æ¶ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li><a href="https://github.com/ipfs/kubo" target="_blank" rel="noopener">go-ipfs</a></li>
<li><a href="https://github.com/ipfs/js-ipfs" target="_blank" rel="noopener">js-ipfs</a></li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Z-Libraryæ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„å›¾ä¹¦é¦†ï¼Œå¤§å®¶éƒ½æœ‰å„è‡ªçš„èŠ‚ç‚¹ç»´æŠ¤è‡ªå·±çš„ä¸ªäººå›¾ä¹¦ï¼Œä¹Ÿå¯ä»¥ä»å…¶ä»–èŠ‚ç‚¹å»ä¸‹è½½ï¼Œé™ä½ç°æœ‰webæ–‡ä»¶å­˜å‚¨çš„ç¼ºé™·ã€‚</p>
<p>è€ŒIPFSçš„å‡ºç°åˆšå¥½å¯ä»¥æ»¡è¶³è¿™ä¸ªç†æƒ³ç›®æ ‡ï¼ŒIPFSæ˜¯ä¸€ä¸ªåè®®ï¼ŒåŒæ—¶å·²ç»æœ‰ç°æœ‰æ¡†æ¶go-ipfså»å¿«é€Ÿæ­å»ºä¸ªäººçš„IPFSèŠ‚ç‚¹ï¼Œæ‰€ä»¥èƒ½å¤Ÿå¾ˆå¿«ä½“éªŒä¸€ä¸‹å»ä¸­å¿ƒåŒ–ä½“éªŒï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™ç”±äºç½‘ç»œé—®é¢˜ï¼Œå¹¶ä¸èƒ½å¾ˆå¿«å®Œæˆä¹¦ç±çš„ä¸‹è½½ã€‚</p>
<p>è™½ç„¶IPFSåŒæ—¶å®ç°HTTPåè®®ï¼Œä½†æ˜¯è®¿é—®å…¶ä»–èŠ‚ç‚¹çš„æ—¶å€™æ˜¯æœ‰ç½‘ç»œè®¿é—®é€Ÿåº¦é—®é¢˜ï¼Œå› æ­¤ä½“éªŒä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œä½†æ˜¯æ–°çš„æŠ€æœ¯æ¦‚å¿µè¿˜æ˜¯éœ€è¦æ—¶é—´å»æ²‰æ·€å’Œå­¦ä¹ ï¼Œç•™æ­¤æ–‡ç« åšä¸ªmarkï¼Œç»§ç»­ä¿ç•™å­¦ä¹ çš„æ€åº¦ã€‚</p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://github.com/ipfs/ipfs-desktop/releases" target="_blank" rel="noopener">IPFSä¸‹è½½æ¡Œé¢ç«¯</a><br><a href="https://cloud.tencent.com/developer/article/1815072" target="_blank" rel="noopener">IPFSæ­å»ºHTTPSå»ä¸­å¿ƒåŒ–ç½‘ç«™ï¼ŒçœŸå®å¯ç”¨</a></p>
]]></content>
      <tags>
        <tag>æ¯æ—¥æ›´æ–°</tag>
        <tag>æŠ€æœ¯æ¢é²œ</tag>
      </tags>
  </entry>
  <entry>
    <title>ç†è§£Reactä¸­Fiberæ¶æ„(ä¸€)</title>
    <url>/today/20230117.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>è‡ªä»React16ç‰ˆæœ¬æ›´æ–°äº†Hookç”¨æ³•ï¼ŒåŒæ—¶å¼•å…¥äº†æ–°çš„Fiberæ¶æ„å»é‡æ„æ•´ä¸ªæ¸²æŸ“å’Œäº‹ä»¶å¤„ç†è¿‡ç¨‹ï¼ŒReactå›¢é˜Ÿå¼•å…¥Hookæ˜¯ä¸ºäº†æ›´å¥½å‰¥ç¦»ä¸šåŠ¡ä»£ç ï¼Œè®©å¼€å‘èƒ½æ›´åŠ å‹å¥½çš„æŠ½è±¡ä»£ç ï¼Œè¾¾åˆ°ä½è€¦åˆçš„å‡½æ•°ç»„ä»¶ç›®çš„ï¼Œé‚£ä¹ˆé‡æ„Diffç®—æ³•ï¼Œå¼•å…¥Fiberæ¶æ„æ˜¯ä¸ºäº†ä»€ä¹ˆå‘¢ï¼Ÿ å…¶å®åªæ˜¯ä¸ºäº†èƒ½å¤Ÿä¸€ä¸ªç›®æ ‡<code>å¿«é€Ÿå“åº”</code>ï¼ŒåŸå…ˆDiffç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º<span>$$ O(n^3)$$</span> ï¼Œæœ€åç»è¿‡Fiberé‡æ„è¾¾åˆ°äº†$$ O(n) $$ï¼Œè¿™é‡Œé¢å…·ä½“æœ‰ä»€ä¹ˆé—¨é“ï¼Œå€¼å¾—æˆ‘ä»¬å»æ·±å…¥ç ”ç©¶ä¸€ä¸‹ã€‚</p>
<a id="more"></a>

<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>åœ¨äº†è§£Fiberæ¶æ„ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹åŸæœ‰React16ä¹‹å‰ç‰ˆæœ¬æ˜¯æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ‰éœ€è¦å¼•å…¥Fiberæ¶æ„å»è§£å†³è¯¥é—®é¢˜ï¼Ÿ</p>
<p>React15åŠä»¥å‰çš„ç‰ˆæœ¬é‡‡ç”¨çš„æ˜¯Stack Reconcilerï¼ˆæ ˆåè°ƒå™¨ï¼‰æ¶æ„ï¼Œä½¿ç”¨åŒæ­¥é€’å½’æ–¹å¼å»åˆ›å»ºè™šæ‹ŸDOMï¼Œä¸€æ—¦è¿›å…¥åˆ›å»ºè¿‡ç¨‹ï¼Œå°±æ— æ³•ä¸­æ–­ï¼Œå¦‚æœåˆ›å»ºè¿‡ç¨‹è¶…è¿‡16msï¼Œç”¨æˆ·å°±ä¼šå‡ºç°é¡µé¢å¡é¡¿æ„Ÿè§‰ã€‚å…·ä½“å¯ä»¥å‚è€ƒä¸‹å›¾ï¼š</p>
<p><img src="/assets/img/20230117-1.png" alt></p>
<p>å› æ­¤ï¼Œä»ç½‘ä¸Šæœç´¢äº†ä¸€ä¸‹React15åŠä»¥å‰çš„ç‰ˆæœ¬åé¦ˆï¼Œçš„ä¸»è¦é—®é¢˜æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li>Reactçš„åŠ¨ç”»æ•ˆæœè¡¨ç°ä¸ä½³</li>
<li>Reactåœ¨æœ‰å¤§é‡DOMèŠ‚ç‚¹æ¸²æŸ“å¡é¡¿</li>
</ul>
<h2 id="ä¸ºä»€ä¹ˆ"><a href="#ä¸ºä»€ä¹ˆ" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h2><p>ä¸ºä»€ä¹ˆä¼šå‡ºç°å¡é¡¿çš„æƒ…å†µï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li>JavaScriptæ˜¯å•çº¿ç¨‹ï¼Œä¸æ¸²æŸ“çº¿ç¨‹äº’æ–¥ï¼Œå½“å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åªèƒ½æŒ‚èµ·ç­‰å¾…ã€‚</li>
<li>Stack Reconciler æ ˆåè°ƒå™¨æŸä¸ªä»»åŠ¡æ˜¯é•¿æœŸå ç”¨JavaScriptä¸»çº¿ç¨‹</li>
</ol>
<h1 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h1><p>ä¸ºäº†æ›´å¥½äº†è§£Fiberæ¶æ„è®¾è®¡ï¼Œéœ€è¦æå‰äº†è§£ä¸€äº›å‰ç½®çŸ¥è¯†ï¼Œæ¯ä¸ªçŸ¥è¯†ç‚¹å…¶å®éƒ½éœ€è¦æ·±å…¥äº†è§£ï¼Œè¿™é‡Œåªæ˜¯ç®€å•æè¿°ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>å•çº¿ç¨‹çš„ JavaScript ä¸å¤šçº¿ç¨‹çš„æµè§ˆå™¨</li>
<li>Reactç”Ÿå‘½å‘¨æœŸ</li>
<li>Reactè™šæ‹ŸDOM<h2 id="å•çº¿ç¨‹çš„-JavaScript-ä¸å¤šçº¿ç¨‹çš„æµè§ˆå™¨"><a href="#å•çº¿ç¨‹çš„-JavaScript-ä¸å¤šçº¿ç¨‹çš„æµè§ˆå™¨" class="headerlink" title="å•çº¿ç¨‹çš„ JavaScript ä¸å¤šçº¿ç¨‹çš„æµè§ˆå™¨"></a>å•çº¿ç¨‹çš„ JavaScript ä¸å¤šçº¿ç¨‹çš„æµè§ˆå™¨</h2></li>
</ul>
<p>åœ¨æˆ‘ä»¬å­¦ä¹ å‰ç«¯çŸ¥è¯†çš„æ—¶å€™ï¼Œæœ‰ä¸ªç»“è®ºæ˜¯ï¼š <code>å•çº¿ç¨‹çš„ JavaScript ä¸å¤šçº¿ç¨‹çš„æµè§ˆå™¨</code>ã€‚</p>
<p>ä¸€ä¸ªå®Œæ•´çš„webç½‘é¡µåœ¨æµè§ˆå™¨æ˜¾ç¤ºå’Œäº¤äº’çš„è¿›ç¨‹ï¼ˆchromeä¸ºä¸»ï¼‰ï¼Œéœ€è¦æ¶‰åŠåˆ°çº¿ç¨‹ä¸»è¦ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li><code>GUI æ¸²æŸ“çº¿ç¨‹</code>ï¼Œè´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢HTMLå…ƒç´ ,å½“ç•Œé¢éœ€è¦é‡ç»˜(Repaint)æˆ–ç”±äºæŸç§æ“ä½œå¼•å‘å›æµ(reflow)æ—¶,è¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œã€‚</li>
<li><code>JavaScriptå¼•æ“çº¿ç¨‹</code>ï¼ŒJSå†…æ ¸ï¼Œè´Ÿè´£å¤„ç†Javascriptè„šæœ¬ç¨‹åºã€‚ ä¸€ç›´ç­‰å¾…ç€ä»»åŠ¡é˜Ÿåˆ—ä¸­ä»»åŠ¡çš„åˆ°æ¥ï¼Œç„¶åè§£æJavascriptè„šæœ¬ï¼Œè¿è¡Œä»£ç ã€‚</li>
<li><code>å®šæ—¶è§¦å‘å™¨çº¿ç¨‹</code>ï¼Œå®šæ—¶å™¨setIntervalä¸setTimeoutæ‰€åœ¨çº¿ç¨‹ï¼Œä¸ºä»€ä¹ˆè¦å•ç‹¬å¼„ä¸ªçº¿ç¨‹å¤„ç†å®šæ—¶å™¨ï¼Ÿæ˜¯å› ä¸ºJavaScriptå¼•æ“æ˜¯å•çº¿ç¨‹çš„, å¦‚æœå¤„äºé˜»å¡çº¿ç¨‹çŠ¶æ€å°±ä¼šå½±å“è®°è®¡æ—¶çš„å‡†ç¡®</li>
<li><code>äº‹ä»¶è§¦å‘çº¿ç¨‹</code>ï¼Œç”¨æ¥æ§åˆ¶äº‹ä»¶è½®è¯¢ï¼ŒJSå¼•æ“è‡ªå·±å¿™ä¸è¿‡æ¥ï¼Œéœ€è¦æµè§ˆå™¨å¦å¼€çº¿ç¨‹ååŠ©</li>
<li><code>å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹</code>ï¼Œåœ¨<code>XMLHttpRequest</code>æˆ–<code>fetch</code>åœ¨è¿æ¥åæ˜¯é€šè¿‡æµè§ˆå™¨æ–°å¼€ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚ï¼Œ å°†æ£€æµ‹åˆ°çŠ¶æ€å˜æ›´æ—¶ï¼Œå¦‚æœè®¾ç½®æœ‰å›è°ƒå‡½æ•°ï¼Œå¼‚æ­¥çº¿ç¨‹å°±äº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶æ”¾åˆ° JavaScriptå¼•æ“çš„å¤„ç†é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ã€‚è¿™é‡Œéœ€è¦æ³¨æ„<code>XMLHttpRequest</code>å’Œ<code>fetch</code>çš„åŒºåˆ«ï¼Œ<code>fetch</code>æ˜¯w3cæ ‡å‡†åŒ–åä¸€ä¸ªä¸“é—¨æä¾›ç»™å¼€å‘è°ƒç”¨å‘èµ·httpçš„APIæ¥å£ï¼ŒXMLHttpRequestæ˜¯ä¸€ä¸ªéæ ‡å‡†åŒ–çš„Httpè¯·æ±‚å¯¹è±¡ï¼Œä¸»è¦æ˜¯å¯ä»¥å‘èµ·httpè¯·æ±‚è·å–XMLæ•°æ®ã€‚</li>
</ul>
<p>ä¸Šè¿°å°±æ˜¯æµè§ˆå™¨çš„å¤šçº¿ç¨‹ï¼Œç„¶åå•çº¿ç¨‹çš„JavaScripté€šå¸¸æŒ‡çš„æ˜¯<code>JavaScriptå¼•æ“çº¿ç¨‹</code>ï¼Œä¸ºä»€ä¹ˆéœ€è¦å•çº¿ç¨‹ï¼Ÿå› ä¸ºå¤šçº¿ç¨‹å¯èƒ½ä¼šå‡ºç°å„ç§UIäº¤äº’å†²çªé—®é¢˜ã€‚å› æ­¤äº†è§£å•çº¿ç¨‹JSéœ€è¦æ³¨æ„å‡ ç‚¹ï¼š</p>
<ul>
<li>GUIçº¿ç¨‹å’ŒJSå¼•æ“æ˜¯äº’æ–¥çš„ï¼Œå½“JSå¼•æ“æ‰§è¡Œæ—¶GUIçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼ŒGUIæ›´æ–°åˆ™ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ç­‰åˆ°JSå¼•æ“çº¿ç¨‹ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚</li>
<li>JS å¼•æ“åªæ˜¯ä»»æ„çš„ JS ä»£ç æŒ‰éœ€æ‰§è¡Œçš„ç¯å¢ƒï¼Œæ˜¯å…¶ä»–çº¿ç¨‹è°ƒç”¨è§¦å‘JSå¼•æ“æ‰§è¡ŒJSä»£ç ï¼Œæ¯”å¦‚ï¼šä¸€ä¸ªæŒ‰é’®ç‚¹å‡»è§¦å‘äº‹ä»¶ï¼Œæ¥ç€è°ƒç”¨jså¼•æ“æ‰§è¡Œç­‰</li>
</ul>
<p>JS å¼•æ“å·¥ä½œæµç¨‹å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/assets/img/20230117-3.png" alt></p>
<h2 id="React-ç”Ÿå‘½å‘¨æœŸ"><a href="#React-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="React ç”Ÿå‘½å‘¨æœŸ"></a>React ç”Ÿå‘½å‘¨æœŸ</h2><p>ä¸ºäº†æ›´å¥½äº†è§£React Fiberæ¶æ„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯”React15å’ŒReact16çš„ç”Ÿå‘½å‘¨æœŸï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<h3 id="React15çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#React15çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="React15çš„ç”Ÿå‘½å‘¨æœŸ"></a>React15çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>åœ¨15ç‰ˆæœ¬çš„æ—¶å€™ï¼Œä¸€ä¸ªå®Œæ•´çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼ˆæŒ‰ç…§æ‰§è¡Œé¡ºåºï¼‰ï¼š</p>
<ul>
<li>constructor()ï¼Œç»„ä»¶çš„æ„é€ å‡½æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–state</li>
<li>componentWillMount()ï¼Œåˆå§‹åŒ–æ¸²æŸ“å‰æ—¶è°ƒç”¨</li>
<li>componentDidMount()ï¼Œåˆå§‹åŒ–æ¸²æŸ“åè°ƒç”¨</li>
<li>componentWillReceiveProps()ï¼Œçˆ¶ç»„ä»¶ä¿®æ”¹ç»„ä»¶çš„propsæ—¶ä¼šè°ƒç”¨</li>
<li>render()ï¼Œæ¯æ¬¡æ¸²æŸ“æ—¶å€™ä¼šè°ƒç”¨</li>
<li>componentWillUpdate()ï¼Œç»„ä»¶æ›´æ–°å‰è°ƒç”¨</li>
<li>shouldComponentUpdate()ï¼Œç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨ï¼Œä¸»è¦åˆ¤æ–­ç»„ä»¶è¦ä¸è¦æ›´æ–°</li>
<li>componentDidUpdate()ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨</li>
<li>componentWillUnmount()ï¼Œç»„ä»¶å¸è½½æ—¶è°ƒç”¨</li>
</ul>
<p><img src="/assets/img/20230117-4.png" alt></p>
<p>æŒ‰ç…§ä¸åŒæ—¶æœŸï¼Œæ‰§è¡Œè¿‡ç¨‹æ˜¯ä¸ä¸€æ ·ï¼Œå…·ä½“å¯ä»¥è§Reactçš„ç”Ÿå‘½å‘¨æœŸæ›´æ”¹ç›¸å…³æ–‡ç« ã€‚</p>
<h3 id="React16ç”Ÿå‘½å‘¨æœŸ"><a href="#React16ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="React16ç”Ÿå‘½å‘¨æœŸ"></a>React16ç”Ÿå‘½å‘¨æœŸ</h3><p>ç›¸æ¯”è¾ƒReact15ï¼Œ16ç‰ˆæœ¬åŸºäºFiberæ¶æ„ä¸»è¦å¯¹æ›´æ–°å‘¨æœŸçš„å‡½æ•°åšäº†è°ƒæ•´ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹ï¼š</p>
<ul>
<li>constructor()ï¼Œç»„ä»¶çš„æ„é€ å‡½æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–state</li>
<li>getDerivedStateFromProps()ï¼Œåˆå§‹åŒ–/æ›´æ–°æ—¶è°ƒç”¨ï¼Œä½¿ç”¨ props æ¥æ´¾ç”Ÿ/æ›´æ–° stateã€‚</li>
<li>componentDidMount()ï¼Œåˆå§‹åŒ–æ¸²æŸ“åè°ƒç”¨</li>
<li>shouldComponentUpdate()ï¼Œ</li>
<li>render()ï¼Œæ¯æ¬¡æ¸²æŸ“æ—¶å€™ä¼šè°ƒç”¨</li>
<li>shouldComponentUpdate()ï¼Œç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨ï¼Œä¸»è¦åˆ¤æ–­ç»„ä»¶è¦ä¸è¦æ›´æ–°</li>
<li>getSnapshotBeforeUpdate()ï¼Œè¿”å›å€¼ä¼šä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ç»™åˆ° componentDidUpdateã€‚å®ƒçš„æ‰§è¡Œæ—¶æœºæ˜¯åœ¨ render æ–¹æ³•ä¹‹åï¼ŒçœŸå® DOM æ›´æ–°ä¹‹å‰ã€‚å¯ä»¥åŒæ—¶è·å–åˆ°æ›´æ–°å‰çš„çœŸå® DOM å’Œæ›´æ–°å‰åçš„ state&amp;props ä¿¡æ¯ã€‚</li>
<li>componentDidUpdate()ï¼Œç»„ä»¶æ›´æ–°åè°ƒç”¨ï¼Œä» getSnapshotBeforeUpdate è·å–åˆ°çš„å€¼</li>
<li>componentWillUnmount()ï¼Œç»„ä»¶å¸è½½æ—¶è°ƒç”¨</li>
</ul>
<p>å¯¹æ¯”ä¸€ä¸‹ï¼ŒReact 16 åºŸå¼ƒçš„æ˜¯å“ªäº›ç”Ÿå‘½å‘¨æœŸï¼š</p>
<ul>
<li>componentWillMountï¼›</li>
<li>componentWillUpdateï¼›</li>
<li>componentWillReceiveProps</li>
</ul>
<p>è¿™äº›ç”Ÿå‘½å‘¨æœŸçš„å…±æ€§ï¼Œå°±æ˜¯å®ƒä»¬éƒ½å¤„äº render é˜¶æ®µï¼Œéƒ½å¯èƒ½é‡å¤è¢«æ‰§è¡Œï¼Œè€Œä¸”ç”±äºè¿™äº› API å¸¸å¹´è¢«æ»¥ç”¨ï¼Œå®ƒä»¬åœ¨é‡å¤æ‰§è¡Œçš„è¿‡ç¨‹ä¸­éƒ½å­˜åœ¨ç€ä¸å¯å°è§‘çš„é£é™©ã€‚</p>
<p>ä¸ºä»€ä¹ˆåºŸå¼ƒè¿™äº›ç”Ÿå‘½å‘¨æœŸï¼Œå› ä¸ºå¼•ç”¨äº†Fiberæ¶æ„ï¼Œrender é˜¶æ®µæ˜¯å…è®¸æš‚åœã€ç»ˆæ­¢å’Œé‡å¯çš„ã€‚è¿™å°±å¯¼è‡´ render é˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯æœ‰å¯èƒ½è¢«é‡å¤æ‰§è¡Œçš„ã€‚</p>
<p>React16ç”Ÿå‘½å‘¨æœŸå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="/assets/img/20230117-5.png" alt></p>
<h2 id="React-è™šæ‹ŸDOM"><a href="#React-è™šæ‹ŸDOM" class="headerlink" title="React è™šæ‹ŸDOM"></a>React è™šæ‹ŸDOM</h2><blockquote>
<p>è™šæ‹Ÿ DOMï¼ˆVirtual DOMï¼‰æœ¬è´¨ä¸Šæ˜¯JS å’Œ DOM ä¹‹é—´çš„ä¸€ä¸ªæ˜ å°„ç¼“å­˜ï¼Œå®ƒåœ¨å½¢æ€ä¸Šè¡¨ç°ä¸ºä¸€ä¸ªèƒ½å¤Ÿæè¿° DOM ç»“æ„åŠå…¶å±æ€§ä¿¡æ¯çš„ JS å¯¹è±¡ã€‚</p>
</blockquote>
<p>è®°ä½ä¸¤ä¸ªç‚¹ï¼š</p>
<ul>
<li>è™šæ‹Ÿ DOM æ˜¯ JS å¯¹è±¡</li>
<li>è™šæ‹Ÿ DOM æ˜¯å¯¹çœŸå® DOM çš„æè¿°</li>
</ul>
<p>è™šæ‹ŸDOMå‡ºç°reactç”Ÿå‘½å‘¨æœŸçš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼š</p>
<ol>
<li>æŒ‚è½½é˜¶æ®µï¼ŒReact å°†ç»“åˆ JSX çš„æè¿°ï¼Œæ„å»ºå‡ºè™šæ‹Ÿ DOM æ ‘ï¼Œç„¶åé€šè¿‡ ReactDOM.render å®ç°è™šæ‹Ÿ DOM åˆ°çœŸå® DOM çš„æ˜ å°„</li>
<li>æ›´æ–°é˜¶æ®µï¼Œé¡µé¢çš„å˜åŒ–åœ¨ä½œç”¨äºçœŸå® DOM ä¹‹å‰ï¼Œä¼šå…ˆä½œç”¨äºè™šæ‹Ÿ DOMï¼Œè™šæ‹Ÿ DOM å°†åœ¨ JS å±‚å€ŸåŠ©ç®—æ³•å…ˆå¯¹æ¯”å‡ºå…·ä½“æœ‰å“ªäº›çœŸå® DOM éœ€è¦è¢«æ”¹å˜ï¼Œç„¶åå†å°†è¿™äº›æ”¹å˜ä½œç”¨äºçœŸå® DOMï¼Œè¿™é‡Œå°±éœ€è¦DOM Diffç®—æ³•ã€‚</li>
</ol>
<p>ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹ŸDOMï¼Ÿå¹¶ä¸æ˜¯å› ä¸ºè™šæ‹ŸDOMæœ‰æ›´é«˜çš„æ€§èƒ½ï¼Œè€Œæ˜¯å› ä¸ºè™šæ‹Ÿ DOM çš„ä¼˜è¶Šä¹‹å¤„åœ¨äºï¼Œå®ƒèƒ½å¤Ÿåœ¨æä¾›æ›´çˆ½ã€æ›´é«˜æ•ˆçš„ç ”å‘æ¨¡å¼ï¼ˆä¹Ÿå°±æ˜¯å‡½æ•°å¼çš„ UI ç¼–ç¨‹æ–¹å¼ï¼‰çš„åŒæ—¶ï¼Œä»ç„¶ä¿æŒä¸€ä¸ªè¿˜ä¸é”™çš„æ€§èƒ½ã€‚è§£å†³äº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>ç ”å‘ä½“éªŒ/ç ”å‘æ•ˆç‡çš„é—®é¢˜ï¼Œè§£å†³ä»¥å¾€æ¨¡æ¿å’Œæ•°æ®ï¼Œéœ€è¦é‡å¤è°ƒæ•´çš„é—®é¢˜</li>
<li>è·¨å¹³å°çš„é—®é¢˜ï¼Œä»webã€å°ç¨‹åºã€appç­‰ï¼Œä¸€å¥—è™šæ‹ŸDOMï¼Œç»“åˆä¸åŒæ¸²æŸ“é€»è¾‘ï¼Œæ»¡è¶³å„ç±»è·¨ç«¯åœºæ™¯</li>
</ol>
<p>è€Œåœ¨è™šæ‹ŸDOMè¿™ä¸€å—ï¼ŒFiberæ¶æ„çš„å¼•å…¥ï¼Œæœ€å¤§çš„è°ƒæ•´å°±æ˜¯è™šæ‹ŸDOMæ›´æ–°ä¸­çš„diffç®—æ³•ï¼Œç”±äºåˆ†ç‰‡æ¸²æŸ“ï¼Œä¸éœ€è¦ä¸€æ¬¡å°†diffæ‰§è¡Œï¼Œå¯ä»¥åˆ†æ‰¹è®¡ç®—ä»è€Œå‡å°‘diffç®—æ³•çš„å¤æ‚åº¦ã€‚</p>
<h2 id="Stack-Reconciler-æ ˆåè°ƒå™¨"><a href="#Stack-Reconciler-æ ˆåè°ƒå™¨" class="headerlink" title="Stack Reconciler(æ ˆåè°ƒå™¨)"></a>Stack Reconciler(æ ˆåè°ƒå™¨)</h2><p>åœ¨äº†è§£Fiberæ¶æ„ä¹‹å‰ï¼Œéœ€è¦å¯¹React15çš„Stack Reconciler(æ ˆåè°ƒå™¨)åšä¸€æ¬¡å®Œæ•´äº†è§£ã€‚å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆReconcileråè°ƒå™¨ï¼Œåœ¨Reactä¸­æ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š</p>
<blockquote>
<p>Virtual DOM æ˜¯ä¸€ç§ç¼–ç¨‹æ¦‚å¿µã€‚åœ¨è¿™ä¸ªæ¦‚å¿µé‡Œï¼ŒUI ä»¥ä¸€ç§ç†æƒ³åŒ–çš„ï¼Œæˆ–è€…è¯´â€œè™šæ‹Ÿçš„â€è¡¨ç°å½¢å¼è¢«ä¿å­˜äºå†…å­˜ä¸­ï¼Œå¹¶é€šè¿‡å¦‚ ReactDOM ç­‰ç±»åº“ä½¿ä¹‹ä¸â€œçœŸå®çš„â€ DOM åŒæ­¥ã€‚è¿™ä¸€è¿‡ç¨‹å«ä½œReconciler åè°ƒï¼ˆè°ƒå’Œï¼‰ã€‚</p>
</blockquote>
<p>æ‰€ä»¥å®ç°Reconcilerï¼Œå…¶å®å°±æ˜¯å®ç°è™šæ‹ŸDOMåˆ°çœŸå®DOMæ¸²æŸ“çš„æ•´ä¸ªé€»è¾‘è¿‡ç¨‹ï¼Œå› æ­¤è°ƒå’Œ !== Diffï¼Œä½†æ˜¯Diff ç¡®å®æ˜¯è°ƒå’Œè¿‡ç¨‹ä¸­æœ€å…·ä»£è¡¨æ€§çš„ä¸€ç¯ã€‚</p>
<p>é‚£ä¹ˆè¦äº†è§£React15æ˜¯å¦‚ä½•å®ç°Stack Reconcilerï¼Œæœ€é‡è¦çš„ä¸¤å—ï¼š</p>
<ul>
<li>Diffç®—æ³•ç­–ç•¥</li>
<li>æ‰¾åˆ°diffèŠ‚ç‚¹å¹¶<code>åŒæ­¥</code>æ›´æ–°æ¸²æŸ“</li>
</ul>
<p>Diffç®—æ³•ç­–ç•¥è¦ç‚¹ï¼š(ä¸»è¦æ˜¯æ ‘é€’å½’)</p>
<ol>
<li>Diff ç®—æ³•æ€§èƒ½çªç ´çš„å…³é”®ç‚¹åœ¨äºâ€œåˆ†å±‚å¯¹æ¯”â€ï¼›</li>
<li>ç±»å‹ä¸€è‡´çš„èŠ‚ç‚¹æ‰æœ‰ç»§ç»­ Diff çš„å¿…è¦æ€§ï¼›</li>
<li>key å±æ€§çš„è®¾ç½®ï¼Œå¯ä»¥å¸®æˆ‘ä»¬å°½å¯èƒ½é‡ç”¨åŒä¸€å±‚çº§å†…çš„èŠ‚ç‚¹ã€‚</li>
</ol>
<h1 id="Fiberæ¶æ„"><a href="#Fiberæ¶æ„" class="headerlink" title="Fiberæ¶æ„"></a>Fiberæ¶æ„</h1><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ React  å›¢é˜Ÿåœ¨â€œReact å“²å­¦â€ä¸­å¯¹ React çš„å®šä½ï¼š</p>
<blockquote>
<p>æˆ‘ä»¬è®¤ä¸ºï¼ŒReact æ˜¯ç”¨ JavaScript æ„å»ºå¿«é€Ÿå“åº”çš„å¤§å‹ Web åº”ç”¨ç¨‹åºçš„é¦–é€‰æ–¹å¼ã€‚å®ƒåœ¨ Facebook å’Œ Instagram ä¸Šè¡¨ç°ä¼˜ç§€ã€‚</p>
</blockquote>
<p><code>å¿«é€Ÿå“åº”</code>æ˜¯Reactå“²å­¦ç†å¿µï¼Œå› æ­¤Fiberæ¶æ„çš„å‡ºç°æ˜¯ä¸ºäº†è®©Reactæ¡†æ¶èƒ½æ›´åŠ å¿«é€Ÿå“åº”ç”¨æˆ·çš„æ“ä½œã€‚</p>
<h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p>ä»€ä¹ˆæ˜¯ Fiberï¼Ÿä»å­—é¢ä¸Šæ¥ç†è§£ï¼ŒFiber è¿™ä¸ªå•è¯ç¿»è¯‘è¿‡æ¥æ˜¯â€œä¸ã€çº¤ç»´â€çš„æ„æ€ï¼Œæ˜¯æ¯”çº¿è¿˜è¦ç»†çš„ä¸œè¥¿ã€‚åœ¨è®¡ç®—æœºç§‘å­¦é‡Œï¼Œæˆ‘ä»¬æœ‰è¿›ç¨‹ã€çº¿ç¨‹ä¹‹åˆ†ï¼Œè€Œ Fiber å°±æ˜¯æ¯”çº¿ç¨‹è¿˜è¦çº¤ç»†çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œçº¤ç¨‹â€ã€‚çº¤ç¨‹çš„å‡ºç°ï¼Œæ„åœ¨å¯¹æ¸²æŸ“è¿‡ç¨‹å®ç°æ›´åŠ ç²¾ç»†çš„æ§åˆ¶ã€‚</p>
<p>Fiberçš„æ¦‚å¿µç†è§£ï¼š</p>
<ul>
<li>ä»æ¶æ„è§’åº¦æ¥çœ‹ï¼ŒFiber æ˜¯å¯¹ React æ ¸å¿ƒç®—æ³•ï¼ˆå³è°ƒå’Œè¿‡ç¨‹ï¼‰çš„é‡å†™</li>
<li>ä»ç¼–ç è§’åº¦æ¥çœ‹ï¼ŒFiber æ˜¯ React å†…éƒ¨æ‰€å®šä¹‰çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯ Fiber æ ‘ç»“æ„çš„èŠ‚ç‚¹å•ä½ï¼Œä¹Ÿå°±æ˜¯ React 16 æ–°æ¶æ„ä¸‹çš„â€œè™šæ‹Ÿ DOMâ€ï¼›</li>
<li>ä»å·¥ä½œæµçš„è§’åº¦æ¥çœ‹ï¼ŒFiber èŠ‚ç‚¹ä¿å­˜äº†ç»„ä»¶éœ€è¦æ›´æ–°çš„çŠ¶æ€å’Œå‰¯ä½œç”¨ï¼Œä¸€ä¸ª Fiber åŒæ—¶ä¹Ÿå¯¹åº”ç€ä¸€ä¸ªå·¥ä½œå•å…ƒã€‚</li>
</ul>
<p>ä»æ¶æ„è§’åº¦ç†è§£Fiber:</p>
<ul>
<li>æ¶æ„æ ¸å¿ƒï¼šâ€œå¯ä¸­æ–­â€â€œå¯æ¢å¤â€ä¸â€œä¼˜å…ˆçº§â€</li>
<li>å¯ä¸­æ–­ï¼ŒæŒ‡çš„æ˜¯åœ¨Fiberæ¶æ„ä¸‹ï¼Œä»»ä½•å·¥ä½œä»»åŠ¡éƒ½å¯ä»¥è¢«æ›´é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ä¸­æ–­</li>
<li>å¯æ¢å¤ï¼ŒæŒ‡çš„æ˜¯è¢«ä¸­æ–­çš„ä»»åŠ¡å¯ä»¥è¢«æ¢å¤ç»§ç»­æ‰§è¡Œ</li>
<li>ä¼˜å…ˆçº§ï¼ŒæŒ‡çš„æ˜¯æ¯ä¸ªä»»åŠ¡éƒ½æœ‰è‡ªå·±çš„ä¼˜å…ˆçº§å®šä¹‰</li>
<li>å› æ­¤éœ€è¦å¢åŠ â€œSchedulerï¼ˆè°ƒåº¦å™¨ï¼‰â€ï¼Œä½œç”¨æ˜¯è°ƒåº¦æ›´æ–°çš„ä¼˜å…ˆçº§çš„ä»»åŠ¡</li>
</ul>
<h2 id="æ€ä¹ˆè§£å†³é—®é¢˜"><a href="#æ€ä¹ˆè§£å†³é—®é¢˜" class="headerlink" title="æ€ä¹ˆè§£å†³é—®é¢˜"></a>æ€ä¹ˆè§£å†³é—®é¢˜</h2><p>æœ‰äº†Fiberæ¶æ„ï¼Œæ€ä¹ˆè§£å†³React15æ‰€é¢ä¸´çš„é—®é¢˜ï¼Œè™šæ‹ŸDOMåŒæ­¥æ¸²æŸ“çœŸå®DOMå¯¼è‡´é¡µé¢å¡é¡¿ï¼Ÿ</p>
<ul>
<li>å°†è™šæ‹ŸDOMï¼Œä»åŸæœ‰çš„æ ‘ç»“æ„ï¼Œæ”¹ä¸ºé“¾è¡¨ç»“æ„ï¼Œæ‹†åˆ†æˆä¸€ä¸ªä¸ªFiberæ ‘èŠ‚ç‚¹</li>
<li>åˆ©ç”¨Fiberæ¶æ„ï¼Œå°†æ¸²æŸ“è¿‡ç¨‹æ‹†åˆ†æˆä¸€ä¸ªä¸ªå·¥ä½œå•å…ƒä»»åŠ¡ï¼Œè®¾ç½®ä¼˜å…ˆçº§ï¼Œæ”¯æŒå¯ä¸­æ–­ã€å¯æ¢å¤</li>
<li>è¿™æ ·å­å½“éœ€è¦æ¸²æŸ“å¤æ‚DOMæ—¶å€™ï¼ŒåŒæ—¶ä¸å½±å“å…¶ä»–ä¼˜å…ˆçº§è¾ƒé«˜å·¥ä½œä»»åŠ¡æ‰§è¡Œ</li>
</ul>
<p>å¯ä»¥å‚è€ƒä¸‹å›¾ï¼Œäº†è§£ä¸€ä¸‹Fiberæ¶æ„å·¥ä½œå›¾ï¼š</p>
<p><img src="/assets/img/20230117-2.png" alt></p>
<p>å½“ç„¶è¿™æ ·å­è®²åªæ˜¯ç®€å•çš„åŸç†ï¼Œè¿˜éœ€è¦å¼„æ˜ç™½å¼‚æ­¥åå¯èƒ½äº§ç”Ÿæ›´å¤šé—®é¢˜ï¼Ÿæ¯”å¦‚å¦‚ä½•å®šåˆ¶ä¼˜å…ˆçº§ï¼Œå½“ä¸¤ä¸ªåŒæ ·ä¼˜å…ˆçº§çš„ä»»åŠ¡ç›¸é‡çš„æ—¶å€™å¦‚ä½•è§£å†³ï¼Œè¿™äº›æ”¾åœ¨ç¬¬äºŒç« è®²è§£ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç»è¿‡ç¬¬ä¸€ç¯‡Fiberæ–‡ç« å­¦ä¹ ï¼Œå¤§æ¦‚äº†è§£åˆ°Fiberæ¶æ„å‡ºç°çš„èƒŒæ™¯å’ŒåŸå› ï¼Œä»¥åŠå®ƒæ˜¯ä»€ä¹ˆï¼Œæ˜¯å¦‚ä½•å·¥ä½œçš„è§£å†³ä¹‹å‰æ‰€é‡åˆ°é—®é¢˜ã€‚ç®€å•æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li>Reactä¸­å®šä¹‰Reconcileråè°ƒï¼ŒæŒ‡çš„æ˜¯å°†è™šæ‹ŸDOMæ¸²æŸ“åˆ°çœŸå®DOMçš„è¿‡ç¨‹ï¼ŒReact15ä¹‹å‰é‡‡ç”¨æ˜¯stack Reconcileræ ˆåè°ƒï¼ŒåŒæ­¥æ¸²æŸ“æœºåˆ¶å¯¼è‡´é¡µé¢å¡é¡¿</li>
<li>React16ä¹‹åé‡‡ç”¨Fiber Reconcilerï¼Œå®ç°å¼‚æ­¥æ¸²æŸ“DOM</li>
<li>é‡‡ç”¨æ–°çš„Fiberæ¶æ„ï¼ŒåŒæ—¶å½±å“åˆ°Reactçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œä¸»è¦æ˜¯åœ¨æ›´æ–°é˜¶æ®µçš„ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<p>åç»­æ·±å…¥äº†è§£è¯·çœ‹ç¬¬äºŒç¯‡ç« ã€Šä»Reactä¸­å­¦ä¹ Fiberæ¶æ„(äºŒ)ã€‹ã€‚</p>
<h1 id="é¢å¤–è¯é¢˜ï¼ˆVue-jså¯¹æ¯”ï¼‰"><a href="#é¢å¤–è¯é¢˜ï¼ˆVue-jså¯¹æ¯”ï¼‰" class="headerlink" title="é¢å¤–è¯é¢˜ï¼ˆVue.jså¯¹æ¯”ï¼‰"></a>é¢å¤–è¯é¢˜ï¼ˆVue.jså¯¹æ¯”ï¼‰</h1><p>ç›¸æ¯”è¾ƒReactåšFiberæ¶æ„ä¼˜åŒ–ï¼Œä¸»è¦æ˜¯é’ˆå¯¹äº‹ä»¶åšäº†æ—¶é—´åˆ†ç‰‡ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆVue3(Vue@next)ç‰ˆæœ¬å¹¶ä¸éœ€è¦åšå‘¢ï¼ŸVue.jsä½œè€…å°¤é›¨æºªæ˜¯è¿™æ ·å­å›ç­”çš„ï¼š</p>
<blockquote>
<p>å°¤é›¨æºªï¼šåœ¨ Web åº”ç”¨ä¸­ï¼Œã€Œå¯ä¸­æ–­å¼æ›´æ–°ã€ä¸»è¦æ˜¯ç”±å¤§é‡ CPU è®¡ç®—åŠ ä¸Šå¤æ‚ DOM æ“ä½œå¼•èµ·çš„ã€‚æ—¶é—´åˆ†ç‰‡æ—¨åœ¨è®©åº”ç”¨åœ¨ CPU è¿›è¡Œå¤§é‡è®¡ç®—æ—¶ä¹Ÿèƒ½ä¸ç”¨æˆ·äº¤äº’ï¼Œä½†æ—¶é—´åˆ†ç‰‡åªèƒ½å¯¹å¤§é‡ CPU è®¡ç®—è¿›è¡Œä¼˜åŒ–ï¼Œæ— æ³•ä¼˜åŒ–å¤æ‚ DOM æ“ä½œï¼Œå› ä¸ºè¦ç¡®ä¿ç”¨æˆ·æ­£åœ¨æ“ä½œçš„ç•Œé¢æ˜¯æœ€æ–°çš„çŠ¶æ€æ‰è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä¸¤ç§ä¸åŒçš„å¯ä¸­æ–­å¼æ›´æ–°çš„åœºæ™¯ï¼š</p>
<ol>
<li>CPU è®¡ç®—é‡ä¸å¤§ï¼Œä½† DOM æ“ä½œéå¸¸å¤æ‚ï¼ˆæ¯”å¦‚è¯´ä½ å‘é¡µé¢ä¸­æ’å…¥äº†åä¸‡ä¸ªèŠ‚ç‚¹ï¼‰ã€‚è¿™ç§åœºæ™¯ä¸‹ä¸ç®¡ä½ åšä¸åšæ—¶é—´åˆ†ç‰‡ï¼Œé¡µé¢éƒ½ä¼šå¾ˆå¡ã€‚</li>
<li>CPU è®¡ç®—é‡éå¸¸å¤§ã€‚ç†è®ºä¸Šæ—¶é—´åˆ†ç‰‡åœ¨è¿™ç§åœºæ™¯é‡Œä¼šæœ‰è¾ƒå¤§æ”¶ç›Šï¼Œä½†æ˜¯äººæœºäº¤äº’ç ”ç©¶è¡¨æ˜ï¼Œé™¤äº†åŠ¨ç”»ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·ä¸ä¼šè§‰å¾— 10 æ¯«ç§’å’Œ 100 æ¯«ç§’æœ‰å¾ˆå¤§åŒºåˆ«ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ—¶é—´åˆ†ç‰‡åªåœ¨ CPU éœ€è¦è¿ç»­è®¡ç®— 100 æ¯«ç§’ä»¥ä¸Šçš„æƒ…å†µä¸‹æ‰æœ‰è¾ƒå¤§æ”¶ç›Šã€‚æœ‰æ„æ€çš„åœ°æ–¹å°±å‡ºç°äº†ï¼Œåœ¨ React ç»å¸¸ä¼šå‡ºç° 100 æ¯«ç§’ä»¥ä¸Šçš„è®¡ç®—é‡ï¼Œå› ä¸º</li>
<li>Fiber æ¶æ„çš„å¤æ‚æ€§å¯¼è‡´ React çš„è™šæ‹Ÿ DOM åè°ƒæ•ˆç‡è¾ƒä½ï¼Œè¿™æ˜¯ç³»ç»Ÿæ€§çš„é—®é¢˜ã€‚</li>
<li>React ä½¿ç”¨ JSX å¯¼è‡´å®ƒçš„æ¸²æŸ“æ•ˆç‡æ¯” template ä½ï¼Œå› ä¸º template å¾ˆå®¹æ˜“åšé™æ€åˆ†æå’Œä¼˜åŒ–ã€‚</li>
<li>React Hooks å°†å¤§éƒ¨åˆ†ç»„ä»¶æ ‘çš„ä¼˜åŒ– API æš´éœ²ç»™å¼€å‘è€…ï¼Œå¼€å‘è€…å¾ˆå¤šæ—¶å€™éœ€è¦æ‰‹åŠ¨è°ƒç”¨ useMemo æ¥ä¼˜åŒ–æ¸²æŸ“æ•ˆç‡ã€‚è¿™æ„å‘³ç€ React åº”ç”¨é»˜è®¤å°±æœ‰ render è¿‡å¤šçš„é—®é¢˜ã€‚æ›´ä¸¥é‡çš„æ˜¯ï¼Œè¿™äº›ä¼˜åŒ–åœ¨ React é‡Œå¾ˆéš¾è‡ªåŠ¨åŒ–ã€‚</li>
<li>è¿™äº›ä¼˜åŒ–è¦æ±‚å¼€å‘è€…æ­£ç¡®è®¾ç½®ä¾èµ–æ•°ç»„</li>
<li>ç›²ç›®æ·»åŠ  useMemo ä¼šå¯¼è‡´åº”è¯¥ render çš„æ²¡ renderã€‚<br>å¾ˆä¸å¹¸ï¼Œå¤§éƒ¨åˆ†å¼€å‘è€…éƒ½å¾ˆæ‡’ï¼Œä¸ä¼šåœ¨æ¯ä¸ªåœ°æ–¹éƒ½åŠ ä¸Šä¼˜åŒ–ï¼Œå› æ­¤å¤§éƒ¨åˆ† React åº”ç”¨éƒ½ä¼šæœ‰å¤§é‡çš„æ²¡å¿…è¦çš„ CPU è®¡ç®—å·¥ä½œã€‚<br>å¯¹æ¯”è¾ƒè€Œè¨€ï¼ŒVue è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼š</li>
<li>Vue çš„æ¶æ„é‡Œæ²¡æœ‰æ—¶é—´åˆ†ç‰‡ï¼Œä¹Ÿå°±æ²¡æœ‰ Fiberï¼Œå› æ­¤ç®€å•äº†å¾ˆå¤šï¼Œè¿™ä½¿å¾—æ¸²æŸ“å¯ä»¥æ›´å¿«ã€‚</li>
<li>Vue é€šè¿‡åˆ†æ templateã€ç®€åŒ–åè°ƒè¿‡ç¨‹ï¼Œåšäº†å¤§é‡çš„ AOT ä¼˜åŒ–ï¼Œæ€§èƒ½æµ‹è¯•ç»“æœè¡¨æ˜å¤§éƒ¨åˆ†çš„ DOM å†…å®¹æœ‰ 80% å±äºé™æ€å†…å®¹ï¼Œå› æ­¤ Vue 3 çš„åè°ƒé€Ÿåº¦æ¯” Svelte å¿«ï¼ŒèŠ±è´¹çš„æ—¶é—´æ¯” React çš„ 1/10 è¿˜å°‘ã€‚</li>
<li>é€šè¿‡æ•°æ®å“åº”å¼è¿½è¸ªï¼ŒVue å¯ä»¥åšåˆ°ç»„ä»¶æ ‘çº§åˆ«çš„ä¼˜åŒ–ï¼Œæ¯”å¦‚æŠŠæ’æ§½ç¼–è¯‘ä¸ºå‡½æ•°ä»¥é¿å… children çš„å˜åŒ–å¼•å‘ re-renderï¼Œæ¯”å¦‚è‡ªåŠ¨ç¼“å­˜å†…è”äº‹ä»¶å¤„ç†å‡½æ•°ä»¥é¿å… re-renderã€‚Vue 3 å¯ä»¥åšåˆ°åœ¨ä¸å€ŸåŠ©å¼€å‘è€…çš„ä»»ä½•æ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œé˜²æ­¢å­ç»„ä»¶åœ¨éå¿…è¦çš„æƒ…å†µä¸‹ re-renderã€‚è¿™æ„å‘³ç€åŒæ ·ä¸€æ¬¡æ›´æ–°ï¼ŒReact åº”ç”¨å¯èƒ½è¦ re-render å¤šä¸ªç»„ä»¶ï¼Œè€Œ Vue åº”ç”¨å¾ˆå¯èƒ½åª re-render ä¸€ä¸ªç»„ä»¶ã€‚<br>å› æ­¤ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue 3 åº”ç”¨ä¼šæ¯” React åº”ç”¨å°‘èŠ±è´¹å¾ˆå¤š CPU æ—¶é—´ï¼Œå› è€Œé‡åˆ° CPU è¿ç»­è®¡ç®—æ—¶é—´è¶…è¿‡ 100 æ¯«ç§’çš„æœºä¼šç›¸å½“å°‘ï¼Œé™¤éæ˜¯æç«¯æƒ…å†µã€‚ä½†å¤§éƒ¨åˆ†æç«¯æƒ…å†µæ˜¯ DOM æ“ä½œè¿‡äºå¤æ‚ï¼Œè€Œä¸æ˜¯ CPU è®¡ç®—é‡å¤ªå¤§ã€‚</li>
</ol>
</blockquote>
<p>è¿›è¡Œæ±‡æ€»ä¸€ä¸‹æè¿°ï¼ŒVue3ä¹‹æ‰€ä»¥æ²¡æœ‰ä½¿ç”¨Fiberæ¶æ„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p>
<ol>
<li>Vue.jsé’ˆå¯¹templateæ¸²æŸ“æœºåˆ¶åšäº†å¤šé‡ä¼˜åŒ–ï¼ŒåŒ…æ‹¬AOTä¼˜åŒ–(åœ¨æ„å»ºçš„æ—¶å€™æå‰è¿›è¡Œç¼–è¯‘ï¼Œæå‰å°†templateè½¬ä¹‰æˆrenderå‡½æ•°)ç­‰ï¼Œä½¿å¾—DOMå…ƒç´ æ¸²æŸ“æ›´å¿«</li>
<li>å¤æ‚DOMæ¸²æŸ“å‡ºç°è¶…è¿‡100msä»¥ä¸Šçš„è®¡ç®—ï¼Œæ˜¯å› ä¸ºReactæœ¬èº«æœºåˆ¶å¯¼è‡´ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å¤æ‚çš„DOMæ¸²æŸ“éƒ½ä¼šéœ€è¦100ms</li>
<li>React Hookçš„æš´éœ²å¢åŠ æ¸²æŸ“æ•ˆç‡çš„å¤æ‚åº¦ï¼Œä»è€Œå¯¼è‡´Reactæ¸²æŸ“æ›´æ…¢ï¼Œä»è€Œéœ€è¦Fiberæ¶æ„å»åè°ƒ</li>
<li>Vueæ•°æ®å“åº”å¼è¿½è¸ªæœºåˆ¶ï¼Œé¿å…äº†å¤šæ¬¡é‡å¤renderç»„ä»¶æ ‘ï¼Œæé«˜æ¸²æŸ“æ•ˆç‡</li>
<li>Vueä½¿ç”¨Fiberæ¶æ„å»å®ç°ï¼Œç¡®å®å¯ä»¥æœ‰å¥½å¤„ï¼Œä½†æ˜¯ä¼šå¢åŠ æ•´ä½“ä»£ç ä½“ç§¯å’Œå¤æ‚åº¦ï¼ŒæŠ•å…¥äº§å‡ºæ¯”å¤ªä½</li>
</ol>
<h2 id="åŸºç¡€æ¦‚å¿µ"><a href="#åŸºç¡€æ¦‚å¿µ" class="headerlink" title="åŸºç¡€æ¦‚å¿µ"></a>åŸºç¡€æ¦‚å¿µ</h2><h3 id="AOT-vs-JIT"><a href="#AOT-vs-JIT" class="headerlink" title="AOT vs JIT"></a>AOT vs JIT</h3><ul>
<li>AOTï¼ŒAhead Of Timeï¼Œæå‰ç¼–è¯‘æˆ–é¢„ç¼–è¯‘ï¼Œå®¿ä¸»ç¯å¢ƒè·å¾—çš„æ˜¯ç¼–è¯‘åçš„ä»£ç ï¼Œåœ¨æµè§ˆå™¨ä¸­æˆ‘ä»¬å¯ä»¥ç›´æ¥ä¸‹è½½å¹¶è¿è¡Œç¼–è¯‘åçš„ä»£ç ï¼Œæ¯”å¦‚ï¼šVueçš„templateæ˜¯é€šè¿‡Vue-loaderç¼–è¯‘åæ‰èƒ½ä½¿ç”¨ã€‚</li>
<li>JITï¼ŒJust In Timeï¼Œå³æ—¶ç¼–è¯‘ ï¼Œä»£ç åœ¨å®¿ä¸»ç¯å¢ƒç¼–è¯‘å¹¶æ‰§è¡Œï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯å•ç‹¬ç¼–è¯‘çš„ï¼Œå½“æˆ‘ä»¬æ›´æ”¹ä»£ç æ—¶ä¸éœ€è¦å†æ¬¡æ„å»ºæ•´ä¸ªé¡¹ç›®ï¼Œæ¯”å¦‚ï¼šReactä¸­JSXåªæœ‰åœ¨æµè§ˆå™¨è¿è¡Œçš„æ—¶å€™æ‰çŸ¥é“å…·ä½“ä»£ç ã€‚</li>
</ul>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»lernaåˆ°åˆæ­¥äº†è§£å’Œä½¿ç”¨Nx(ä¸€)</title>
    <url>/today/20230119.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>è‡ªä»ç»„å†…å¼€å‘æ¶æ„é‡‡ç”¨Monorepoå¤§ä»“é¡¹ç›®åï¼Œäº†è§£ä¸€äº›Monorepoçš„å¸¸ç”¨æŠ€æœ¯ï¼Œä¸»è¦é‡‡ç”¨äº†<code>lerna</code>æ¡†æ¶å»åšå¤šä¸ªå­é¡¹ç›®ç»Ÿä¸€package.jsonå‘½ä»¤è„šæœ¬ï¼Œå› æ­¤æƒ³è¦äº†è§£ä¸€ä¸‹lernaæ¡†æ¶ï¼ŒåŒæ—¶ä¹ŸæŸ¥åˆ°lernaçš„å…¬å¸åŒæ­¥å¼€å‘<code>Nx</code>é¡¹ç›®ï¼Œå°è¯•ä¸€ä¸‹å®ƒçš„åº”ç”¨ã€‚</p>
<p>æƒ³äº†è§£Monorepoå¤§ä»“é¡¹ç›®å¦‚ä½•è®¾è®¡çš„å¯ä»¥ç¿»åˆ°å‰å¾€é˜…è¯» <a href="/2023/01/07/today/20220107/">ã€Šä»npmç‰ˆæœ¬ä¾èµ–åˆ°Monorepoå¤§ä»“é¡¹ç›®ã€‹</a>ã€‚</p>
<a id="more"></a>
<h1 id="lerna"><a href="#lerna" class="headerlink" title="lerna"></a>lerna</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><blockquote>
<p>Lernaæ˜¯ç”¨äºTypeScrip/JavaScriptçš„åŸå§‹monorepoå·¥å…·ã€‚å®ƒå·²ç»å­˜åœ¨å¤šå¹´ï¼Œè¢«æ•°ä»¥ä¸‡è®¡çš„é¡¹ç›®ä½¿ç”¨ï¼ŒåŒ…æ‹¬Reactionå’ŒJestã€‚</p>
</blockquote>
<p>äº†è§£Lernaï¼Œå¿…é¡»æƒ³è¦äº†è§£ä¸€ä¸‹<code>monorepo</code>æ¶æ„ï¼Œ ç®€å•ç‚¹è¯´ï¼Œ<code>monorepo</code>æ¶æ„å°±æ˜¯å°†è®¸å¤šä¸åŒä¸šåŠ¡é¡¹ç›®çš„å½’çº³ä¸€ä¸ªä»“åº“ä¸­ï¼ŒæŠ½å–å…¬å…±éƒ¨åˆ†ï¼Œé™ä½ç‰ˆæœ¬ä¾èµ–çš„å¤æ‚åº¦ï¼Œè¾¾åˆ°æ‰€æœ‰é¡¹ç›®ç»Ÿä¸€åŒ–çš„æ¶æ„ã€‚</p>
<p>Lernaè§£å†³äº†<code>monorepo</code>æ¶æ„ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>å°†ä¸åŒå­é¡¹ç›®é“¾æ¥åœ¨ä¸€èµ·ï¼Œä¸ç”¨å‘å¸ƒnpmå°±å¯ä»¥äº’ç›¸å¼•ç”¨</li>
<li>å¯ä»¥å°†å‘½ä»¤é¡ºåºæ‰§è¡Œï¼Œä»è€Œå®ç°å°†ä¸åŒé¡¹ç›®åˆ†å‘åˆ°ä¸åŒæœºå™¨</li>
<li>å‚ä¸CI/CDå·¥ä½œæµä¸­ï¼Œæ‹¥æœ‰è‡ªç”±çš„å®šåˆ¶è„šæœ¬åŠŸèƒ½ï¼Œä»è€Œæ»¡è¶³ä¸åŒçš„å·¥ä½œæµ</li>
</ul>
<h2 id="æ€ä¹ˆåš"><a href="#æ€ä¹ˆåš" class="headerlink" title="æ€ä¹ˆåš"></a>æ€ä¹ˆåš</h2><p>ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åˆå§‹åŒ–é¡¹ç›®ï¼š <code>npx lerna init</code></li>
<li>ä¿®æ”¹<code>package.json</code>ï¼Œå»æ·»åŠ ä¸€ä¸ªnpm/yarn/pnpm workspace</li>
<li>è¿è¡Œå‘½ä»¤<code>lerna run xxx</code>ï¼š ç»Ÿä¸€æ‰§è¡Œæ‰€æœ‰å­é¡¹ç›®çš„scriptså‘½ä»¤ï¼Œå¦‚ï¼šlerna run build</li>
</ul>
<p>æ›´åŠ å…·ä½“çš„æ“ä½œï¼Œå¯ä»¥åˆ°å®˜æ–¹æ–‡æ¡£å»æŸ¥çœ‹<a href="https://lerna.js.org/docs/features/run-tasks" target="_blank" rel="noopener">https://lerna.js.org/docs/features/run-tasks</a></p>
<h1 id="Nx"><a href="#Nx" class="headerlink" title="Nx"></a>Nx</h1><p>å…ˆè¯´æ˜ä¸€ä¸‹Nxä¸Lernaçš„å…³ç³»ï¼š</p>
<blockquote>
<p>Nrwl(å¼€æºæ„å»ºç³»ç»ŸNXèƒŒåçš„å…¬å¸)å·²ç»æ¥ç®¡äº†Lernaã€‚NXæ˜¯ä¸€ä¸ªç”±å‰è°·æ­Œå‘˜å·¥å¼€å‘çš„æ„å»ºç³»ç»Ÿï¼Œå®ƒåˆ©ç”¨äº†è°·æ­Œå†…éƒ¨å·¥å…·ä½¿ç”¨çš„è®¸å¤šæŠ€æœ¯ã€‚Lerna v5æ˜¯è¿™ç§æ–°ç®¡ç†æ–¹å¼ä¸‹çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå®ƒæ›´æ–°äº†è¿‡æ—¶çš„åŒ…ï¼Œå¹¶å¼€å§‹å¯¹å­˜å‚¨åº“æœ¬èº«è¿›è¡Œä¸€äº›æ¸…ç†ã€‚ä»V5.1+å¼€å§‹ï¼ŒLernaæä¾›äº†é›†æˆNXçš„æ–°å¯èƒ½æ€§ï¼Œå¹¶å°†è®¸å¤šä»»åŠ¡è°ƒåº¦å·¥ä½œæ¨è¿Ÿåˆ°NXã€‚</p>
</blockquote>
<h2 id="æ˜¯ä»€ä¹ˆ-1"><a href="#æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p>å®˜æ–¹ä»‹ç»ï¼š</p>
<blockquote>
<p>Nxæ˜¯ä¸€ä¸ªæ™ºèƒ½ã€å¿«é€Ÿå’Œå¯æ‰©å±•çš„æ„å»ºç³»ç»Ÿï¼Œå…·æœ‰ä¸€æµçš„Monorepoæ”¯æŒå’Œå¼ºå¤§çš„é›†æˆã€‚</p>
</blockquote>
<p>Nxçš„ç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li>åŠ å¿«ä½ çš„å‰ç«¯é¡¹ç›®å·¥ç¨‹åŒ–</li>
<li>æä¾›ä¸€æµçš„å¼€å‘ä½“éªŒ</li>
</ul>
<h2 id="å®è·µ-ç¬¬ä¸€ä¸ªnxé¡¹ç›®"><a href="#å®è·µ-ç¬¬ä¸€ä¸ªnxé¡¹ç›®" class="headerlink" title="å®è·µ-ç¬¬ä¸€ä¸ªnxé¡¹ç›®"></a>å®è·µ-ç¬¬ä¸€ä¸ªnxé¡¹ç›®</h2><ul>
<li><p>åˆå§‹åŒ–é¡¹ç›®ï¼Œ <code>npx create-nx-workspace@latest package-based --preset=npm</code></p>
</li>
<li><p>æ·»åŠ å­é¡¹ç›®ï¼Œ ç›®å½•ä¸‹æ–°å»ºæ ‡å‡†npmé¡¹ç›®<code>packages/is-even</code></p>
</li>
<li><p>å®‰è£…ä¾èµ–ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œ<code>npm i typescript -D -W</code></p>
</li>
<li><p>ç¬¬ä¸€æ¬¡ç¼–è¯‘ï¼Œæ ¹ç›®å½•ä¸‹æ‰§è¡Œ<code>npx nx build is-even</code></p>
</li>
<li><p>æ–°å»ºç¬¬äºŒä¸ªå­é¡¹ç›®ï¼Œ<code>packages/is-odd</code>ï¼Œåœ¨é¡¹ç›®ä¸­å¼•ç”¨<code>is-even</code></p>
</li>
<li><p>å…³è”ä¾èµ–ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œ<code>npm install</code>ï¼Œå³å¯è‡ªåŠ¨å®ç°å…³è”ä¾èµ–</p>
</li>
<li><p>é¡¹ç›®ç¼–è¯‘ä¾èµ–ï¼Œåœ¨æ ¹ç›®å½•<code>nx.json</code>æ–°å¢buildä¾èµ–ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  "targetDefaults": &#123;</span><br><span class="line">    "build": &#123;</span><br><span class="line">      "dependsOn": ["^build"]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¯‘æ‰“åŒ…ï¼Œå•ç‹¬æ‰“åŒ…å­é¡¹ç›®<code>is-odd</code>ï¼Œå‘½ä»¤<code>npx nx build is-even</code>ï¼ŒåŒæ—¶ä¼šç¼–è¯‘æ‰“åŒ…<code>is-even</code>ï¼Œå› ä¸ºå¼•ç”¨äº†</p>
</li>
<li><p>å†æ¬¡æ‰“åŒ…ï¼Œnxä¼šè‡ªåŠ¨å¼•å…¥ä¸Šä¸€æ¬¡buildçš„cacheç¼“å­˜ï¼Œä»è€ŒåŠ å¿«ç¼–è¯‘é€Ÿåº¦</p>
</li>
<li><p>å°†æ‰€æœ‰çš„å­é¡¹ç›®ç»Ÿä¸€æ‰“åŒ…ç¼–è¯‘ï¼Œå‘½ä»¤:<code>npx nx run-many --target=build</code></p>
</li>
<li><p>å¦‚æœä¸éœ€è¦ä½¿ç”¨cacheç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤:<code>npx nx run-many --target=build --skip-nx-cache</code></p>
</li>
<li><p>å¦‚æœéœ€è¦æŸ¥çœ‹å½“å‰å­é¡¹ç›®ä¾èµ–çš„é¡¹ç›®æ˜¯å¦è¢«ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š<code>npx nx affected --target=build</code></p>
</li>
</ul>
<p>åˆ°æ­¤ï¼Œä¸€ä¸ªNxçš„Monrepoé¡¹ç›®å°±å®Œæˆäº†ã€‚</p>
<p>å½“ç„¶å®é™…åº”ç”¨ä¸­ï¼Œæ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œåç»­æˆ‘ä»¬å°†é€šè¿‡Vue(vite) ã€ Reactå»å®Œæˆä¸€ä¸ªNxé¡¹ç›®ï¼Œå·²ç»å¦‚ä½•å’Œç°æœ‰çš„CIå·¥ä½œæµç»“åˆè¿è¡Œã€‚</p>
<p>åŒæ—¶æˆ‘ä»¬è¿˜éœ€è¦è§£å†³è¿™äº›é—®é¢˜ï¼š</p>
<ol>
<li>å¦‚ä½•è§£å†³éMonrepoé¡¹ç›®ä¾èµ–Monrepoé¡¹ç›®çš„å…¬å…±ä»£ç </li>
<li>å¦‚ä½•è§£å†³å­é¡¹ç›®éœ€è¦å‘å¸ƒï¼Œä½†æ˜¯æ‰€ä¾èµ–çš„å…¶ä»–å­é¡¹ç›®ä¸å‘å¸ƒé—®é¢˜</li>
<li>å¦‚ä½•è§£å†³ä¸åŒé¡¹ç›®å°†é‡‡ç”¨ä¸åŒçš„æ¡†æ¶ï¼Œå¦‚Vueã€Reactï¼Œé¡¹ç›®ä¹‹é—´ä¾èµ–é—®é¢˜ï¼Ÿ</li>
<li>å¦‚ä½•è§£å†³ä¸åŒå­é¡¹ç›®ä¸­ä¾èµ–åŒä¸€ä¸ªnpmåŒ…ï¼Œä½†æ˜¯ç‰ˆæœ¬ä¸ä¸€è‡´çš„é—®é¢˜ï¼Ÿæ˜¯é€šè¿‡å‰ç½®æ£€æŸ¥ï¼Ÿè¿˜æ˜¯å„è‡ªå®Œå…¨å®‰è£…å¥½ï¼Ÿ</li>
<li>å®é™…åº”ç”¨ä¸­ï¼Œå¦‚æœé‡åˆ°å­é¡¹ç›®éœ€è¦å•ç‹¬å‰¥ç¦»å¼€æˆç«‹å•ç‹¬é¡¹ç›®ï¼Œåº”è¯¥å¦‚ä½•æ“ä½œï¼Ÿ</li>
<li>åç»­å¦‚æœå­é¡¹ç›®è¶Šæ¥è¶Šå¤šï¼Œå¯¼è‡´æœ¬åœ°å¼€å‘ä¸­é¡¹ç›®è¿è¡Œå¼€é”€è¿‡å¤§ï¼Œæ— æ³•è¿è¡Œï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</li>
<li>å­é¡¹ç›®è¶Šæ¥è¶Šå¤šï¼Œæ˜¯å¦æœ‰è§„èŒƒå¯ä»¥å®šä¹‰æ˜¯å¦éœ€è¦å•ç‹¬æˆç«‹å­é¡¹ç›®ï¼Ÿ</li>
<li>å¦‚ä½•å®šåˆ¶å…¬å…±ä»£ç å‰¥ç¦»è§„åˆ™ï¼Ÿå¦‚ä½•æ£€æŸ¥è§„åˆ™åº”ç”¨ï¼Ÿ</li>
<li>å‰åç«¯åˆ†ç¦»é¡¹ç›®å’ŒSSRé¡¹ç›®èƒ½å¦ä¸€èµ·å›Šæ‹¬ï¼Ÿ</li>
<li>é¡¹ç›®æƒé™é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿå¦‚ï¼šå¤–åŒ…äººå‘˜æ— æ³•æŸ¥çœ‹å…¶å®ƒå­é¡¹ç›®ä»£ç ï¼Ÿ</li>
<li>â€¦â€¦</li>
</ol>
<p>æˆ‘ä»¬æœ‰å¾ˆå¤šé—®é¢˜ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šéƒ½æ˜¯å¼•å…¥Monrepoå¤§ä»“é¡¹ç›®å¯¼è‡´çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¸Œæœ›Nxèƒ½æœ‰ç›¸å…³çš„è§£å†³æ–¹æ¡ˆæä¾›å‚è€ƒæˆ–è€…åº”ç”¨ï¼Œå‡å°‘æˆ‘ä»¬å®é™…å¼€å‘çš„é˜»å¡ã€‚</p>
<p>æ‰€ä»¥ï¼ŒNxé¡¹ç›®è¿˜æ˜¯æŒç»­è·Ÿè¿›ç ”ç©¶å­¦ä¹ ï¼Œæ‰¾ä¸ªå®é™…é¡¹ç›®å»è½åœ°å®è·µï¼Œæˆ–è€…å°†ç°æœ‰ä¸€äº›é¡¹ç›®å»æ•´åˆè¯•è¯•çœ‹ã€‚</p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»nest.jsä¸­äº†è§£IoCå’ŒDIçš„å®ç°</title>
    <url>/today/20230122.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>ä»ä¸Šä¸€ç¯‡<a href="/2023/01/10/today/20220110/">ã€Šä»egg.jsè½¬åˆ°nest.jsã€‹</a>ï¼Œæƒ³å¯¹å…¶å†æ·±å…¥äº†è§£ä¸€ä¸‹ï¼Œå°¤å…¶æ¯”è¾ƒå¥½å¥‡Typescriptæ˜¯å¦‚ä½•å®ç°<code>IoC</code>å’Œ<code>DI</code>ï¼Œå› ä¸ºåœ¨Javaçš„æ˜¯é€šè¿‡çš„åå°„(Spring IoCå®ç°åŸç†)å»åˆ›å»ºå¯¹åº”çš„ç±»ã€‚å› æ­¤ä¸‹æ–‡å°†è¯¦ç»†è®²è§£Nest.jsä¸­IoCå’ŒDIçš„å®ç°åŸç†ã€‚</p>
<h1 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h1><p>åœ¨äº†è§£å®ç°åŸç†ä¹‹å‰æœ‰å‡ ä¸ªçŸ¥è¯†æ¦‚å¿µï¼Œéœ€è¦äº†è§£ä¸€ä¸‹ï¼š</p>
<ul>
<li>IoCå’ŒDI</li>
<li>JavaScriptçš„Reflect</li>
<li>TypeScriptçš„è£…é¥°å™¨</li>
</ul>
<a id="more"></a>

<h2 id="IoCå’ŒDI"><a href="#IoCå’ŒDI" class="headerlink" title="IoCå’ŒDI"></a>IoCå’ŒDI</h2><p>IoCå’ŒDIå…¶å®åŒå±äºä¸€ä¸ªæŠ€æœ¯ç†å¿µï¼Œä¸‹é¢ç»´åŸºç™¾ç§‘çš„ä»‹ç»ï¼š</p>
<blockquote>
<p>IoCï¼Œæ§åˆ¶åè½¬ï¼ˆè‹±è¯­ï¼šInversion of Controlï¼Œç¼©å†™ä¸ºIoCï¼‰ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸€ç§è®¾è®¡åŸåˆ™ï¼Œå¯ä»¥ç”¨æ¥å‡ä½è®¡ç®—æœºä»£ç ä¹‹é—´çš„è€¦åˆåº¦ã€‚å…¶ä¸­æœ€å¸¸è§çš„æ–¹å¼å«åšä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼Œç®€ç§°DIï¼‰ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼å«â€œä¾èµ–æŸ¥æ‰¾â€ï¼ˆDependency Lookupï¼‰ã€‚</p>
</blockquote>
<p>ç®€å•çš„è¯´IoCæ˜¯ä¸€ä¸ªå¼€å‘ä»£ç çš„è®¾è®¡åŸåˆ™ï¼ŒDIåˆ™æ˜¯å®ç°è¿™ä¸ªè®¾è®¡åŸåˆ™çš„æ–¹æ¡ˆã€‚</p>
<h3 id="IoC"><a href="#IoC" class="headerlink" title="IoC"></a>IoC</h3><p>ä»ä»£ç å±‚ä¸Šæ¥è®²è§£IoCï¼Œç®€å•çš„è¯´å°±æ˜¯ï¼š</p>
<ul>
<li>Class Aä¸­ç”¨åˆ°äº†Class Bçš„å¯¹è±¡bï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéœ€è¦åœ¨Açš„ä»£ç ä¸­æ˜¾å¼åœ°ç”¨ new åˆ›å»º B çš„å¯¹è±¡ã€‚</li>
<li>ä½¿ç”¨IoCè®¾è®¡åŸåˆ™åï¼ŒA çš„ä»£ç åªéœ€è¦å®šä¹‰ä¸€ä¸ª private çš„Bå¯¹è±¡ï¼Œä¸éœ€è¦ç›´æ¥ new æ¥è·å¾—è¿™ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡ç›¸å…³çš„å®¹å™¨æ§åˆ¶ç¨‹åºæ¥å°†Bå¯¹è±¡åœ¨å¤–éƒ¨newå‡ºæ¥å¹¶æ³¨å…¥åˆ°Aç±»é‡Œçš„å¼•ç”¨ä¸­ã€‚</li>
<li>IoCå°†é‡‡ç”¨ä¾èµ–æ³¨å…¥æˆ–ä¾èµ–æŸ¥æ‰¾ä¸¤ç§æ–¹æ¡ˆå»å®ç°</li>
</ul>
<p>å†é€šä¿—ä¸€ç‚¹ï¼Œå°±æ˜¯æœ‰ä¸€ä¸ªIoCå®¹å™¨ç®¡å®¶ï¼Œè´Ÿè´£ä½ å¼€å‘çš„ä»£ç ç±»çš„å½’ç½®ï¼Œä½ åªç®¡ä½¿ç”¨ä»£ç ç±»ï¼Œä¸ç”¨ç®¡å®ƒæ”¾åœ¨å“ªé‡Œï¼Œåªéœ€è¦è°ƒç”¨å³å¯ã€‚</p>
<h3 id="DI"><a href="#DI" class="headerlink" title="DI"></a>DI</h3><p>DIï¼ŒDependency Injectionï¼Œä¾èµ–æ³¨å…¥</p>
<blockquote>
<p>ä¾èµ–æ³¨å…¥æ˜¯è¢«åŠ¨çš„æ¥æ”¶å¯¹è±¡ï¼Œåœ¨ç±»Açš„å®ä¾‹åˆ›å»ºè¿‡ç¨‹ä¸­å³åˆ›å»ºäº†ä¾èµ–çš„Bå¯¹è±¡ï¼Œé€šè¿‡ç±»å‹æˆ–åç§°æ¥åˆ¤æ–­å°†ä¸åŒçš„å¯¹è±¡æ³¨å…¥åˆ°ä¸åŒçš„å±æ€§ä¸­<br>ä¾èµ–æŸ¥æ‰¾æ˜¯ä¸»åŠ¨ç´¢å–ç›¸åº”ç±»å‹çš„å¯¹è±¡ï¼Œè·å¾—ä¾èµ–å¯¹è±¡çš„æ—¶é—´ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­è‡ªç”±æ§åˆ¶</p>
</blockquote>
<p>ç®€å•çš„è¯´ï¼Œå°±æ˜¯ä¾èµ–æ³¨å…¥æ˜¯å°†éœ€è¦æ³¨å…¥çš„å¯¹è±¡å®Œå…¨äº¤ç»™æ¡†æ¶å»å®ç°ï¼Œè€Œä¾èµ–æŸ¥æ‰¾åˆ™æ˜¯å¼€å‘è€…é€šè¿‡æ¡†æ¶æä¾›çš„æ–¹æ³•ï¼Œç”±è‡ªå·±æ§åˆ¶éœ€è¦æ³¨å…¥çš„æ—¶é—´ç‚¹ã€‚</p>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>é‡‡ç”¨IoCå’ŒDIï¼Œéœ€è¦æ³¨æ„çš„é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>å¾ªç¯ä¾èµ–ï¼Œå°±æ˜¯Aä¾èµ–Bï¼ŒBä¾èµ–Aï¼Œå¦‚ä½•é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œæˆ–è€…æ¡†æ¶æä¾›ä»€ä¹ˆæ ·çš„æ–¹æ¡ˆå»é¿å…ï¼Ÿ</li>
<li>å¦‚æœä¾èµ–çš„ç±»è¶Šæ¥è¶Šå¤šï¼Œä¼šä¸ä¼šå¯¼è‡´é¡¹ç›®å¯åŠ¨é€Ÿåº¦å˜æ…¢ï¼Œå› ä¸ºéœ€è¦åˆå§‹åŒ–ç±»å¾ˆå¤šï¼Œå°¤å…¶å½“é‡åˆ°ä¸€äº›ç±»åˆå§‹åŒ–å¯èƒ½ä¼šé”™è¯¯ï¼Œä½†å…¶å®æ˜¯å¯ä»¥å¿½ç•¥çš„ï¼Ÿ</li>
<li>åˆå§‹åŒ–ç±»çš„é¡ºåºå¦‚ä½•æ§åˆ¶ï¼Œå¦‚ï¼šAä¾èµ–Bï¼Œéœ€è¦Bå®ä¾‹åŒ–åæ‰èƒ½å®ä¾‹ï¼Ÿ</li>
</ul>
<h2 id="JavaScriptçš„Reflect"><a href="#JavaScriptçš„Reflect" class="headerlink" title="JavaScriptçš„Reflect"></a>JavaScriptçš„Reflect</h2><p>Reflectåœ¨MDNç½‘ç«™æ˜¯è¿™ä¹ˆè§£é‡Šçš„ï¼š</p>
<blockquote>
<p>Reflect æ˜¯ä¸€ä¸ªå†…ç½®çš„å¯¹è±¡ï¼Œå®ƒæä¾›æ‹¦æˆª JavaScript æ“ä½œçš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸proxy handlers (en-US)çš„æ–¹æ³•ç›¸åŒã€‚Reflectä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯ä¸å¯æ„é€ çš„ã€‚<br>å…¶ä¸­çš„ä¸€äº›æ–¹æ³•ä¸ Object ç›¸åŒï¼Œå°½ç®¡äºŒè€…ä¹‹é—´å­˜åœ¨æŸäº›ç»†å¾®ä¸Šçš„å·®åˆ«ã€‚</p>
</blockquote>
<p>æŒ‰ç…§å‰ç«¯å¼€å‘è€…ç†è§£æ¥è¯´ï¼ŒReflectèƒ½è§£å†³å¼€å‘ä¸­é‡åˆ°å¾ˆå¤šthisçš„ä»£ç†é—®é¢˜ï¼Œè™½ç„¶å¤§éƒ¨åˆ†æ–¹æ¡ˆéƒ½å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è§£å†³ï¼Œä½†æ˜¯Reflectçš„å®šä¹‰èƒ½å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®ç°è¿™äº›åŠŸèƒ½ã€‚</p>
<p>Reflectç¬¦åˆES6æ ‡å‡†çš„æä¾›çš„APIæœ‰å¦‚ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li><code>Reflect.apply(target, thisArgument, argumentsList)</code>,å’Œ <code>Function.prototype.apply(thisArgument, argumentsList)</code> åŠŸèƒ½ç±»ä¼¼ï¼Œä¹Ÿæ˜¯è°ƒç”¨å‡½æ•°ï¼Œä¸”å…è®¸å°†å‡½æ•°çš„thisæŒ‡å‘<code>thisArgument</code></li>
<li><code>Reflect.construct(target, argumentsList[, newTarget])</code>ï¼Œnewä¸€ä¸ªtargetï¼Œä¸”å¯ä»¥å°†targetçš„thisçš„æŒ‡å‘æ–°çš„newTargetå¯¹è±¡</li>
<li><code>Reflect.defineProperty(target, propertyKey, attributes)</code>ï¼Œæ‹¦æˆªtargetå¯¹è±¡çš„æ“ä½œï¼Œå’Œ <code>Object.defineProperty()</code> ç±»ä¼¼</li>
<li><code>Reflect.deleteProperty(target, propertyKey)</code>ï¼Œä½œä¸ºå‡½æ•°çš„deleteæ“ä½œç¬¦ï¼Œç›¸å½“äºæ‰§è¡Œ delete target[name]ã€‚</li>
<li><code>Reflect.get(target, propertyKey[, receiver])</code>ï¼Œè·å–targetçš„å±æ€§å€¼ï¼Œå’Œ<code>target[name]</code>çš„åŒºåˆ«åœ¨äºå¯ä»¥<code>receiver</code>ï¼Œå¯ä»¥æŒ‡å®šè°ƒç”¨å±æ€§å€¼çš„æ—¶å€™<code>this</code></li>
<li><code>Reflect.getOwnPropertyDescriptor(target, propertyKey)</code>ï¼Œç±»ä¼¼äº Object.getOwnPropertyDescriptor()ã€‚å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™è¿”å›å¯¹åº”çš„å±æ€§æè¿°ç¬¦ï¼Œå¦åˆ™è¿”å› undefinedã€‚</li>
<li><code>Reflect.getPrototypeOf(target)</code>ï¼Œè¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå‹ï¼ˆå³å†…éƒ¨çš„ [[Prototype]] å±æ€§çš„å€¼ï¼‰</li>
<li><code>Reflect.has(target, propertyKey)</code>ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œå’Œ <code>in è¿ç®—ç¬¦</code> çš„åŠŸèƒ½å®Œå…¨ç›¸åŒ</li>
<li><code>Reflect.ownKeys(target)</code>ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆä¸åŒ…å«ç»§æ‰¿å±æ€§ï¼‰çš„æ•°ç»„ã€‚(ç±»ä¼¼äº Object.keys(), ä½†ä¸ä¼šå—enumerable å½±å“).</li>
<li><code>Reflect.isExtensible(target)</code>ï¼Œ åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯æ‰©å±•ï¼ˆå³æ˜¯å¦èƒ½å¤Ÿæ·»åŠ æ–°çš„å±æ€§ï¼‰</li>
<li><code>Reflect.preventExtensions(target)</code>ï¼Œé˜»æ­¢æ–°å±æ€§æ·»åŠ åˆ°å¯¹è±¡</li>
<li><code>Reflect.set(target, propertyKey, value[, receiver])</code>ï¼Œå°†å€¼åˆ†é…ç»™å±æ€§çš„å‡½æ•°ã€‚è¿”å›ä¸€ä¸ªBooleanï¼Œå¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™è¿”å›trueã€‚</li>
<li><code>Reflect.setPrototypeOf(target, prototype)</code>ï¼Œå¯è®¾ç½®å¯¹è±¡çš„åŸå‹ï¼Œå³å†…éƒ¨çš„ [[Prototype]] å±æ€§ï¼‰ä¸ºå¦ä¸€ä¸ªå¯¹è±¡æˆ– nullï¼Œåˆ©ç”¨åŸå‹é“¾ç”¨æ¥å¼ºåˆ¶ç»™æŸä¸ªå¯¹è±¡å¢åŠ é¢å¤–æ–¹æ³•</li>
</ul>
<p>å½“ç„¶è¿˜æœ‰ä¸€äº›æ²¡æœ‰è¿›å…¥æ ‡å‡†ï¼Œä½†æ˜¯åœ¨ES7ææ¡ˆçš„æ–¹æ³•<code>Reflect Metadata</code>ï¼ˆTypescriptå·²å®ç°ï¼‰ï¼Œåé¢Nest.jså·²é‡‡ç”¨çš„æ–¹æ³•ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li><code>Reflect.getMetadata(metadataKey, target, propertyKey)</code>, ç”¨äºè·å–æŸä¸ªç±»çš„å…ƒæ•°æ®</li>
<li><code>Reflect.defineMetadata(metadataKey, metadataValue, target, propertyKey);</code>, ç”¨äºè®¾ç½®æŸä¸ªç±»çš„å…ƒæ•°æ®</li>
</ul>
<p>ç®€å•ç†è§£è¿™ä¸ªapiæ–¹æ³•ï¼Œä½ å¯ä»¥é€šè¿‡<code>Reflect.defineMetadata</code>è·å–åˆ°ç±»æˆ–è€…å‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œä¹Ÿå¯ä»¥ç»™ç±»æˆ–è€…å‡½æ•°è®¾ç½®å…ƒæ•°æ®å†è·å–ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Prop</span>(<span class="params"></span>): <span class="title">PropertyDecorator</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">target, key: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">type</span> = Reflect.getMetadata(<span class="string">'design:type'</span>, target, key);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;key&#125;</span> type: <span class="subst">$&#123;<span class="keyword">type</span>.name&#125;</span>`</span>);</span><br><span class="line">    <span class="comment">// other...</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> SomeClass &#123;</span><br><span class="line">  <span class="meta">@Prop</span>()</span><br><span class="line">  <span class="keyword">public</span> Aprop!: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>TypeScript çš„ä¼˜åŠ¿äº†ï¼ŒTypeScript æ”¯æŒç¼–è¯‘æ—¶è‡ªåŠ¨æ·»åŠ ä¸€äº› metadata æ•°æ®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<ul>
<li><code>Reflect.getMetadata(&quot;design:type&quot;, target, key)</code>ï¼Œ è·å–targetå‡½æ•°ç±»å‹</li>
<li><code>Reflect.getMetadata(&quot;design:paramtypes&quot;, target, key)</code>ï¼Œ è·å–targetå‡½æ•°å‚æ•°ç±»å‹</li>
<li><code>Reflect.getMetadata(&quot;design:returntype&quot;, target, key)</code>ï¼Œ è·å–targetå‡½æ•°è¿”å›å€¼ç±»å‹</li>
</ul>
<p>è¿™ä¸ª<code>Reflect.getMetadata(&quot;design:paramtypes&quot;, target, key)</code>åŸºæœ¬ä¸Šå°±æ˜¯Nest.jså®ç°Iocå’ŒDIçš„æ ¸å¿ƒä»£ç ã€‚</p>
<h2 id="TypeScriptçš„è£…é¥°å™¨"><a href="#TypeScriptçš„è£…é¥°å™¨" class="headerlink" title="TypeScriptçš„è£…é¥°å™¨"></a>TypeScriptçš„è£…é¥°å™¨</h2><blockquote>
<p>è£…é¥°å™¨ï¼ˆDecoratorsï¼‰ä¸ºæˆ‘ä»¬åœ¨ç±»çš„å£°æ˜åŠæˆå‘˜ä¸Šé€šè¿‡å…ƒç¼–ç¨‹è¯­æ³•æ·»åŠ æ ‡æ³¨æä¾›äº†ä¸€ç§æ–¹å¼ã€‚<br>è£…é¥°å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å£°æ˜ï¼Œå®ƒèƒ½å¤Ÿè¢«é™„åŠ åˆ°ç±»å£°æ˜ï¼Œæ–¹æ³•ï¼Œ è®¿é—®ç¬¦ï¼Œå±æ€§æˆ–å‚æ•°ä¸Šã€‚</p>
</blockquote>
<p>å¦‚ä½•å®ç°ä¸€ä¸ªè£…é¥°å™¨å‘¢ï¼Ÿ</p>
<p>å¦‚æœæˆ‘ä»¬è¦å®šåˆ¶ä¸€ä¸ªä¿®é¥°å™¨å¦‚ä½•åº”ç”¨åˆ°ä¸€ä¸ªå£°æ˜ä¸Šï¼Œæˆ‘ä»¬å¾—å†™ä¸€ä¸ªè£…é¥°å™¨å·¥å‚å‡½æ•°ã€‚ è£…é¥°å™¨å·¥å‚å°±æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä»¥ä¾›è£…é¥°å™¨åœ¨è¿è¡Œæ—¶è°ƒç”¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">color</span>(<span class="params">value: string</span>) </span>&#123; <span class="comment">// è¿™æ˜¯ä¸€ä¸ªè£…é¥°å™¨å·¥å‚</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">target</span>) </span>&#123; <span class="comment">//  è¿™æ˜¯è£…é¥°å™¨</span></span><br><span class="line">        <span class="comment">// do something with "target" and "value"...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@color(<span class="string">'blue'</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="IoCå’ŒDIå®ç°åŸç†"><a href="#IoCå’ŒDIå®ç°åŸç†" class="headerlink" title="IoCå’ŒDIå®ç°åŸç†"></a>IoCå’ŒDIå®ç°åŸç†</h1><p>å…¶å®åœ¨äº†è§£å®Œ<code>Reflect.getMetadata</code>ï¼Œæˆ‘ä»¬å°±å¤§æ¦‚çŸ¥é“IoCå’ŒDIçš„å®ç°åŸç†ï¼Œæˆ‘ä»¬ä»¥ä¸€ä¸ª<code>@Controller</code>ä¸ºä¾‹, å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®ç°<code>@Controller</code>è£…é¥°å™¨å·¥å‚ï¼Œæ ‡è¯†å¾…æ³¨å…¥çš„ç±»</li>
<li>å®ç°IoCå®¹å™¨ï¼Œæ³¨å†Œè¦è¢«ä¾èµ–æ³¨å…¥çš„ç±»</li>
<li>è·å–å¾…æ³¨å…¥çš„ç±»å…¶æ„é€ å‡½æ•°æ‰€éœ€è¦çš„å‚æ•°ç±»å‹ï¼Œå¹¶å®ä¾‹åŒ–ï¼Œè¿”å›å¾…æ³¨å…¥çš„ç±»</li>
</ul>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®ç°Controllerè£…é¥°å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Controller</span>(<span class="params">path: <span class="built_in">string</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">target</span>)</span>&#123;</span><br><span class="line">        Reflect.defineMetadata(<span class="string">'Controller'</span>, path, target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦ä¾èµ–æ³¨å…¥çš„ç±»</span></span><br><span class="line"><span class="keyword">class</span> A()&#123;</span><br><span class="line">    say()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'aaaaaa'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•ç”¨</span></span><br><span class="line"><span class="meta">@Controller</span>(<span class="string">"/api"</span>)</span><br><span class="line"><span class="keyword">class</span> Demo()&#123;</span><br><span class="line">    construtor(a: A )&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = A;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    say()&#123;</span><br><span class="line">        <span class="keyword">this</span>.a.say();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°Iocå®¹å™¨å’ŒDIä¾èµ–æ³¨å…¥</span></span><br><span class="line"><span class="keyword">class</span> Container &#123;</span><br><span class="line">  provides = <span class="keyword">new</span> Map()</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ³¨å†Œè¦è¢«ä¾èµ–æ³¨å…¥ç±»ï¼Œå½¢æˆIoCå®¹å™¨ åç»­å¯ä»¥åš</span></span><br><span class="line">  addProvide(provider) &#123;</span><br><span class="line">    <span class="keyword">this</span>.provides.set(provider.name, provider)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ³¨å…¥ä¾èµ–ç±»</span></span><br><span class="line">  inject(target) &#123;</span><br><span class="line">      <span class="comment">// è·å–å‚æ•°ç±»å‹</span></span><br><span class="line">      <span class="keyword">const</span> paramTypes = Reflect.getMetadata(<span class="string">'design:paramtypes'</span>, target) || []</span><br><span class="line">      <span class="keyword">const</span> args = paramTypes.map(<span class="function">(<span class="params"><span class="keyword">type</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">type</span>() <span class="comment">// ç®€å•åšä¸€ä¸‹å®ä¾‹åŒ–</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> Reflect.construct(target, args)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> container = <span class="keyword">new</span> Container()</span><br><span class="line"><span class="keyword">const</span> project = container.inject(Project)</span><br><span class="line"></span><br><span class="line"><span class="comment">// projectå°±æ˜¯æœ€ç»ˆç”Ÿæˆè¿”å›ä½¿ç”¨çš„ç±»</span></span><br><span class="line"></span><br><span class="line">project.say(); <span class="comment">// è¾“å‡º aaaaaa</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥Nest.jså®ç°IoCå’ŒDIçš„æ ¸å¿ƒå®ç°åŸç†ï¼š</p>
<ul>
<li>é€šè¿‡è£…é¥°å™¨ç»™ class æˆ–è€…å¯¹è±¡æ·»åŠ  metadata</li>
<li>è¿è¡Œçš„æ—¶å€™é€šè¿‡è¿™äº›å…ƒæ•°æ®æ¥å®ç°ä¾èµ–çš„æ‰«æï¼Œå¯¹è±¡çš„åˆ›å»ºç­‰ç­‰åŠŸèƒ½</li>
</ul>
<p>å½“ç„¶ï¼Œè¿˜æœ‰å¾ˆå¤šé—®é¢˜æ²¡è§£å†³ï¼Œç›®å‰åªæ˜¯ç®€å•å®ç°äº†ä¾èµ–æ³¨å…¥ï¼Œä¸Šè¿°IoCçš„é—®é¢˜è¿˜æ²¡æœ‰è§£å†³ï¼Œç”±äºç¯‡å¹…è¾ƒé•¿ï¼Œæ‰€ä»¥æ‹†æˆå‡ ç¯‡ï¼Œæ”¾åˆ°åç»­ç»§ç»­ç ”ç©¶ã€‚</p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>å“åº”å¼å¸ƒå±€ä¸­å­¦ä¹ Flexbox</title>
    <url>/today/20230124.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>ä¹‹å‰ç ”ç©¶è¿‡ä¸€ç¯‡<a href="/2023/01/14/today/20220111/">ã€Šç§»åŠ¨ç«¯é€‚é…UIçš„å…¨éƒ¨è§£å†³æ–¹æ¡ˆå¯¹æ¯”ã€‹</a>ï¼Œé‡Œé¢ä¸»è¦é€šè¿‡å¸ƒå±€ä¸å˜ï¼Œæ”¹å˜å¸ƒå±€ç»„ä»¶å…ƒç´ çš„å¤§å°å»é€‚åº”ç§»åŠ¨ç«¯ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼å¯¹äºPCç«¯æˆ–è€…Padç­‰å¤§å±å¹•å¹¶ä¸é€‚åˆï¼Œæ‰€ä»¥ä»æƒ³æ‰¾æ‰¾çœ‹æ˜¯å¦æœ‰æ–°çš„æ–¹æ¡ˆèƒ½å¦æ»¡è¶³è·¨ç«¯è‡ªé€‚åº”å¸ƒå±€æ–¹å¼ã€‚</p>
<p>ç›®å‰åŒæ—¶è§£å†³PCç«¯å’Œç§»åŠ¨ç«¯çš„å“åº”å¼å¸ƒå±€çš„è§£å†³æ–¹æ¡ˆä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>é€šè¿‡<code>@media</code>åª’ä½“æŸ¥è¯¢å»è®¾ç½®ä¸åŒå°ºå¯¸çš„æ ·å¼</li>
<li>é€šè¿‡<code>Flexbox</code> <code>Grid</code>ç­‰ç°ä»£åŒ–å¸ƒå±€å»åšå“åº”å¼å¸ƒå±€</li>
</ul>
<a id="more"></a>

<h1 id="CSSæ’ç‰ˆå¸ƒå±€"><a href="#CSSæ’ç‰ˆå¸ƒå±€" class="headerlink" title="CSSæ’ç‰ˆå¸ƒå±€"></a>CSSæ’ç‰ˆå¸ƒå±€</h1><p>å…ˆç®€å•å†å¤ä¹ ä¸€ä¸‹cssæ˜¯ä»€ä¹ˆï¼š</p>
<blockquote>
<p>CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ç”¨äºè®¾ç½®å’Œå¸ƒç½®ç½‘é¡µâ€”â€”ä¾‹å¦‚ï¼Œæ›´æ”¹å†…å®¹çš„å­—ä½“ã€é¢œè‰²ã€å¤§å°å’Œé—´è·ï¼Œå°†å…¶æ‹†åˆ†ä¸ºå¤šä¸ªåˆ—çš„å¸ƒå±€ï¼Œæˆ–æ·»åŠ åŠ¨ç”»å’Œå…¶ä»–è£…é¥°åŠŸèƒ½ã€‚</p>
</blockquote>
<p>é™¤äº†åŸºç¡€æ ·å¼å’ŒåŠ¨ç”»å¤–ï¼ŒCSSæœ€å¤§çš„ä¸€ä¸ªåŠŸèƒ½å°±æ˜¯å‘Šè¯‰æµè§ˆå™¨åº”è¯¥æ€ä¹ˆå¯¹HTMLå…ƒç´ è¿›è¡Œæ’ç‰ˆå¸ƒå±€ã€‚</p>
<blockquote>
<p>CSS é¡µé¢å¸ƒå±€æŠ€æœ¯å…è®¸æˆ‘ä»¬æ‹¾å–ç½‘é¡µä¸­çš„å…ƒç´ ï¼Œå¹¶ä¸”æ§åˆ¶å®ƒä»¬ç›¸å¯¹æ­£å¸¸å¸ƒå±€æµã€å‘¨è¾¹å…ƒç´ ã€çˆ¶å®¹å™¨æˆ–è€…ä¸»è§†å£/çª—å£çš„ä½ç½®ã€‚</p>
</blockquote>
<p>ç›®å‰ï¼ŒCSSå¸ƒå±€åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li>æ­£å¸¸å¸ƒå±€æµï¼ŒFlow layoutï¼Œæµå¼å¸ƒå±€ï¼Œæ˜¯ç”±å—çº§ç›’å­(block)å’Œå†…è”ç›’å­(inline-block)ï¼Œå—çº§ç›’å­ä»ä¸Šè‡³ä¸‹æ’åˆ—ï¼Œæ¯ä¸ªå—çº§ç›’å­ä¼šç‹¬è‡ªå ä¸€è¡Œï¼Œå†…è”ç›’å­åˆ™ä¼šè¢«çˆ¶çº§å—çº§å…ƒç´ çš„å®½åº¦å†…ï¼Œå®ƒä»¬ä¸å…¶ä»–å†…è”å…ƒç´ ã€ç›¸é‚»çš„æ–‡æœ¬å†…å®¹ï¼ˆæˆ–è€…è¢«åŒ…è£¹çš„ï¼‰è¢«å®‰æ’åœ¨åŒä¸€è¡Œã€‚å¦‚æœç©ºé—´ä¸å¤Ÿï¼Œæº¢å‡ºçš„æ–‡æœ¬æˆ–å…ƒç´ å°†ç§»åˆ°æ–°çš„ä¸€è¡Œã€‚</li>
<li>å¼¹æ€§ç›’å­ï¼ŒFlexboxï¼Œä¸Flow layoutæœ€å¤§çš„ä¸åŒç‚¹åœ¨äºï¼Œå¼¹æ€§ç›’å­é»˜è®¤æ”¯æŒå†…éƒ¨å­å…ƒç´ ï¼ˆä¸ç®¡æ˜¯å—çº§è¿˜æ˜¯å†…è”ï¼‰æ°´å¹³å¯¹é½ï¼Œè¿˜æ”¯æŒç­‰é«˜ï¼Œä»è€Œä½¿å¾—å¾ˆå¤šå¸ƒå±€ä»»åŠ¡å˜å¾—æ›´åŠ å®¹æ˜“ã€‚åé¢æˆ‘ä»¬è¯¦ç»†è®²è§£ã€‚</li>
<li>ç½‘æ ¼ï¼ŒGridï¼Œæœ‰ç‚¹ç±»ä¼¼è¡¨æ ¼tableå¸ƒå±€ï¼Œç›¸æ¯”è¾ƒFlexboxï¼ŒGridæ›´åŠ å¼ºå¤§ï¼Œèƒ½é€‚ç”¨æ›´åŠ å¤æ‚çš„æ’ç‰ˆï¼Œå®ƒåŒ…å«äº†åˆ—(Columns)ã€è¡Œ(Row)ç­‰å¸ƒå±€ã€‚</li>
<li>æµ®åŠ¨ï¼ŒFloatï¼Œæœ€åˆåªç”¨äºåœ¨æˆå—çš„æ–‡æœ¬å†…æµ®åŠ¨å›¾åƒï¼Œä½†æ˜¯åæ¥å‘ç°å®ƒèƒ½å®ç°å¤æ‚çš„å¸ƒå±€ã€‚ä¸€ä¸ªæµ®åŠ¨å…ƒç´ ä¼šè¢«ç§»å‡ºæ­£å¸¸æ–‡æ¡£æµï¼Œé™„åˆ°å…¶çˆ¶å®¹å™¨çš„å·¦æˆ–å³è¾¹ï¼Œåœ¨æ­£å¸¸å¸ƒå±€ä¸­ä½äºè¯¥æµ®åŠ¨å…ƒç´ ä¹‹ä¸‹çš„å†…å®¹ï¼Œæ­¤æ—¶ä¼šå›´ç»•ç€æµ®åŠ¨å…ƒç´ ï¼Œå¡«æ»¡å…¶å·¦æˆ–å³ä¾§çš„ç©ºé—´ã€‚</li>
<li>å®šä½ï¼ŒPositionï¼Œæ­£å¸¸çš„æ–‡æ¡£æµå¸ƒå±€ä¸­å–å‡ºå…ƒç´ ï¼Œå¹¶ä½¿å®ƒä»¬å…·æœ‰ä¸åŒçš„è¡Œä¸ºï¼Œä¾‹å¦‚æ”¾åœ¨å¦ä¸€ä¸ªå…ƒç´ çš„ä¸Šé¢ï¼Œæˆ–è€…å§‹ç»ˆä¿æŒåœ¨æµè§ˆå™¨è§†çª—å†…çš„åŒä¸€ä½ç½®ã€‚</li>
<li>å¤šåˆ—å¸ƒå±€ï¼ŒColumnï¼Œæœ‰ç‚¹ç±»ä¼¼Gridï¼Œæ¯”Gridç®€å•ï¼Œåªæ˜¯ç®€å•å°†å®¹å™¨åˆ†å‰²æˆå‡ åˆ—(<code>column-count</code>)ï¼Œä¸”å¯ä»¥è®¾ç½®ï¼ˆ<code>column-width</code>ï¼‰æ¯ä¸€åˆ—çš„å®½åº¦</li>
</ul>
<h2 id="å…¶ä»–çŸ¥è¯†ç‚¹"><a href="#å…¶ä»–çŸ¥è¯†ç‚¹" class="headerlink" title="å…¶ä»–çŸ¥è¯†ç‚¹"></a>å…¶ä»–çŸ¥è¯†ç‚¹</h2><h3 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h3><p><code>BFC</code>(block formatting context)ï¼Œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ŒCSSä¸­åŸºäºboxçš„ä¸€ä¸ªå¸ƒå±€å¯¹è±¡å’Œå•ä½ï¼Œå®ƒæ˜¯é¡µé¢ä¸­çš„ä¸€å—æ¸²æŸ“åŒºåŸŸï¼Œå¹¶ä¸”æœ‰ä¸€å¥—æ¸²æŸ“è§„åˆ™ï¼Œå®ƒå†³å®šäº†å…¶å­å…ƒç´ å°†å¦‚ä½•å®šä½ï¼Œä»¥åŠå’Œå…¶ä»–å…ƒç´ çš„å…³ç³»å’Œç›¸äº’ä½œç”¨ã€‚</p>
<p>æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€å³ä¸ºBFC:</p>
<ol>
<li>floatçš„å€¼ä¸ä¸ºnone</li>
<li>positionçš„å€¼ä¸ä¸ºstaticæˆ–è€…relative</li>
<li>displayçš„å€¼ä¸º table-cell, table-caption, inline-block,flex, æˆ–è€… inline-flexä¸­çš„å…¶ä¸­ä¸€ä¸ªï¼Œç°ä»£åŒ–cssç”¨ <code>display:flow-root</code></li>
<li>overflowçš„å€¼ä¸ä¸ºvisible</li>
<li>æ ¹å…ƒç´ </li>
</ol>
<p>BFCæœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¸å½±å“å¤–éƒ¨å…ƒç´ ï¼Œå¤–éƒ¨å…ƒç´ ä¹Ÿå½±å“ä¸åˆ°å…¶å†…éƒ¨</li>
<li>è®¡ç®—BFCé«˜åº¦çš„æ—¶å€™ï¼Œæµ®åŠ¨å…ƒç´ çš„é«˜åº¦ä¹Ÿè®¡ç®—åœ¨å†…</li>
</ul>
<h3 id="å“åº”å¼è®¾è®¡"><a href="#å“åº”å¼è®¾è®¡" class="headerlink" title="å“åº”å¼è®¾è®¡"></a>å“åº”å¼è®¾è®¡</h3><blockquote>
<p>éšç€äººä»¬ä½¿ç”¨çš„å±å¹•å°ºå¯¸çš„ç§ç±»è¶Šæ¥è¶Šå¤šï¼Œå‡ºç°äº†<code>å“åº”å¼ç½‘é¡µè®¾è®¡çš„æ¦‚å¿µï¼ˆresponsive web designï¼ŒRWDï¼‰</code>ï¼ŒRWD æŒ‡çš„æ˜¯å…è®¸ Web é¡µé¢é€‚åº”ä¸åŒå±å¹•å®½åº¦å› ç´ ç­‰ï¼Œè¿›è¡Œå¸ƒå±€å’Œå¤–è§‚çš„è°ƒæ•´çš„ä¸€ç³»åˆ—å®è·µã€‚</p>
</blockquote>
<p>å“åº”å¼è®¾è®¡ä¸æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ–¹å¼æˆ–è€…ç†å¿µï¼Œå®ƒæŒ‡çš„æ˜¯ç½‘é¡µçš„å¸ƒå±€åº”è¯¥éšç€å±å¹•çš„å˜åŒ–è€Œè‡ªé€‚åº”æ”¹å˜ã€‚</p>
<h1 id="Flexbox"><a href="#Flexbox" class="headerlink" title="Flexbox"></a>Flexbox</h1><p>Flexboxï¼ŒFlexible Boxï¼Œ ä¿—ç§°å¼¹æ€§ç›’å­ï¼Œæ˜¯ä»ç½‘é¡µé»˜è®¤æµå¼å¸ƒå±€(Flow layout)è„±ç¦»å‡ºæ¥çš„ä¸€ç§å¸ƒå±€æ¨¡å¼ï¼Œå…¶çˆ¶å…ƒç´ å®¹å™¨è¿˜æ˜¯éµå¾ªFlow layoutï¼Œä½†æ˜¯Flexboxä¸­çš„å…ƒç´ éƒ½ä¼šéµå¾ªFlexboxæ–°çš„å¸ƒå±€æ–¹å¼ã€‚</p>
<blockquote>
<p>MDNä»‹ç»ï¼Œå¼¹æ€§ç›’å­æ˜¯ä¸€ç§ç”¨äºæŒ‰è¡Œæˆ–æŒ‰åˆ—å¸ƒå±€å…ƒç´ çš„ä¸€ç»´å¸ƒå±€æ–¹æ³•ã€‚å…ƒç´ å¯ä»¥è†¨èƒ€ä»¥å¡«å……é¢å¤–çš„ç©ºé—´ï¼Œæ”¶ç¼©ä»¥é€‚åº”æ›´å°çš„ç©ºé—´ã€‚</p>
</blockquote>
<p>Flexboxçš„å‡ºç°ä¸»è¦æ˜¯ä¸ºäº†è§£å†³Flow layoutå¸ƒå±€çš„ä¸€äº›æ— æ³•å¾ˆå¥½è§£å†³çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>ä¸€ä¸ªå­å…ƒç´ éœ€è¦å‚ç›´å±…ä¸­æ˜¾ç¤ºåœ¨å®¹å™¨ä¸­</li>
<li>å¤šä¸ªå­å…ƒç´ éœ€è¦æ°´å¹³å¹³å‡å¯¹é½åœ¨å®¹å™¨ä¸­ï¼Œä»¥åŠä¸€æ—¦å­å…ƒç´ è¶…è¿‡çˆ¶å®¹å™¨çš„å®½åº¦ï¼Œéœ€è¦è‡ªåŠ¨æ¢è¡Œ</li>
<li>æ‰€æœ‰å­å…ƒç´ éœ€è¦æ˜¾ç¤ºåŒæ ·çš„é«˜åº¦æˆ–è€…å®½åº¦</li>
</ul>
<p>æ‰€ä»¥å¼¹æ€§ç›’å­å…¶å®æ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p>
<ul>
<li>å®¹å™¨ï¼Œéœ€è¦è®¾ç½®ä¸º<code>display:flex</code>ï¼Œç”¨æ¥æ§åˆ¶å­å…ƒç´ å†…çš„å¸ƒå±€</li>
<li>å­å…ƒç´ ï¼Œéµå¾ªFlexå¸ƒå±€æ–¹å¼æ‰€æ§åˆ¶ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æŒ‰ç…§Flexå¸ƒå±€åšä¸€äº›è°ƒæ•´</li>
</ul>
<p><strong>åŒæ—¶éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼ŒFlexboxå¼¹æ€§ç›’å­å†…ï¼Œå…ƒç´ çš„å®½åº¦ä¸å†æ˜¯è‡ªèº«æ‰€è®¾å®šçš„å®½åº¦ï¼Œè€Œæ˜¯ä¼šæ ¹æ®å®¹å™¨è®¾ç½®çš„è§„åˆ™è€Œå‘ç”Ÿå˜åŒ–ã€‚</strong></p>
<p>å®ç°ä¸€ä¸ªå¼¹æ€§ç›’å­ï¼Œå…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦è®¾ç½®å®¹å™¨çš„<code>display:flex</code>ï¼Œå³å¯å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.container</span>&#123;</span></span><br><span class="line">    display: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.item</span>&#123;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item1"</span>&gt;</span>item1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item2"</span>&gt;</span>item1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item3"</span>&gt;</span>item1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Flexboxçš„ä¸¤æ¡è½´"><a href="#Flexboxçš„ä¸¤æ¡è½´" class="headerlink" title="Flexboxçš„ä¸¤æ¡è½´"></a>Flexboxçš„ä¸¤æ¡è½´</h2><p>è¦äº†è§£Flexboxï¼Œé¦–å…ˆå¾—çŸ¥é“ç›’å­å†…éƒ¨æ˜¯æŒ‰ç…§ä¸¤æ¡è½´å»è¿›è¡Œå¸ƒå±€ï¼Œåˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li>ä¸»è½´ï¼ŒPrimary axisï¼Œå­å…ƒç´ å°†æŒ‰ç…§è¯¥è½´çš„æ–¹å‘è¿›è¡Œæ’ç‰ˆå¸ƒå±€</li>
<li>æ¨ªè½´ï¼ŒCross axisï¼Œå­å…ƒç´ é»˜è®¤ä¼šæŒ‰ç…§è¯¥è½´çš„å®½é«˜åº¦å»æ‹‰ä¼¸è‡ªå·±æœ¬èº«çš„å®½åº¦é«˜</li>
</ul>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/assets/img/20230124-1.png" alt></p>
<p>é‚£ä¹ˆFlexboxçš„å±æ€§è®¾ç½®ï¼Œä¸»è¦å°±æ˜¯å›´ç»•è¿™ä¸¤ä¸ªè½´ï¼Œåˆ†åˆ«è°ƒæ•´å®¹å™¨å†…éƒ¨å­å…ƒç´ çš„å¯¹é½æ–¹å‘ï¼Œå­å…ƒç´ çš„åœ¨è½´çš„ä½ç½®ï¼Œè½´ä¹‹é—´çš„é—´éš”ç­‰ã€‚</p>
<h2 id="Flexboxçš„å±æ€§"><a href="#Flexboxçš„å±æ€§" class="headerlink" title="Flexboxçš„å±æ€§"></a>Flexboxçš„å±æ€§</h2><p>å½“ç„¶Flexå¸ƒå±€çš„å®¹å™¨è¿˜æ”¯æŒå…¶ä»–è®¾ç½®å±æ€§ï¼š</p>
<ul>
<li>flex-direction è®¾ç½®å­å…ƒç´ çš„å¯¹é½æ–¹å‘ï¼Œå¦‚ï¼šå‚ç›´(column)ã€æ°´å¹³(row)</li>
<li>justify-content æ§åˆ¶å­å…ƒç´ ä¸»è½´å¯¹é½æ–¹å‘</li>
<li>align-items æ§åˆ¶å­å…ƒç´ æ¨ªè½´å¯¹é½æ–¹å‘</li>
<li>gap è®¾ç½®å­å…ƒç´ çš„é—´éš”è·ç¦»</li>
<li>order è®¾ç½®å­å…ƒç´ å±•ç¤ºé¡ºåºï¼Œå¿½ç•¥htmlçš„é¡ºåº</li>
<li>flex-wrap å­å…ƒç´ è¶…è¿‡å®¹å™¨å¤§å°åæ˜¯å¦æ¢è¡Œ</li>
</ul>
<p>å­å…ƒç´ ä¹Ÿå¯ä»¥è®¾ç½®è‡ªèº«å±æ€§ï¼š</p>
<ul>
<li>flex-grow è®¾ç½®å­å…ƒç´ æ˜¯å¦å ç”¨å‰©ä½™ç©ºé—´ï¼Œå¦‚æœå­å…ƒç´ éƒ½è®¾ç½®äº†ï¼Œåˆ™ä¼šæŒ‰ç…§è®¾ç½®æ•°å­—å¤§å°å»åšå ç”¨æ¯”ä¾‹</li>
<li>flex-basis å­å…ƒç´ å¼¹æ€§å®½åº¦æˆ–è€…é«˜åº¦è®¾ç½®ï¼Œå½“å®¹å™¨ç©ºé—´è¶³å¤Ÿï¼Œåˆ™ä¼šæŒ‰ç…§æ­¤å±æ€§è®¾ç½®ï¼Œå¦‚æœç©ºé—´ä¸å¤Ÿï¼Œåˆ™ä¼šå æ®å‰©ä½™çš„ç©ºé—´</li>
<li>flex-shrink å½“å­å…ƒç´ å ç”¨ç©ºé—´æ¯”å®¹å™¨å¤§ï¼Œé»˜è®¤ä¼šæŒ‰ç…§å­å…ƒç´ å æ®æ¯”ä¾‹è¿›è¡Œç¼©æ”¾ï¼Œè¯¥å±æ€§å¯ä»¥æ”¹å˜è¢«å‹ç¼©æ¯”ä¾‹å¤§å°</li>
<li>align-self å­å…ƒç´ æ§åˆ¶è‡ªå·±æ¨ªè½´å¯¹é½æ–¹å‘</li>
<li>margin å­å…ƒç´ è®¾ç½®autoåï¼Œå¯ä»¥è¾¾åˆ°ç±»ä¼¼<code>justify-content</code> æˆ– <code>align-items</code>çš„æ•ˆæœ</li>
</ul>
<p>æ‰€æœ‰å±æ€§è®¾ç½®demoå¯ä»¥æŸ¥çœ‹<a href="/code/flex/demo.html">Flexboxå¸ƒå±€å±æ€§è®¾ç½®demo</a>ã€‚</p>
<h2 id="Flexboxçš„å“åº”å¼å¸ƒå±€"><a href="#Flexboxçš„å“åº”å¼å¸ƒå±€" class="headerlink" title="Flexboxçš„å“åº”å¼å¸ƒå±€"></a>Flexboxçš„å“åº”å¼å¸ƒå±€</h2><p>å…¶å®äº†è§£Flexboxå¸ƒå±€ï¼Œå…¶å®å†å»å®ç°å“åº”å¼å¸ƒå±€ï¼Œå…¶å®å·²ç»æ²¡æœ‰é‚£ä¹ˆéš¾äº†ï¼Œä¸éœ€è¦<code>@media</code>åª’ä½“æŸ¥è¯¢é‚£ä¹ˆéº»çƒ¦ä¸€ä¸ªä¸ªè®¾ç½®å¯¹åº”å±å¹•å°ºå¯¸ï¼Œåªéœ€è¦æŒ‰ç…§ä»¥ä¸‹å‡ ä¸ªå±æ€§å»è®¾ç½®å¯¹åº”çš„å³å¯å®Œæˆå“åº”å¼å¸ƒå±€ï¼š</p>
<ul>
<li>è®¾ç½®ä¸€ä¸ªFlexå®¹å™¨ï¼Œé¢„å…ˆè®¾ç½®å¥½å½“å­å…ƒç´ åœ¨ä¸åŒå±å¹•çš„å±•ç¤ºæ’ç‰ˆ</li>
<li>åˆ©ç”¨<code>flex-wrap: wrap;</code> å…è®¸å­å…ƒç´ è‡ªåŠ¨æ¢è¡Œ</li>
<li>åœ¨è®¾ç½®ä¸åŒå­å…ƒç´ <code>flex-basis</code> <code>flex-grow</code> å æ®å®¹å™¨å æ¯”</li>
<li>è®¾ç½®å­å…ƒç´ <code>flex-shrink</code>æ˜¯å¦ç¼©æ”¾ï¼Œä»è€Œé¿å…å…ƒç´ è¢«å‹ç¼©çš„å¯¼è‡´å¸ƒå±€å±•ç¤ºä¸å¯¹</li>
<li>è®¾ç½®å­å…ƒç´ çš„æœ€å°å®½åº¦<code>min-width</code>ï¼Œä»è€Œé¿å…å…ƒç´ è¢«å‹ç¼©å¤ªå°</li>
</ul>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://www.joshwcomeau.com/css/interactive-guide-to-flexbox/" target="_blank" rel="noopener">Flexbox äº¤äº’å¼æŒ‡å—</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>:hasä¼ªç±»çš„åˆ°æ¥å»¶ä¼¸åˆ°å…¶ä»–ä¼ªå…ƒç´ å’Œä¼ªç±»çš„åŒºåˆ«</title>
    <url>/today/20230128.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘ä»ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„CSSåº”ç”¨ï¼Œå°±æ˜¯çº¯ç”¨CSSä¹Ÿèƒ½æ˜¯çˆ¶å­æ ‘å±•ç¤ºï¼Œå…·ä½“æ•ˆæœå¦‚ä¸‹ï¼š</p>
<ul class="tree">
  <li>
    <details open>
      <summary style="display: list-item;">ç›®å½•èŠ‚ç‚¹1</summary>
      <ul>
        <li>
          <details>
            <summary style="display: list-item;">èŠ‚ç‚¹1</summary>
            <ul>
              <li>å­èŠ‚ç‚¹1-1</li>
              <li>å­èŠ‚ç‚¹1-2</li>
            </ul>
          </details>
        </li>
        <li>
          <details>
            <summary style="display: list-item;">èŠ‚ç‚¹2</summary>
            <ul>
              <li>å­èŠ‚ç‚¹2-1</li>
              <li>å­èŠ‚ç‚¹2-2</li>
            </ul>
          </details>
        </li>
      </ul>
    </details>
  </li>
</ul>

<p>ç„¶åé‡Œé¢å…³è”åˆ°ä¸€ç¯‡æ–°é—»ï¼Œå°±æ˜¯<code>:has</code>ä¼ªå…ƒç´ çš„å‡ºç°ä¼šç»™CSSå¸¦æ¥æå¤§çš„å˜åŠ¨ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Œä¸å°±æ˜¯ä¸€ä¸ªCSSä¼ªå…ƒç´ å—ï¼Ÿå› æ­¤å»äº†è§£ä¸€ä¸‹ï¼Œæ‰å‘ç°è¿™ä¸ªä¼ªå…ƒç´ ç¡®å®ä¸ä¸€æ ·ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>å¯ä»¥é€‰æ‹©çˆ¶çº§å…ƒç´ ï¼Œ <code>a:has(&gt; img)</code>ï¼ŒåŒ…å«<code>imgå…ƒç´ </code>çš„<code>aå…ƒç´ </code></li>
<li>å¯ä»¥é€‰æ‹©å…„å¼Ÿå…ƒç´ ï¼Œ <code>h1:has(+ p)</code>ï¼Œåé¢ä¸º<code>på…ƒç´ </code>çš„<code>h1å…ƒç´ </code></li>
</ul>
<p>ä¸ºä»€ä¹ˆæœ‰äº†å®ƒä¹‹åï¼ŒCSSä¼šæœ‰å¤§å˜åŠ¨ï¼Œå› ä¸ºä»¥å¾€æˆ‘ä»¬çš„æ ·å¼éƒ½æ˜¯ç›´æ¥é€‰æ‹© å…ƒç´  æˆ–è€… å­å…ƒç´  æˆ–è€… åé¢çš„å…ƒç´ ï¼Œå¦‚æœè¦é€‰æ‹©çˆ¶å…ƒç´ æˆ–å‰é¢çš„å…ƒç´ åªèƒ½é€šè¿‡å‘½åè§„èŒƒå»ç¡®å®šï¼Œæ¯”å¦‚ä¸Šè¿°ä¸¤ä¸ªä¾‹å­ï¼š</p>
<ul>
<li><code>a:has(&gt; img)</code>ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡<code>a.has-img</code>ç±»ä¼¼æ ·å¼å»å‘½å</li>
<li><code>h1:has(+ p)</code>ï¼Œåªèƒ½é€šè¿‡<code>h1.next-p</code>ç±»ä¼¼æ ·å¼å»å‘½å</li>
</ul>
<p>å¤§æ¦‚æ¸…æ¥šå®ƒèƒ½å¸¦æ¥çš„å˜åŒ–ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯¦ç»†äº†è§£ä¸€ä¸‹å®ƒã€‚</p>
<a id="more"></a>

<h1 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h1><p>åœ¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:has" target="_blank" rel="noopener">MDN</a>é‡Œæ˜¯è¿™ä¹ˆå®šä¹‰<code>:has()</code>çš„:</p>
<blockquote>
<p>CSS å‡½æ•°å¼ä¼ªç±» <code>:has()</code> è¡¨ç¤ºä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœä½œä¸ºå‚æ•°ä¼ é€’çš„ä»»ä½•ç›¸å¯¹é€‰æ‹©å™¨åœ¨é”šå®šåˆ°è¯¥å…ƒç´ æ—¶ï¼Œè‡³å°‘åŒ¹é…ä¸€ä¸ªå…ƒç´ ã€‚è¿™ä¸ªä¼ªç±»é€šè¿‡æŠŠå¯å®¹é”™ç›¸å¯¹é€‰æ‹©å™¨åˆ—è¡¨ä½œä¸ºå‚æ•°ï¼Œæä¾›äº†ä¸€ç§é’ˆå¯¹å¼•ç”¨å…ƒç´ é€‰æ‹©çˆ¶å…ƒç´ æˆ–è€…å…ˆå‰çš„å…„å¼Ÿå…ƒç´ çš„æ–¹æ³•ã€‚</p>
</blockquote>
<p>ä½ å¯ä»¥è¿™ä¹ˆç†è§£<code>h1:has(+ p)</code>ä¼ªå…ƒç´ :</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼Œä¼šå…ˆç­›é€‰<code>h1</code>å…ƒç´ åˆ—è¡¨ï¼Œå¦‚æœåˆ—è¡¨é•¿åº¦å¤§äº1æ‰ä¼šæ‰§è¡Œhas()</li>
<li>ç¬¬äºŒæ­¥ï¼Œæ‰§è¡Œ<code>+ p</code>ï¼Œå°±æ˜¯åˆ¤æ–­<code>h1</code>å…ƒç´ åˆ—è¡¨ä¸­å“ªäº›å…ƒç´ çš„ä¸‹ä¸ªå…ƒç´ ä¸º<code>p</code></li>
<li>ç¬¬ä¸‰æ­¥ï¼Œå°†ç­›é€‰åçš„å…ƒç´ åˆ—è¡¨è¿”å›</li>
</ul>
<p>å†ç®€å•ç‚¹è¯´å°±æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œè¿‡æ»¤æ¡ä»¶å¯ä»¥æ˜¯ä»»æ„CSSè¡¨è¾¾å¼ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>é™¤äº†ä¸Šè¿°çš„åœºæ™¯å¤–ï¼Œ<code>:has()</code> è¿˜å¯ä»¥åšä»¥ä¸‹å‡ ä¸ªåœºæ™¯ï¼š</p>
<ul>
<li>ä¸<code>:is()</code> <code>:not()</code> ç»“åˆä½¿ç”¨ï¼Œå¦‚ï¼š<code>is:(h1, h2, h3):has(+ :not(h2,h3, h4))</code> </li>
<li>è¡¨å•å¿…å¡«é¡¹, ç»™æ¯ä¸ªå¿…å¡«é¡¹å¢åŠ â€*â€â€æ–‡å­—ï¼Œä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">label</span><span class="selector-pseudo">:has(+input</span><span class="selector-pseudo">:required)</span><span class="selector-pseudo">::before</span>&#123;</span></span><br><span class="line">  content: '*';</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>ç”¨æˆ·å<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>å¤‡æ³¨<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<div style="border:1px solid #ccc;margin:20px;padding:20px;">
<style>
label:has(+input:required)::before{
  content: '*';
  color: red;
  width:1em;
  display:inline-block;
}
</style>
<form>
  <div style="margin:10px">
    <label style="display:inline-block;width:4em; text-align:right;">ç”¨æˆ·å</label>
    <input required>
  </div>
  <div style="margin:10px">
    <label style="display:inline-block;width:4em; text-align:right;">å¤‡æ³¨</label>
    <input>
  </div>
</form>
</div>


<h1 id="ä¼ªç±»ä¸ä¼ªå…ƒç´ "><a href="#ä¼ªç±»ä¸ä¼ªå…ƒç´ " class="headerlink" title="ä¼ªç±»ä¸ä¼ªå…ƒç´ "></a>ä¼ªç±»ä¸ä¼ªå…ƒç´ </h1><p>äº†è§£å®Œ<code>:has()</code>ä¼ªç±»ï¼Œé‚£ä¹ˆæ¥å¤ä¹ ä¸€ä¸‹CSSä¸­çš„å…¶ä»–ä¼ªç±»ä¸ä¼ªå…ƒç´ ã€‚</p>
<h2 id="ä¼ªç±»"><a href="#ä¼ªç±»" class="headerlink" title="ä¼ªç±»"></a>ä¼ªç±»</h2><p>ä¼ªå…ƒç´ ï¼Œåˆç§°ä¸ºä¼ªç±»ï¼Œæ˜¯æ·»åŠ åˆ°CSSé€‰æ‹©å™¨ä¸Šçš„å…³é”®å­—ï¼Œç»™æŒ‡å®šDOMå…ƒç´ æ·»åŠ ç‰¹æ®ŠçŠ¶æ€ã€‚MDNæ˜¯è¿™ä¹ˆå®šä¹‰çš„ï¼š</p>
<blockquote>
<p>CSS ä¼ªç±»æ˜¯æ·»åŠ åˆ°é€‰æ‹©å™¨çš„å…³é”®å­—ï¼Œç”¨äºæŒ‡å®šæ‰€é€‰å…ƒç´ çš„ç‰¹æ®ŠçŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œä¼ªç±» :hover å¯ä»¥ç”¨äºé€‰æ‹©ä¸€ä¸ªæŒ‰é’®ï¼Œå½“ç”¨æˆ·çš„æŒ‡é’ˆæ‚¬åœåœ¨æŒ‰é’®ä¸Šæ—¶ï¼Œè®¾ç½®æ­¤æŒ‰é’®çš„æ ·å¼ã€‚ â€”â€”<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Pseudo-classes" target="_blank" rel="noopener">MDN ä¼ªç±»</a></p>
</blockquote>
<p>ä¼ªç±»ä¸€èˆ¬ç»„æˆä¸ºä¸¤éƒ¨åˆ†ï¼š <code>:</code> + <code>ä¼ªç±»å</code>ï¼ŒæŒ‰ç…§ä¼ªç±»çš„åŠŸèƒ½è¿›è¡Œåˆ’åˆ†ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<ul>
<li>å…ƒç´ æ˜¾ç¤ºçŠ¶æ€ä¼ªç±»ï¼Œå¦‚ï¼š<code>:fullscreen</code> <code>:hover</code></li>
<li>è¾“å…¥çŠ¶æ€ä¼ªç±»ï¼Œå¦‚ï¼š<code>:focus</code> <code>:actived</code></li>
<li>è¯­è¨€çš„ä¼ªç±»ï¼Œå¦‚ï¼š<code>:lang()</code></li>
<li>ä½ç½®ä¼ªç±»ï¼Œå¦‚ï¼š<code>:left</code></li>
<li>èµ„æºçŠ¶æ€ä¼ªç±»ï¼Œå¦‚ï¼š<code>:playing</code> <code>:paused</code></li>
<li>æ—¶é—´æ–¹é¢çš„ä¼ªç±»</li>
<li>æ ‘ç»“æ„çš„ä¼ªç±»ï¼Œå¦‚ï¼š <code>:nth-child()</code></li>
<li>ç”¨æˆ·è¡Œä¸ºä¼ªç±»ï¼Œå¦‚ï¼š<code>:actived</code></li>
<li>å‡½æ•°å¼ä¼ªç±»ï¼Œå¦‚ï¼š<code>:where</code> <code>:is</code> <code>:not</code></li>
</ul>
<p>å…¶å®æˆ‘ä»¬çœŸæ­£åœ¨ä½¿ç”¨çš„æ²¡æœ‰å‡ ä¸ªï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶è¦é‡ç‚¹å…³æ³¨ä¸€ä¸‹ï¼Œèƒ½åŠ å¿«æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œæ¯”å¦‚ï¼šå…ƒç´ æ˜¾ç¤ºçŠ¶æ€ä¼ªç±»ï¼Œç”¨æˆ·è¡Œä¸ºä¼ªç±», å‡½æ•°å¼ä¼ªç±»ç­‰</p>
<h2 id="ä¼ªå…ƒç´ "><a href="#ä¼ªå…ƒç´ " class="headerlink" title="ä¼ªå…ƒç´ "></a>ä¼ªå…ƒç´ </h2><blockquote>
<p>ä¼ªå…ƒç´ æ˜¯ä¸€ä¸ªé™„åŠ è‡³é€‰æ‹©å™¨æœ«çš„å…³é”®è¯ï¼Œå…è®¸ä½ å¯¹è¢«é€‰æ‹©å…ƒç´ çš„ç‰¹å®šéƒ¨åˆ†ä¿®æ”¹æ ·å¼ã€‚â€”â€”<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Pseudo-elements" target="_blank" rel="noopener">ä¼ªå…ƒç´  MDN</a></p>
</blockquote>
<p>ä»å‘½åä¸Šä½ å°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œä¼ªå…ƒç´ å…¶å®æ˜¯ä¸€ä¸ªç±»ä¼¼çš„å…ƒç´ ä¸œè¥¿ï¼Œè™½ç„¶æœ‰éƒ¨åˆ†å†™æ³•å¯ä»¥æ”¹å˜æ ·å¼ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†è¿˜æ˜¯ç»™CSSé€‰æ‹©å™¨å¯¹åº”å…ƒç´ å¢åŠ å…ƒç´ ï¼Œæ¯”è¾ƒå¸¸è§çš„ä¼ªå…ƒç´ æœ‰ï¼š</p>
<p>è€Œä¸”ä»ä¹¦å†™è§„èŒƒæ¥è®²ï¼Œä¼ªå…ƒç´ ä¸º<code>::</code>+<code>ä¼ªå…ƒç´ å</code>ï¼Œæ¯”è¾ƒå¸¸è§çš„ä¼ªå…ƒç´ æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><code>::before</code> ç»™å…ƒç´ æ·»åŠ æœ€å‰é¢æ·»åŠ ä¸€ä¸ªå­ä¼ªå…ƒç´ </li>
<li><code>::after</code> ç»™å…ƒç´ æ·»åŠ æœ€åé¢æ·»åŠ ä¸€ä¸ªå­ä¼ªå…ƒç´ </li>
<li><code>::first-line</code> é€‰æ‹©å…ƒç´ ç¬¬ä¸€ä¸ª</li>
<li><code>::placeholder</code> ä¿®æ”¹æœ‰<code>placehodler</code>çš„æ ·å¼</li>
</ul>
<p>éƒ¨åˆ†demoä»£ç æµ‹è¯•æ¡ˆä¾‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.article-inner</span>  <span class="selector-tag">p</span><span class="selector-class">.demo-20230108</span><span class="selector-pseudo">::first-line</span> &#123; <span class="attribute">color</span>:<span class="number">#f00</span> &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.article-inner</span>  <span class="selector-tag">p</span><span class="selector-class">.demo-20230108</span><span class="selector-pseudo">::first-letter</span> &#123; <span class="attribute">text-transform</span>: uppercase &#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width:400px; padding:20px; border:1px solid;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">'demo-20230108'</span> <span class="attr">style</span>=<span class="string">"word-break:break-all"</span>&gt;</span>abcdefg,é¦–å­—æ¯è¦å¤§å†™ï¼Œç„¶åç¬¬ä¸€è¡Œæ˜¯è¦çº¢è‰²çš„å­—ä½“ï¼Œæ¢è¡Œåå°±å˜æˆæ­£å¸¸çš„ï¼Œè¿™é‡Œæ˜¯ä¸€æ®µå¾ˆé•¿çš„æµ‹è¯•æ–‡å­—ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<style>
    .article-inner  p.demo-20230108::first-line { color:#f00 }
    .article-inner  p.demo-20230108::first-letter { text-transform: uppercase }
</style>
<div style="width:400px; padding:20px; border:1px solid;">
    <p class="demo-20230108" style="word-break:break-all">abcdefg,é¦–å­—æ¯è¦å¤§å†™ï¼Œç„¶åç¬¬ä¸€è¡Œæ˜¯è¦çº¢è‰²çš„å­—ä½“ï¼Œæ¢è¡Œåå°±å˜æˆæ­£å¸¸çš„ï¼Œè¿™é‡Œæ˜¯ä¸€æ®µå¾ˆé•¿çš„æµ‹è¯•æ–‡å­—ã€‚</p>
</div>

<h2 id="ä¸¤è€…åŒºåˆ«"><a href="#ä¸¤è€…åŒºåˆ«" class="headerlink" title="ä¸¤è€…åŒºåˆ«"></a>ä¸¤è€…åŒºåˆ«</h2><p>åªæœ‰ä¸€å¥è¯ï¼š <code>ä¸ä¼ªå…ƒç´ æ¯”è¾ƒï¼Œä¼ªç±»èƒ½å¤Ÿæ ¹æ®çŠ¶æ€æ”¹å˜å…ƒç´ æ ·å¼ã€‚</code></p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://www.zhangxinxu.com/wordpress/2022/08/css-has-pseudo-class/" target="_blank" rel="noopener">CSS :has()ä¼ªç±»å¥¹æ¥äº†</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»nullã€undefinedã€NaNçš„åŒºåˆ«äº†è§£JSçš„åŸå‹é“¾</title>
    <url>/today/20230129.html</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç”±äºåœ¨é¢è¯•ç»å¸¸ä¼šé‡åˆ°é—®é¢˜nullï¼Œundefinedï¼ŒNaNä¹‹é—´çš„åŒºåˆ«ï¼Œå› æ­¤æƒ³è¦æ·±å…¥ä¸”ç³»ç»Ÿäº†è§£ä¸€ä¸‹è¿™äº›ä»£è¡¨ç©ºä¹‹é—´çš„åŒºåˆ«ï¼Œä»¥åŠå®ƒä»¬åº•å±‚çš„åŸç†â€”â€”åŸå‹é“¾ï¼ŒåŒæ—¶è¿˜è¦ææ˜ç™½<code>__proto__</code>å’Œ<code>prototype</code>åˆ†åˆ«æ˜¯ä»€ä¹ˆã€‚</p>
<p>ä¸ºäº†æ›´å¥½ç³»ç»Ÿçš„ç†è§£nullï¼Œundefinedï¼ŒNaNä¹‹é—´çš„åŒºåˆ«å’Œå…³ç³»ï¼Œæˆ‘ä»¬éœ€è¦ä»Javascriptè¯­è¨€è®¾è®¡åº•å±‚å»ç†è§£ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ªç©ºå€¼éœ€è¦è®¾è®¡è¿™ä¹ˆå¤šä¸ªã€‚ä¸ºä»€ä¹ˆä¸èƒ½åƒJavaï¼Œä¸€ä¸ªnullå°±å¯ä»¥æ»¡è¶³ï¼Ÿ</p>
<p>æˆ‘ä»¬å…ˆç®€å•è®¤è¯†ä¸‰è€…ï¼š</p>
<ul>
<li><code>undefined</code> è¡¨ç¤ºåŸå§‹å€¼undefinedã€‚å®ƒæ˜¯ä¸€ä¸ª JavaScript çš„ åŸå§‹æ•°æ®ç±»å‹ </li>
<li><code>null</code> ç‰¹æŒ‡å¯¹è±¡çš„å€¼æœªè®¾ç½®ã€‚å®ƒæ˜¯ JavaScript åŸºæœ¬ç±»å‹ ä¹‹ä¸€ã€‚</li>
<li><code>NaN</code> æ˜¯ä¸€ä¸ªè¡¨ç¤ºéæ•°å­—çš„å€¼</li>
</ul>
<p>æ¥ä¸‹æ¥ä¸»è¦ä»ä»¥ä¸‹ä¸¤ä¸ªç‚¹å»è®¤è¯†nullï¼Œundefinedï¼ŒNaNä¹‹é—´çš„åŒºåˆ«å’Œå…³ç³»ï¼š</p>
<ul>
<li>æ•°æ®ç±»å‹ <code>typeof</code></li>
<li><code>===</code> åˆ¤æ–­</li>
<li>åŸå‹ <code>prototype</code></li>
</ul>
<a id="more"></a>

<h1 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h1><p>åœ¨Javascriptä¸­ï¼Œ<code>typeof</code>å¯ä»¥åˆ¤æ–­å‡ºå½“å‰å˜é‡çš„æ•°æ®ç±»å‹ï¼Œä¸»è¦ä»¥ä¸‹å‡ ç§æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li><code>typeof undefined</code>ï¼Œè¾“å‡º <code>undefined</code></li>
<li><code>typeof NaN</code>ï¼Œè¾“å‡º <code>number</code></li>
<li><code>typeof null</code> è¾“å‡º <code>object</code></li>
</ul>
<p>ä»ä¸Šé¢çš„ç»“æœå¯ä»¥å¾—çŸ¥ <code>undefined</code>åœ¨JavaScriptä¸­æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œè€Œ<code>NaN</code>å’Œ<code>null</code>åˆ™æ˜¯æŸç§æ•°æ®ç±»å‹çš„å€¼ã€‚</p>
<p>ä½†æ˜¯åœ¨JSåœ¨å®šä¹‰åŸºç¡€æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹é›†ä¸­ç§ï¼š</p>
<ul>
<li><code>number</code> æ•°å­—ç±»å‹ï¼ŒåŒ…æ‹¬æ•°å­— å’Œ NaN</li>
<li><code>string</code> å­—ç¬¦ä¸²ç±»å‹</li>
<li><code>boolean</code> å¸ƒå°”ç±»å‹ åŒ…æ‹¬: true å’Œ false</li>
<li><code>undefined</code> undefinedæœªå®šä¹‰ç±»å‹</li>
<li><code>null</code>  nullç©ºæ•°æ®ç±»å‹</li>
<li><code>bigint</code> ES2020æ–°å®šä¹‰ BigIntå¤§æ•´æ•°ç±»å‹ï¼Œä¸»è¦ç”¨æ¥è§£å†³å¤§äº 2^53 - 1 çš„æ•´æ•°ï¼Œå¦‚ï¼š<code>const theBiggestInt = 9007199254740991n; const alsoHuge = BigInt(9007199254740991);</code></li>
<li><code>symbol</code> ES6å®šä¹‰ Symbolç±»å‹ï¼Œåº”ç”¨åœºæ™¯ï¼šè§£å†³å±æ€§å‘½åå”¯ä¸€æ€§çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸€ä¸ªobjecté‡Œæœ‰ä¸¤ä¸ªå±æ€§åéƒ½ä¸€æ ·ï¼Œä½†æ˜¯åˆ†åˆ«å¯¹ä¸åŒçš„æ„æ€ï¼Œå¯ä»¥é€šè¿‡Symbolç±»å‹å»è§£å†³ï¼Œå¦‚ï¼š<code>a = Symbol(&#39;test&#39;); b = Symbol(&#39;test&#39;);obj = {[a]: &#39;test&#39;, [b]: &#39;test&#39;}</code></li>
</ul>
<p>åŒæ—¶typeofè¿ç®—ç¬¦è¿˜å¯ä»¥è¿”å›ä»¥ä¸‹ä¸¤ç§ç±»å‹ï¼š</p>
<ul>
<li><code>function</code> å‡½æ•°ç±»å‹ï¼Œæ–°çš„<code>class</code>ä¹Ÿæ˜¯è¿”å›<code>function</code></li>
<li><code>object</code> é™¤äº†ä»¥ä¸Šç±»å‹ï¼Œå…¶ä»–å¯¹è±¡ç»Ÿä¸€è¿”å›<code>object</code></li>
</ul>
<p>å› æ­¤ <code>null</code>è¢«å•ç‹¬å½’ç±»æˆä¸€ç§åŸºç¡€æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆ<code>typeof null</code> å¾—åˆ°çš„å´æ˜¯ <code>object</code>ï¼Ÿ</p>
<h2 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h2><p>å…ˆäº†è§£ä¸€ä¸‹typeofæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<blockquote>
<p>typeofæ˜¯ä¸€ä¸ªæ“ä½œç¬¦è€Œä¸æ˜¯å‡½æ•°ï¼Œç”¨æ¥æ£€æµ‹ç»™å®šå˜é‡çš„æ•°æ®ç±»å‹ã€‚</p>
</blockquote>
<p>typeofæ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œå’Œ <code>+</code> <code>-</code> <code>=</code> ç¬¦å·ä¸€æ ·ï¼Œåªæ˜¯ç”¨äº†<code>typeof</code>å­—æ¯è¿›è¡Œæ ‡è¯†è€Œå·²ï¼Œç±»ä¼¼è¿˜æœ‰ï¼š<code>delete</code> <code>void</code> <code>in</code> <code>instanceof</code>ç­‰ã€‚</p>
<p>ä½¿ç”¨typeoféœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>typeof æ“ä½œç¬¦çš„ä¼˜å…ˆçº§é«˜äºåŠ æ³•ï¼ˆ+ï¼‰ç­‰äºŒè¿›åˆ¶æ“ä½œç¬¦ã€‚å› æ­¤ï¼Œéœ€è¦ç”¨æ‹¬å·æ¥è®¡ç®—åŠ æ³•ç»“æœçš„ç±»å‹ã€‚ å¦‚ï¼š<code>typeof someData + &quot; Wisen&quot;; // &quot;number Wisen&quot;</code> <code>typeof (someData + &quot; Wisen&quot;); // &quot;string&quot;</code></li>
<li>typeof é€šå¸¸æ€»æ˜¯ä¿è¯ä¸ºå®ƒæä¾›çš„ä»»ä½•æ“ä½œæ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å³ä½¿ä½¿ç”¨æœªå£°æ˜çš„æ ‡è¯†ç¬¦ï¼Œtypeof ä¹Ÿä¼šè¿”å› â€œundefinedâ€ï¼Œè€Œä¸æ˜¯æŠ›å‡ºé”™è¯¯ã€‚ ä½†æ˜¯åœ¨<code>let</code> <code>const</code>å£°æ˜çš„å˜é‡ï¼Œä½¿ç”¨ typeof ä¼šæŠ›å‡ºä¸€ä¸ª ReferenceErrorã€‚å› ä¸º<code>let</code> <code>const</code>å£°æ˜çš„å˜é‡å—ä½œç”¨åŸŸå˜é‡åœ¨å—çš„å¤´éƒ¨å¤„äºâ€œæš‚å­˜æ­»åŒºâ€ã€‚</li>
<li><code>typeof document.all === &#39;undefined&#39;; // true</code> å› ä¸ºæ‰€æœ‰æµè§ˆå™¨éƒ½å…¬å¼€äº†ä¸€ä¸ªç±»å‹ä¸º undefined çš„éæ ‡å‡†å®¿ä¸»å¯¹è±¡ <code>document.all</code>ï¼Œä½†æ˜¯ <code>document.all</code> ä¸ç­‰äº <code>undefined</code>ï¼Œè¿™ç§æƒ…å†µå‡ºç°æ˜¯åœ¨ Web æ ‡å‡†ä¸­ï¼Œdocument.all å…·æœ‰ â€œundefinedâ€ ç±»å‹çš„æƒ…å†µè¢«å½’ç±»ä¸ºâ€œæ•…æ„è¿åâ€åŸå§‹ ECMAScript Web å…¼å®¹æ€§æ ‡å‡†ã€‚</li>
<li>typeof å¹¶ä¸èƒ½æ£€æŸ¥å‡ºæ‰€æœ‰çš„ç±»å‹ï¼Œåªèƒ½æ£€æŸ¥å‡ºä¸Šè¿°æ‰€è¯´çš„8ç§ï¼Œé’ˆå¯¹å…¶ä»–ç±»å‹å¯ä»¥é€šè¿‡åŸå‹é“¾å»åˆ¤æ–­è·å–ï¼Œå¦‚ï¼š <code>Object.prototype.toString.call(x)</code> <code>x.constructor.name</code></li>
</ul>
<h3 id="typeof-å·¥ä½œåŸç†"><a href="#typeof-å·¥ä½œåŸç†" class="headerlink" title="typeof å·¥ä½œåŸç†"></a>typeof å·¥ä½œåŸç†</h3><p>é‚£ä¹ˆtypeofçœŸæ­£æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿ</p>
<ul>
<li>é¦–å…ˆï¼Œä¼šå°†æ‰€è¿ç®—çš„å˜é‡æ•°æ®åœ¨åº•å±‚è½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œè€Œåœ¨Javascriptè®¾è®¡ä¸­ï¼Œæ˜¯åˆ©ç”¨äºŒè¿›åˆ¶å‰ï¼ˆä½ï¼‰ä¸‰ä½å­˜å‚¨å…¶ç±»å‹ä¿¡æ¯ï¼Œå¦‚ï¼š000: å¯¹è±¡ï¼Œ1ï¼šæ•´æ•°ï¼Œ 100ï¼šå­—ç¬¦ä¸²ç­‰</li>
<li>å…¶æ¬¡ï¼Œnullå­˜å‚¨èµ·æ¥è½¬æˆäºŒè¿›åˆ¶ä¸º<code>0000000000000000</code>ï¼Œé‚£ä¹ˆæŒ‰ç…§JSçš„è®¾è®¡åŸåˆ™ï¼Œ ä½ä¸‰ä½ä¸º<code>000</code>åˆ™ä»£è¡¨å¯¹è±¡</li>
<li>å› æ­¤ï¼Œnullåœ¨typeofè®¡ç®—åï¼Œä¼šç›´æ¥è¿”å›<code>object</code></li>
</ul>
<p>PSï¼š æ³¨æ„ç»†èŠ‚ï¼Œ <code>undefined</code>ï¼šç”¨ - ï¼ˆâˆ’2^30ï¼‰è¡¨ç¤ºã€‚</p>
<p>è¿™é‡Œå¼•ç”¨ä¸€ä¸‹<a href="https://github.com/justjavac" target="_blank" rel="noopener">è¿·æ¸¡ justjavac</a>è€å¸ˆçš„å‡ ä¸ªè§£é‡Šï¼š</p>
<p><a href="https://segmentfault.com/q/1010000011846328" target="_blank" rel="noopener">JavaScriptä¸­typeofåŸç†æ¢ç©¶ï¼Ÿ</a><br><a href="https://www.zhihu.com/question/62732293/answer/201723301" target="_blank" rel="noopener">v8å¼•æ“æ˜¯å¦‚ä½•çŸ¥é“jsæ•°æ®ç±»å‹çš„ï¼Ÿ</a></p>
<h1 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="===è¿ç®—ç¬¦"></a>===è¿ç®—ç¬¦</h1><p>è¦è®²ä¸‰è€…çš„åŒºåˆ«ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼å°±æ˜¯é€šè¿‡ <code>===</code> å…¨ç­‰è¿ç®—ç¬¦ï¼Œå®ƒä»¬çš„è¡¨ç°å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>null === null // true</code> </li>
<li><code>undefined === undefined // true</code></li>
<li><code>NaN === NaN // false</code></li>
</ul>
<p>å‰ä¸¤è€…æ¯”è¾ƒå¥½ç†è§£ï¼Œæ¯•ç«Ÿéƒ½æ˜¯ç­‰äºè‡ªèº«ï¼Œä½†æ˜¯<code>NaN</code>ä¸ç­‰äº<code>NaN</code>å°±å¾ˆå®¹æ˜“ç»™äººå¸¦æ¥è¯¯è§£ã€‚</p>
<p>è¿™é‡Œå°±éœ€è¦å…ˆè§£é‡Š<code>===</code>å’Œ<code>==</code>çš„åŒºåˆ«ï¼š</p>
<ul>
<li>==ï¼Œ ä¸¤è¾¹å€¼ç±»å‹ä¸åŒçš„æ—¶å€™ï¼Œè¦å…ˆè¿›è¡Œç±»å‹è½¬æ¢ï¼Œå†æ¯”è¾ƒä¸¤è€…çš„å€¼ã€‚</li>
<li>===ï¼Œä¸åšç±»å‹è½¬æ¢ï¼Œç±»å‹ä¸åŒçš„ä¸€å®šä¸ç­‰ï¼Œç„¶åå¯¹æ¯”ä¸¤è€…çš„å€¼ã€‚</li>
</ul>
<p>å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°<code>===</code>çš„å®ç°è¿‡ç¨‹ï¼š</p>
<ul>
<li>å…ˆåˆ¤æ–­ä¸¤è€…çš„æ•°æ®ç±»å‹æ˜¯å¦ä¸€è‡´</li>
<li>å†åˆ¤æ–­ä¸¤è€…æ˜¯å¦ä¸ºåŸºç¡€æ•°æ®ç±»å‹ï¼Œå¦‚æœæ˜¯æ•°å­—ç±»å‹è¿˜éœ€è¦åˆ¤æ–­ä¸¤è€…æ˜¯å¦æœ‰ä¸ºNaNï¼Œå¦‚æœæ²¡æœ‰è¿”å›trueï¼Œå…¶ä»–åŸºç¡€ç±»å‹ç›´æ¥å¯¹æ¯”å€¼</li>
<li>å¦‚æœæ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå¦‚ï¼šobjectæˆ–functionï¼Œåˆ™åˆ¤æ–­å®ƒä»¬çš„å¼•ç”¨å¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªï¼Œå¦‚ï¼š<code>a = function(){}; b= a; c=a; b===c;</code></li>
</ul>
<h2 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h2><blockquote>
<p>NaN å³ Not a Number ï¼Œä»£è¡¨è¯¥å€¼ä¸æ˜¯ä¸€ä¸ªæ•°å­—numberç±»å‹</p>
</blockquote>
<p>é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­<code>NaN</code>å€¼å‘¢ï¼Ÿç­”æ¡ˆæ˜¯é€šè¿‡<code>isNaN(x)</code>æˆ–è€…<code>Number.isNaN(x)</code>å‡½æ•°å»åˆ¤æ–­ï¼Œè¿™é‡Œä¹Ÿæœ‰å‘å°±æ˜¯<code>Number.isNaN(x)</code> ä¸ä¼šå¼ºåˆ¶è½¬æ¢<code>x</code>ä¸º<code>number</code>,åªæ˜¯ä¼šåˆ¤æ–­xæ˜¯å¦ä¸º<code>NaN</code></p>
<p>ä¸ºä»€ä¹ˆJSè¦è®¾è®¡ä¸€ç›´<code>NaN</code>å€¼ï¼Ÿ ä¸ªäººçŒœæµ‹æ˜¯å› ä¸ºJSæ˜¯ä¸€é—¨å¼±ç±»å‹è¯­è¨€ï¼Œå®ƒæ”¯æŒç±»å‹ä¹‹é—´äº’ç›¸è½¬æ¢ï¼Œå…¶ä»–åŸºç¡€æ•°æ®ç±»å‹éƒ½å¯ä»¥ç›´æ¥è½¬æ¢æˆ–è€…æŠ¥ç±»å‹é”™è¯¯ï¼Œä½†æ˜¯åœ¨<code>number</code>ä¸ºäº†æ›´å¥½å…¼å®¹åŠ å‡ä¹˜é™¤è¿ç®—ç¬¦ï¼Œè®¾è®¡ä¸€ä¸ªå€¼ä¸ºNaN(éæ•°å­—)ï¼Œå½“å€¼æ— æ³•è½¬æ¢<code>number</code>ç±»å‹ï¼Œå°†è¿”å›NaNã€‚</p>
<p><strong>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦äº†è§£<code>NaN</code>ä¸<code>Infinity</code>çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li>NaNï¼Œæ˜¯Not a Numberçš„ç¼©å†™ï¼Œä¸æ˜¯ä¸€ä¸ªæ•°å­—çš„æ„æ€ã€‚</li>
<li>Infinityï¼Œæ˜¯æŒ‡æ— ç©·å¤§çš„æ•°å­—ï¼Œåé¢å¯ä»¥ç”¨BigIntæ•°æ®ç±»å‹ä»£æ›¿ã€‚</li>
</ul>
<h1 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h1><p>å¦‚æœè¦äº†è§£åˆ°ä¸‰è€…çš„æœ¬è´¨ï¼Œä»ä¸‰è€…çš„åŸå‹å»åŒºåˆ†ï¼š</p>
<ul>
<li><code>Object.prototype.toString.call(undefined) // [object Undefined]</code>ï¼ŒåŸå‹ä¸ºè‡ªå·±æœ¬èº«æˆ–è€…æ²¡æœ‰åŸå‹ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªåŸºç¡€æ•°æ®ç±»å‹ï¼Œä¸”æ˜¯å…¨å±€å¯¹è±¡(window)çš„ä¸€ä¸ªå±æ€§ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå®ä¾‹åŒ–çš„å¯¹è±¡</li>
<li><code>Object.prototype.toString.call(null) // [object Null]</code>ï¼Œ åŸå‹ä¸ºè‡ªå·±æœ¬èº«ï¼Œå› ä¸ºå®ƒæ˜¯åŸå‹é“¾ä¸Šçš„æœ€åä¸€ä¸ª</li>
<li><code>Object.prototype.toString.call(null) // [object Number]</code>ï¼ŒåŸå‹ä¸º<code>Number</code>ï¼Œå› ä¸ºå®ƒæ˜¯å±äº<code>Numberç±»å‹</code></li>
</ul>
<p>é‚£ä¹ˆä»€ä¹ˆæ˜¯åŸå‹å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬éœ€è¦æ˜ç™½åŸå‹æ˜¯æ€ä¹ˆå‡ºç°çš„ï¼Œæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</p>
<blockquote>
<p>åŸå‹æœºåˆ¶ï¼Œæ˜¯JSè¯­è¨€å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ç»§æ‰¿ç‰¹æ€§æ˜¯è®¾è®¡çš„ä¸€ç§æœºåˆ¶ï¼Œè¿™ç§ç»§æ‰¿æœºåˆ¶ä¸ç»å…¸çš„é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€çš„ç»§æ‰¿æœºåˆ¶ä¸åŒã€‚<br>ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå®ç°å¯¹è±¡ç»§æ‰¿ï¼Œé€šè¿‡æ˜¯å®šä¹‰ä¸€ä¸ªçˆ¶ç±»ï¼Œå¦‚æœæœ‰ä¸ªå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œé‚£ä¹ˆåœ¨å­ç±»åœ¨å®ä¾‹åŒ–ï¼Œä¼šå°†çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•éƒ½å¤åˆ¶ä¸€ä»½åˆ°å­ç±»çš„å®ä¾‹ä¸­<br>è€ŒåŸå‹æœºåˆ¶æ˜¯æ¯ä¸ªå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¯¹è±¡ä»¥å…¶åŸå‹ä¸ºæ¨¡æ¿ã€ä»åŸå‹ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ã€‚åŸå‹å¯¹è±¡ä¹Ÿå¯èƒ½æ‹¥æœ‰åŸå‹ï¼Œå¹¶ä»ä¸­ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ï¼Œä¸€å±‚ä¸€å±‚ã€ä»¥æ­¤ç±»æ¨ï¼Œæœ€ç»ˆå½¢æˆ<code>åŸå‹é“¾ (prototype chain)</code>ã€‚<br>è¿™äº›å±æ€§å’Œæ–¹æ³•å®šä¹‰åœ¨ Object çš„æ„é€ å™¨å‡½æ•° (constructor functions) ä¹‹ä¸Šçš„prototypeå±æ€§ä¸Šï¼Œè€Œéå¯¹è±¡å®ä¾‹æœ¬èº«</p>
</blockquote>
<p>å¦‚ä½•ç†è§£å‘¢ï¼Ÿä¸‹é¢é€šè¿‡ä¸€ä¸‹å‡ ä¸ªç‚¹ï¼š</p>
<ul>
<li>newä¸€ä¸ªå¯¹è±¡çš„å…¨è¿‡ç¨‹</li>
<li>å¦‚ä½•å®ç°ç»§æ‰¿ï¼Ÿä»¥åŠç»§æ‰¿ä¸­çš„åŸå‹é“¾ï¼Ÿ</li>
</ul>
<p>ä½†æ˜¯åœ¨ææ¸…æ¥šè¿™ä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£JSåŸå‹ä¸­ç»å¸¸ä¼šæ··æ·†ä¸¤ä¸ªå±æ€§ï¼Œ<code>prototype</code>å’Œ<code>__proto__</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå¼„æ˜ç™½è¿™ä¸¤ä¸ªå±æ€§åˆ†åˆ«æ˜¯åšä»€ä¹ˆçš„ã€‚</p>
<h2 id="prototypeå’Œproto"><a href="#prototypeå’Œproto" class="headerlink" title="prototypeå’Œproto"></a>prototypeå’Œ<strong>proto</strong></h2><blockquote>
<p>åœ¨JSé‡Œï¼Œä¸‡ç‰©çš†å¯¹è±¡ã€‚æ–¹æ³•ï¼ˆFunctionï¼‰æ˜¯å¯¹è±¡ï¼Œæ–¹æ³•çš„åŸå‹(Function.prototype)æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œå®ƒä»¬éƒ½ä¼šå…·æœ‰å¯¹è±¡å…±æœ‰çš„ç‰¹ç‚¹ã€‚<br>é‚£ä¹ˆåªè¦æ˜¯å¯¹è±¡å°±ä¼šæœ‰å±æ€§<code>__proto__</code>ï¼Œç§°ä¸ºéšå¼åŸå‹ï¼Œä¸€ä¸ªå¯¹è±¡çš„éšå¼åŸå‹æŒ‡å‘æ„é€ è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡<code>prototype</code>ã€‚</p>
</blockquote>
<p>ä¸ºäº†æ›´å¥½çš„ç†è§£ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç å’Œå¯¹åº”åŸå‹å…³ç³»å›¾å»å¯¹æ¯”äº†è§£ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">A = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">a = <span class="keyword">new</span> A();</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç <code>prototype</code>å’Œ<code>__proto__</code>çš„å…³ç³»å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/assets/img/20230130-1.png" alt></p>
<p>é€šè¿‡ä¸Šå›¾æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ™°çš„çŸ¥é“ä¸¤è€…çš„åŒºåˆ«ï¼š</p>
<ul>
<li><code>prototype</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåªæœ‰å‡½æ•°æ‰æœ‰ï¼Œå®ä¾‹åŒ–åçš„å˜é‡æ˜¯æ²¡æœ‰çš„ï¼Œä¸”<code>prototype</code>åŸå‹å…è®¸æ‰©å±•å‡½æ•°çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼Œä»è€Œè®©å®ä¾‹åŒ–åçš„å¯¹è±¡è¿›è¡Œä½¿ç”¨ï¼Œå†è€…å°±æ˜¯<code>prototype</code>æ—¢ç„¶æ˜¯å¯¹è±¡é‚£ä¹ˆå®ƒè‡ªå·±ä¹Ÿä¼šæœ‰<code>__proto__</code>å±æ€§</li>
<li><code>__proto__</code>æ˜¯å®ä¾‹åŒ–å¯¹è±¡åæ‹¥æœ‰çš„å±æ€§ï¼Œå®ƒçš„å€¼ä¸»è¦æŒ‡å‘è¯¥å¯¹è±¡æ„é€ å‡½æ•°çš„åŸå‹<code>prototype</code>ï¼Œä»è€Œå½¢æˆ<code>åŸå‹é“¾</code></li>
<li>å½“ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡åœ¨è°ƒç”¨æŸæ–¹æ³•æˆ–æŸå±æ€§æ—¶ï¼Œä¼šå…ˆåˆ¤æ–­<code>__proto__</code>çš„<code>prototype</code>å¯¹è±¡ä¸Šæ˜¯å¦æœ‰ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå¾€ä¸‹ä¸€å±‚<code>__proto__</code>å»å¯»æ‰¾</li>
</ul>
<h2 id="newçš„å®ç°è¿‡ç¨‹"><a href="#newçš„å®ç°è¿‡ç¨‹" class="headerlink" title="newçš„å®ç°è¿‡ç¨‹"></a>newçš„å®ç°è¿‡ç¨‹</h2><p>demoä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">A = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">a = <span class="keyword">new</span> A();</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆåœ¨è¿™ä¸€ä¸ªè¿‡ç¨‹ä¸­ï¼Œjsåœ¨åº•å±‚ä¸­ï¼Œåšäº†å“ªäº›äº‹æƒ…å‘¢ï¼Ÿ é€šè¿‡ä¸Šå›¾æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šçš„çŸ¥é“ï¼š</p>
<ul>
<li>åˆ›å»ºå…¨æ–°çš„å‡½æ•°Aå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</li>
<li>ç„¶åå°†å¯¹è±¡çš„<strong>proto</strong>æŒ‡å‘æ„é€ å‡½æ•°çš„prototype</li>
<li>å°†å¯¹è±¡çš„thisæŒ‡å‘åˆ°è°ƒç”¨æ–¹çš„this</li>
<li>å¦‚æœå‡½æ•°æ— è¿”å›å¯¹è±¡ç±»å‹Objectï¼Œåˆ™è¿”å›è¯¥å‡½æ•°å¯¹è±¡</li>
</ul>
<h2 id="ç»§æ‰¿ä¸åŸå‹é“¾"><a href="#ç»§æ‰¿ä¸åŸå‹é“¾" class="headerlink" title="ç»§æ‰¿ä¸åŸå‹é“¾"></a>ç»§æ‰¿ä¸åŸå‹é“¾</h2><p>ç»§æ‰¿å…¶å®åœ¨ES6åæ¥è¯´å·²ç»å¾ˆç®€å•äº†ï¼Œå› ä¸ºå®šä¹‰äº†<code>class</code>å’Œ<code>extends</code>ç­‰è¯­æ³•ç³–ï¼Œæ‰€ä»¥ä¸éœ€è¦å†åƒä¹‹å‰é€šè¿‡åŸå‹å»è§£å†³ï¼Œä½†æ˜¯ä¸ºäº†æ›´å¥½çš„äº†è§£åŸå‹é“¾ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°è¯•ä¸€ä¸‹å‡ ç§ES5æ—¶ä»£å®ç°ç»§æ‰¿çš„æ–¹å¼ã€‚</p>
<h3 id="åŸå‹æŒ‡å‘å®ç°"><a href="#åŸå‹æŒ‡å‘å®ç°" class="headerlink" title="åŸå‹æŒ‡å‘å®ç°"></a>åŸå‹æŒ‡å‘å®ç°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="string">'test'</span>;</span><br><span class="line">&#125;</span><br><span class="line">A.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// éœ€è¦å°†Açš„å±æ€§ç»§æ‰¿</span></span><br><span class="line">    A.call(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">B.prototype.__proto__ = A.prototype;</span><br><span class="line"><span class="comment">// æ€è€ƒä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆè¦å°†éšæ€§åŸå‹æŒ‡å‘Aï¼Ÿ</span></span><br><span class="line">B.__proto__ = A;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> B();</span><br><span class="line"></span><br><span class="line">b.a; <span class="comment">// test</span></span><br><span class="line">b.say(); <span class="comment">// test</span></span><br><span class="line"></span><br><span class="line">b <span class="keyword">instanceof</span> B; <span class="comment">// true</span></span><br><span class="line">b <span class="keyword">instanceof</span> A; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œéœ€è¦æ³¨æ„å‡ ä¸ªç‚¹ï¼š</p>
<ol>
<li>åœ¨Bæ„é€ å‡½æ•°é‡Œå®ç°<code>A.call(this)</code>ï¼Œæ˜¯å› ä¸ºéœ€è¦å°†Aå‡½æ•°å®ç°ä¸€éï¼Œä¸”Aä¸­thisæŒ‡å‘çš„å±æ€§ç»‘å®šBå‡½æ•°ä¸­</li>
<li><code>B.prototype.__proto__ = A.prototype</code>è¿™è¡Œæ˜¯ç»§æ‰¿Açš„æ–¹æ³•ï¼Œåç»­å¦‚æœè¦é‡å†™ç›¸åŒæ–¹æ³•éœ€è¦æ”¾åœ¨è¿™è¡Œä»£ç åé¢</li>
<li><code>B.__proto__ = A</code> å¦‚æœæ²¡æœ‰è¿™è¡Œä»£ç ï¼Œè²Œä¼¼ä¸Šé¢çš„ç»“æœå¹¶ä¸ä¼šæœ‰å¤ªå¤šå¼‚å¸¸ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦è¿™è¡Œä»£ç å‘¢ï¼Ÿ(ç­‰å¾…åç»­è§£é‡Š)</li>
</ol>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™é‡Œå†æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨æ•°æ®ç±»å‹ä¸Šï¼Œä¸‰è€…çš„åŒºåˆ«ä¸»è¦æ˜¯ï¼š</p>
<ul>
<li><code>undefined</code> æ˜¯ä¸€ç§åŸºç¡€æ•°æ®ç±»å‹ï¼Œå¯ä»¥é€šè¿‡<code>typeof</code>ç›´æ¥è¯†åˆ«</li>
<li><code>null</code> è™½ç„¶ä¹Ÿæ˜¯ä¸€ç§åŸºç¡€æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ç”±äº<code>typeof</code>ä»ä¸€å¼€å§‹å®ç°æœºåˆ¶é—®é¢˜ï¼Œ<code>typeof null</code>ä¸€ç›´é—ç•™ä¸‹æ¥è¿”å›çš„<code>object</code></li>
<li><code>NaN</code> æ˜¯<code>number</code>æ•°æ®ç±»å‹çš„ä¸€ä¸ªå€¼ï¼Œä»£è¡¨æ— æ³•è¯†åˆ«ä¸ºæ•°å­—ç±»å‹çš„å€¼ï¼Œå¦‚ï¼š<code>Number(&#39;abc&#39;) // NaN</code></li>
</ul>
<p>åœ¨ <code>===</code> è¿ç®—ç¬¦å·ä¸Šï¼ŒåŒºåˆ«ä¸»è¦æ˜¯ï¼š</p>
<ul>
<li><code>undefined</code>ï¼Œå¯ä»¥ç­‰äºä»»ä½•å€¼ä¸º<code>undefined</code>çš„å˜é‡</li>
<li><code>null</code>ï¼Œå¯ä»¥ç­‰äºä»»ä½•å€¼ä¸º<code>null</code>çš„å˜é‡</li>
<li><code>NaN</code>ï¼Œä¸ç­‰äºä»»ä½•å€¼çš„å˜é‡ï¼Œåªèƒ½é€šè¿‡<code>isNaN</code>å‡½æ•°åˆ¤æ–­</li>
</ul>
<p>ä»åŸå‹ä¸Šå»äº†è§£ä¸‰è€…ï¼Œä»–ä»¬æœ¬è´¨å°±å®Œå…¨ä¸åŒï¼š</p>
<ul>
<li><code>undefined</code>ï¼ŒåŸå‹ä¸ºè‡ªå·±æœ¬èº«æˆ–è€…æ²¡æœ‰åŸå‹</li>
<li><code>null</code>ï¼ŒåŸå‹ä¸ºè‡ªå·±</li>
<li><code>NaN</code>ï¼ŒåŸå‹ä¸ºNumber</li>
</ul>
<p>åŒæ—¶æˆ‘ä»¬ä¹Ÿæ¸…æ¥šçš„è®¤è¯†åˆ°JSä¸­åŸå‹å’ŒåŸå‹é“¾ï¼ŒåŸå‹æ˜¯JSè®¾è®¡å®ç°é¢å‘å¯¹è±¡çš„ä¸€ç§æœºåˆ¶ï¼Œä¸»è¦é€šè¿‡ä¸¤ä¸ªä¸œè¥¿å®ç°åŸå‹å¯¹è±¡<code>prototype</code>å’Œéšæ€§åŸå‹<code>__proto__</code>å®ç°ï¼Œè¿™ä¸¤è€…ä¸»è¦å…³ç³»åœ¨äºï¼š</p>
<ul>
<li>éšæ€§åŸå‹<code>__proto__</code>æ˜¯ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡åçš„å±æ€§ï¼Œä¼šæŒ‡å‘å£°æ˜è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡<code>prototype</code></li>
<li>åŸå‹å¯¹è±¡<code>prototype</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€èˆ¬åªæœ‰å‡½æ•°æ‰ä¼šæœ‰ï¼Œå®ƒé€šå¸¸åŒ…æ‹¬<code>constructor</code>æ„é€ å‡½æ•°æŒ‡å‘å‡½æ•°æœ¬èº«ï¼Œä»¥åŠå…¶ä»–æ‰©å±•æ–¹æ³•å’Œå±æ€§ï¼ŒåŒæ—¶å®ƒæœ¬èº«ä¹Ÿæ‹¥æœ‰<code>__proto__</code>éšæ€§åŸå‹å±æ€§</li>
</ul>
<p>å½“ç„¶JSçš„åŸå‹å’ŒåŸå‹é“¾å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œä¸ä»…ä»…åªæ˜¯å®ç°ç»§æ‰¿è¿™ä¹ˆç®€å•ï¼Œåç»­æˆ‘ä»¬è¿˜éœ€è¦å…³æ³¨åŸå‹é“¾å®‰å…¨é—®é¢˜ï¼Œåç»­è¯·çœ‹<a href="/2023/01/06/today/20220203/">ã€ŠJSåŸå‹é“¾æ±¡æŸ“æ˜¯æ€ä¹ˆå›äº‹ã€‹</a>ã€‚</p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoç½‘ç«™æé«˜SEOä¼˜åŒ–æ–¹æ³•</title>
    <url>/today/20230131.html</url>
    <content><![CDATA[<h1 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h1><ul>
<li>æ·»åŠ ç«™ç‚¹åœ°å›¾ <code>sitemap.xml</code>æ–‡ä»¶å’Œæœç´¢æœºå™¨äººæ–‡ä»¶<code>robots.txt</code></li>
<li>æäº¤ç«™ç‚¹åˆ°æœç´¢å¼•æ“(ç™¾åº¦å’Œè°·æ­Œ)</li>
<li>hexoé’ˆå¯¹æœç´¢çš„ä¼˜åŒ–</li>
</ul>
<h2 id="æ·»åŠ ç«™ç‚¹åœ°å›¾"><a href="#æ·»åŠ ç«™ç‚¹åœ°å›¾" class="headerlink" title="æ·»åŠ ç«™ç‚¹åœ°å›¾"></a>æ·»åŠ ç«™ç‚¹åœ°å›¾</h2><h3 id="æ·»åŠ ç«™ç‚¹åœ°å›¾-sitemap-xml"><a href="#æ·»åŠ ç«™ç‚¹åœ°å›¾-sitemap-xml" class="headerlink" title="æ·»åŠ ç«™ç‚¹åœ°å›¾ sitemap.xml"></a>æ·»åŠ ç«™ç‚¹åœ°å›¾ <code>sitemap.xml</code></h3><ol>
<li><p>æ·»åŠ hexoæ’ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹<code>_config.yml</code>é…ç½®</p>
</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sitemap:</span> </span><br><span class="line"><span class="attr">  path:</span> <span class="string">sitemap.xml</span></span><br><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure>

<h3 id="æœç´¢æœºå™¨äººæ–‡ä»¶robots-txt"><a href="#æœç´¢æœºå™¨äººæ–‡ä»¶robots-txt" class="headerlink" title="æœç´¢æœºå™¨äººæ–‡ä»¶robots.txt"></a>æœç´¢æœºå™¨äººæ–‡ä»¶<code>robots.txt</code></h3><p>åœ¨sourceç›®å½•ä¸‹æ–°å»º<code>robots.txt</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /categories/</span><br><span class="line">Allow: /tags/ </span><br><span class="line">Allow: /resources/ </span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /js/</span><br><span class="line">Disallow: /css/</span><br><span class="line">Disallow: /fonts/</span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /fancybox/</span><br><span class="line"></span><br><span class="line">Sitemap: https://hoxis.github.io/sitemap.xml</span><br><span class="line">Sitemap: https://hoxis.github.io/baidusitemap.xml</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h2 id="æäº¤ç«™ç‚¹"><a href="#æäº¤ç«™ç‚¹" class="headerlink" title="æäº¤ç«™ç‚¹"></a>æäº¤ç«™ç‚¹</h2><ul>
<li><a href="https://search.google.com/search-console?utm_source=about-page&resource_id=https://qborfy.com/" target="_blank" rel="noopener">è°·æ­ŒSearch Console</a>  ç›´æ¥æŒ‰ç…§å¼•å¯¼æ·»åŠ å³å¯<code>sitemap.xml</code>æ–‡ä»¶</li>
<li><a href="https://ziyuan.baidu.com/linksubmit/url" target="_blank" rel="noopener">ç™¾åº¦ç«™é•¿å¹³å°</a>  æŒ‰ç…§å…¶å¼•å¯¼æäº¤ç«™ç‚¹å³å¯ï¼Œä¸»è¦æ˜¯<code>sitemap.xml</code>æ–‡ä»¶</li>
</ul>
<h2 id="hexoä¼˜åŒ–å»ºè®®"><a href="#hexoä¼˜åŒ–å»ºè®®" class="headerlink" title="hexoä¼˜åŒ–å»ºè®®"></a>hexoä¼˜åŒ–å»ºè®®</h2><ul>
<li>å‡ºç«™é“¾æ¥æ·»åŠ <code>nofollow</code>æ ‡ç­¾</li>
<li>æ·»åŠ å…³é”®å­—ï¼Œä¸»è¦åœ¨æ–‡ç« é¦–éƒ¨åœ°æ–¹æ·»åŠ <code>keywords</code>å’Œ<code>description</code></li>
<li>ä¿®æ”¹åšæ–‡é“¾æ¥ï¼Œå°†hexoé»˜è®¤<code>domain/year/month/day/postname</code>æ”¹ä¸º<code>title</code></li>
</ul>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://hoxis.github.io/Hexo+Next%20SEO%E4%BC%98%E5%8C%96.html" target="_blank" rel="noopener">Hexoåšå®¢Nextä¸»é¢˜SEOä¼˜åŒ–æ–¹æ³•</a></p>
]]></content>
      <tags>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>csså˜é‡äº†è§£åˆ°é¡¹ç›®è½åœ°</title>
    <url>/today/20230208.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘åœ¨æ‰“å¼€ä¸€äº›ç½‘ç«™çš„ï¼ŒæŸ¥çœ‹å…¶CSSæ ·å¼çš„æ—¶å€™ï¼Œå‘ç°å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/assets/img/20230208-1.png" alt></p>
<p>æ‰€ä»¥å°±å¾ˆå¥½å¥‡ï¼ŒåŸæ¥ç°åœ¨CSSæ ·å¼å˜é‡å·²ç»å¯ä»¥æ­£å¼æŠ•å…¥ç”Ÿäº§ä½¿ç”¨äº†ï¼Œæ‰€ä»¥å¸Œæœ›èƒ½å¤Ÿåšä¸ªç®€å•äº†è§£ã€‚</p>
<p>æµè§ˆå™¨çš„å…¼å®¹æ€§ï¼š<br><img src="/assets/img/20230208-2.png" alt></p>
<a id="more"></a>

<h1 id="CSSå˜é‡var"><a href="#CSSå˜é‡var" class="headerlink" title="CSSå˜é‡var()"></a>CSSå˜é‡var()</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><blockquote>
<p>è‡ªå®šä¹‰å±æ€§ï¼ˆæœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä½œCSS å˜é‡æˆ–è€…çº§è”å˜é‡ï¼‰æ˜¯ç”± CSS ä½œè€…å®šä¹‰çš„ï¼Œå®ƒåŒ…å«çš„å€¼å¯ä»¥åœ¨æ•´ä¸ªæ–‡æ¡£ä¸­é‡å¤ä½¿ç”¨ã€‚ç”±è‡ªå®šä¹‰å±æ€§æ ‡è®°è®¾å®šå€¼ï¼ˆæ¯”å¦‚ï¼š â€“main-color: black;ï¼‰ï¼Œç”± var() å‡½æ•°æ¥è·å–å€¼ï¼ˆæ¯”å¦‚ï¼š color: var(â€“main-color);ï¼‰</p>
</blockquote>
<p>é€šä¿—çš„è¯´ï¼Œå°±æ˜¯CSSä»¥åä¸éœ€è¦ç”¨<code>less</code>æˆ–<code>css</code>ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨å˜é‡å»å®šä¹‰ä¸€äº›å¸¸ç”¨å€¼ã€‚</p>
<h2 id="æ€ä¹ˆç”¨"><a href="#æ€ä¹ˆç”¨" class="headerlink" title="æ€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨</h2><ol>
<li><p>å£°æ˜ä»¥åŠå¯¹åº”ä½œç”¨åŸŸ</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* å¯ä»¥HTML æ–‡æ¡£çš„ä»»ä½•åœ°æ–¹è®¿é—®åˆ°å®ƒ */</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--main-bg-color</span>: brown;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:where(html)</span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* åªèƒ½åœ¨elementå…ƒç´ ä¸‹é¢æ‰€å¯¹åº”ä½¿ç”¨ */</span></span><br><span class="line"><span class="selector-tag">element</span> &#123;</span><br><span class="line">  <span class="attribute">--main-bg-color</span>: brown;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼•ç”¨å˜é‡</p>
</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">element</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--main-bg-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>è‡ªå¸¦ç»§æ‰¿</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.one</span>&#123;</span></span><br><span class="line"><span class="css">    <span class="comment">/** æ— æ³•ä½¿ç”¨ var(--test) */</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.two</span> &#123;</span></span><br><span class="line">  --test: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.three</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="comment">/** é‡å†™ var(--test) = 2em */</span></span></span><br><span class="line">  --test: 2em;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="css"><span class="selector-class">.four</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="comment">/** ç»§æ‰¿.twoçš„å˜é‡ var(--test) = 10px */</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"one"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"two"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"three"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"four"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>è‡ªå®šä¹‰å±æ€§å¤‡ç”¨å€¼</li>
</ol>
<p><code>var(--my-var, xxx)</code>ï¼Œå½“ä¸€ä¸ªå˜é‡æœªå®šä¹‰æˆ–éæ³•å€¼çš„æ—¶å€™ï¼Œå¯ä»¥<code>red</code>ç”¨æ¥åšæ­£å¸¸æ˜¾ç¤ºå€¼ï¼Œå¤‡ç”¨å€¼å¹¶ä¸æ˜¯ç”¨äºå®ç°æµè§ˆå™¨å…¼å®¹æ€§çš„ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.two</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--my-var, red); <span class="comment">/* å…¥è‚¡my-var æ²¡æœ‰å®šä¹‰ï¼Œåˆ™ç”¨redæ˜¾ç¤º */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>JSè·å–å˜é‡å€¼</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">/è®¾ç½®å˜é‡</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'p'</span>).style.setProperty(<span class="string">'--weight'</span>,<span class="string">'bold'</span>);</span><br><span class="line"><span class="comment">//è¯»å–å˜é‡</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'p'</span>).style.getPropertyValue(<span class="string">'--weight'</span>);</span><br><span class="line"><span class="comment">//åˆ é™¤å˜é‡</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'p'</span>).style.removeProperty(<span class="string">'--weight'</span>);</span><br></pre></td></tr></table></figure>

<h1 id="CSSå˜é‡å®æˆ˜"><a href="#CSSå˜é‡å®æˆ˜" class="headerlink" title="CSSå˜é‡å®æˆ˜"></a>CSSå˜é‡å®æˆ˜</h1><p>åœ¨å‰ç«¯é¡¹ç›®ä¸­å¦‚ä½•ä½¿ç”¨CSSå˜é‡ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡æ„å»ºå·¥å…·ç”Ÿæˆçš„å…¼å®¹æ€§ä»£ç ã€‚</p>
<h2 id="æµè§ˆå™¨æ˜¯å¦æ”¯æŒ"><a href="#æµè§ˆå™¨æ˜¯å¦æ”¯æŒ" class="headerlink" title="æµè§ˆå™¨æ˜¯å¦æ”¯æŒ"></a>æµè§ˆå™¨æ˜¯å¦æ”¯æŒ</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> isSupported = <span class="built_in">window</span>.CSS &amp;&amp; <span class="built_in">window</span>.CSS.supports &amp;&amp; <span class="built_in">window</span>.CSS.supports(<span class="string">'--a'</span>,<span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span>(isSupported) &#123;</span><br><span class="line">    <span class="comment">/* è¿™é‡Œé¢æ˜¯æ”¯æŒcsså˜é‡çš„æ“ä½œ */</span></span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">/* è¿™é‡Œé¢æ˜¯ä¸æ”¯æŒcsså˜é‡çš„æ“ä½œ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡CSSä¸­<code>@supports</code>åšåˆ¤æ–­ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">supports</span> ( (--a: <span class="number">0</span>)) &#123;</span><br><span class="line">  <span class="comment">/* supported */</span></span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">supports</span> ( not (--a: <span class="number">0</span>)) &#123;</span><br><span class="line">  <span class="comment">/* not supported */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul>
<li>æœ€å¸¸ç”¨çš„æ˜¯ç½‘ç«™æ¢ä¸»é¢˜ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ç›´æ¥æŒ‰ç…§CSSå˜é‡å»ç¼–å†™ï¼Œè€Œä¸éœ€è¦å»äº†è§£SASSæˆ–LESSçš„è¯­æ³•</li>
<li>åŸæœ¬ä¸€äº›åŠ¨ç”»æ•ˆæœï¼Œéœ€è¦å¤šä¸ªcssæ ·å¼åŒºåˆ†ï¼Œç°åœ¨å¯ä»¥é€šè¿‡csså˜é‡å®ç°ï¼Œä»è€Œå‡å°‘ä»£ç </li>
<li>ç»“åˆJSæ“ä½œäº‹ä»¶+æ›´æ”¹CSSå˜é‡ï¼Œå®ç°æ›´å¤šCSSæ•ˆæœ</li>
</ul>
<h2 id="å˜é‡åº“"><a href="#å˜é‡åº“" class="headerlink" title="å˜é‡åº“"></a>å˜é‡åº“</h2><p><a href="https://open-props.style/" target="_blank" rel="noopener">open-props CSSå¸¸ç”¨å˜é‡æ”¶é›†åº“</a></p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">"https://unpkg.com/open-props"</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--radius-2);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="built_in">var</span>(--size-fluid-3);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--shadow-2);</span><br><span class="line"></span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="selector-tag">box-shadow</span>: <span class="selector-tag">var</span>(<span class="selector-tag">--shadow-3</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @<span class="keyword">media</span> (--motionOK) &#123;</span><br><span class="line">    <span class="selector-tag">animation</span>: <span class="selector-tag">var</span>(<span class="selector-tag">--animation-fade-in</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Using_CSS_custom_properties" target="_blank" rel="noopener">CSSè‡ªå®šä¹‰å˜é‡ MDN</a></p>
]]></content>
      <tags>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>Linuxå¦‚ä½•å¿«é€Ÿåˆ é™¤å¤§é‡æ–‡ä»¶</title>
    <url>/today/20230213.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘æœåŠ¡å™¨ç»å¸¸é‡åˆ°ç£ç›˜å ç”¨ç©ºé—´æ»¡çš„å‘Šè­¦ï¼Œå› æ­¤è·Ÿè¿›å®šä½é—®é¢˜åï¼Œå‘ç°åŸæ¥æ˜¯airflowçš„æœ‰å¥½å‡ ä¸ªä»»åŠ¡æ¯åˆ†é’Ÿéƒ½åœ¨äº§ç”Ÿæ—¥å¿—æ–‡ä»¶ï¼Œå¯¼è‡´ç£ç›˜ç©ºé—´å ç”¨ç‡æš´æ¶¨ï¼Œå› æ­¤æƒ³äº†å‡ ä¸ªç­–ç•¥ï¼š</p>
<ul>
<li>airflowé™ä½æ—¥å¿—æ–‡ä»¶è¾“å‡ºå¤§å°ï¼Œå°†åŸæ¥<code>info</code>çº§åˆ«æ—¥å¿—è·³é«˜åˆ°<code>warning</code></li>
<li>å®šæ—¶æ¸…ç†æ—¥å¿—æ–‡ä»¶</li>
</ul>
<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>é—®é¢˜å°±å‡ºç°åœ¨æ¸…ç†æ—¥å¿—æ–‡ä»¶ï¼Œæ‰“ç®—å…ˆæ¸…é™¤ä¸€éï¼Œä¸»è¦æ¸…é™¤ä¸€ä¸ªæœˆä»¥å‰çš„æ—¥å¿—æ–‡ä»¶ï¼Œå‘½ä»¤ä¸º<code>find /data/airflow/ -name &#39;*.log&#39; -and -mtime +30 -type f |xargs rm</code>ã€‚</p>
<p>ä½†æ˜¯ç­‰äº†åŠå¤©å‘ç°æ—¥å¿—æ–‡ä»¶ä¸€ç›´æ— æ³•æ¸…é™¤æ‰ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Ÿ</p>
<a id="more"></a>

<p>åé¢ç›´æ¥ä¸Šæœºå™¨åˆ é™¤æ–‡ä»¶ï¼Œé‡‡ç”¨<code>rm -rf ./*.log</code>ï¼Œå‘ç°æŠ¥é”™å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/bin/rm: argument list too long</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åŸå› ï¼š  åˆ é™¤æ–‡ä»¶ä¸­åŒ…å«çš„å°æ–‡ä»¶æ•°é‡è¿‡å¤šï¼Œé€šå¸¸æ˜¯ç”±äºå—åˆ° shell å‚æ•°ä¸ªæ•°é™åˆ¶æ‰€è‡´</p>
</blockquote>
<p>è™½ç„¶ç½‘ä¸Šæœ‰å…¶ä»–æ–¹æ¡ˆå¯ä»¥å¿«é€Ÿè§£å†³ï¼Œæ¯”å¦‚ï¼š<code>find</code>å‡å°‘æ–‡ä»¶æ•°é‡ã€‚</p>
<p>è¿™ä¸‹å­å°±æçš„å¾ˆéƒé—·äº†ï¼Œåé¢ä¸Šç½‘æ‰¾äº†æ–¹æ¡ˆï¼Œå‘ç°å¯ä»¥é€šè¿‡<code>rsync</code>å»å¿«é€Ÿåˆ é™¤å¤§é‡æ–‡ä»¶ï¼Œå› æ­¤æƒ³è®°å½•æ€»ç»“ä¸€ä¸‹ã€‚</p>
<h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><h2 id="Linuxæ–‡ä»¶å­˜å‚¨åŸç†"><a href="#Linuxæ–‡ä»¶å­˜å‚¨åŸç†" class="headerlink" title="Linuxæ–‡ä»¶å­˜å‚¨åŸç†"></a>Linuxæ–‡ä»¶å­˜å‚¨åŸç†</h2><p>æˆ‘ä»¬éœ€è¦å¯¹Linuxæ–‡ä»¶å­˜å‚¨åŸç†åšä¸€ä¸ªåŸºæœ¬çš„äº†è§£ï¼ŒLinuxæ–‡ä»¶å­˜å‚¨æ•°æ®æ˜¯æ”¾åœ¨ä¸€å¼ <code>inode è¡¨</code>ï¼Œé‡Œé¢æ¯ä¸€ä¸ªæ–‡ä»¶çš„èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>æ–‡ä»¶ç±»å‹</li>
<li>æƒé™</li>
<li>UIDï¼ŒGID</li>
<li><code>i_nlink</code> é“¾æ¥æ•°ï¼ˆæŒ‡å‘è¿™ä¸ªæ–‡ä»¶åè·¯å¾„åç§°ä¸ªæ•°ï¼‰</li>
<li><code>i_count</code> ä½¿ç”¨æ•°ï¼ˆæŒ‡ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶çš„è¿›ç¨‹æ•°ï¼‰</li>
<li>è¯¥æ–‡ä»¶çš„å¤§å°å’Œä¸åŒçš„æ—¶é—´æˆ³</li>
<li>æŒ‡å‘ç£ç›˜ä¸Šæ–‡ä»¶çš„æ•°æ®å—æŒ‡é’ˆ</li>
<li>æœ‰å…³æ–‡ä»¶çš„å…¶ä»–æ•°æ®</li>
</ul>
<p>Linuxæ–‡ä»¶çœŸæ­£åˆ é™¤çš„è¿‡ç¨‹ï¼š</p>
<ul>
<li><code>i_nlink=0</code> æ²¡æœ‰äººè¿›è¡Œé“¾æ¥ä½¿ç”¨ï¼ŒåŒ…æ‹¬ä»»ä½•ç¡¬é“¾æ¥</li>
<li><code>i_count=0</code> æ²¡æœ‰ä»»ä½•è¿›ç¨‹ä½¿ç”¨</li>
</ul>
<h2 id="rmåŸç†"><a href="#rmåŸç†" class="headerlink" title="rmåŸç†"></a>rmåŸç†</h2><p>rmçš„åŸç†ï¼šå‡å°‘ç£ç›˜å¼•ç”¨è®¡æ•°<code>i_nlink</code>ï¼Œå°±æ˜¯å‡å°‘å…¶ä»–æ–‡ä»¶å¯¹è¿™ä¸ªæ–‡ä»¶é“¾æ¥ï¼Œå®é™…å¹¶æ²¡æœ‰åˆ é™¤æ–‡ä»¶å†…å®¹ã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœæ—¥å¿—æ–‡ä»¶æ­£åœ¨å…¶ä»–è¿›ç¨‹ä½¿ç”¨ï¼Œ<code>rm</code>å¹¶ä¸æ˜¯çœŸæ­£åˆ é™¤ï¼Œ<code>i_count</code>å¹¶ä¸ä¼šå‡å°‘ï¼Œå› æ­¤ä¹Ÿä¸ä¼šé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚</p>
<p>å¦‚æœæƒ³è¦çœŸæ­£åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿˜éœ€è¦åŒæ—¶å°†<code>i_count</code>é™è‡³0ã€‚</p>
<p>äº†è§£å®Œrmçš„åŸç†ï¼Œä¹Ÿå°±çœŸæ­£æ˜ç™½ä¸ºä»€ä¹ˆ<code>find /opt/airflow/logs -name &#39;*.*&#39; -and -mtime +30 -type f | xargs rm -rvf</code>å‘½ä»¤ä¼šè¿™ä¹ˆæ…¢ï¼Œå› ä¸ºå®ƒè¦å»æ‰¾æ—¥å¿—æ–‡ä»¶çš„æ‰€æœ‰linké“¾æ¥ï¼Œç„¶åä¸€ä¸€åˆ é™¤æ‰ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>æœ€ç»ˆåœ¨ç½‘ä¸Šæ‰¾äº†æœ€ä½³è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯ä½¿ç”¨<code>rsync</code>ã€‚</p>
<p><code>rsync</code>æœ¬èº«çš„å°±æ˜¯å°†ä¸¤ä¸ªæ–‡ä»¶å¤¹ä½œåŒæ­¥ä½¿ç”¨ï¼Œå¦‚ä½•ä½¿ç”¨<code>rsync</code>åˆ é™¤æ–‡ä»¶ï¼Œæ­¥éª¤æ˜¯è¿™æ ·å­:</p>
<ul>
<li>å¦‚æœå°†ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼ŒåŒæ­¥åˆ°è¦åˆ é™¤çš„æ–‡ä»¶å¤¹é‡Œï¼Œæ˜¯ä¸æ˜¯ç­‰äºå°†æ–‡ä»¶å¤¹æ¸…ç©ºäº†å‘¢ï¼Ÿ</li>
</ul>
<p>å¾ˆå–å·§çš„æ–¹å¼ï¼Œä½†æ˜¯ä¹Ÿå¾ˆæœ‰æ•ˆæœï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span>åˆ¶é€ ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹</span><br><span class="line">mkdir -p /opt/airflow/empty;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>æ‰§è¡ŒrsyncåŒæ­¥ç©ºæ–‡ä»¶å¤¹</span><br><span class="line">rsync --delete-before -aO  /opt/airflow/empty/ /opt/airflow/logs/;</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤è¯¦è§£ï¼š</p>
<ul>
<li><code>--delete-before</code> æ¥æ”¶è€…åœ¨ä¼ è¾“ä¹‹å‰è¿›è¡Œåˆ é™¤æ“ä½œ</li>
<li><code>-a</code> å½’æ¡£æ¨¡å¼ï¼Œè¡¨ç¤ºä»¥é€’å½’æ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œå¹¶ä¿æŒæ‰€æœ‰æ–‡ä»¶å±æ€§</li>
</ul>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li><a href="https://cloud.tencent.com/developer/article/1647290" target="_blank" rel="noopener">Linux ä¸‹åˆ é™¤å¤§é‡æ–‡ä»¶æ•ˆç‡å¯¹æ¯”ï¼Œçœ‹è°åˆ çš„å¿«ï¼</a></li>
<li><a href="https://www.cnblogs.com/cherishry/p/5886069.html" target="_blank" rel="noopener">Linuxä¸‹æ–‡ä»¶åˆ é™¤çš„åŸç†</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯å®‰å…¨-JSåŸå‹é“¾æ±¡æŸ“æ˜¯æ€ä¹ˆå›äº‹</title>
    <url>/today/20230209.html</url>
    <content><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p>é¢è¯•é¢˜ç»å¸¸ä¼šæåˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å‰ç«¯å®‰å…¨é—®é¢˜å“ªäº›ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šéƒ½å›ç­”ä¸Šæ¥ä»¥ä¸‹å‡ ä¸ªï¼š</p>
<ul>
<li>XSSè„šæœ¬æ”»å‡»ï¼Œåˆ©ç”¨ç½‘ç«™æ¼æ´ï¼Œæ³¨å…¥éæ³•è„šæœ¬</li>
<li>CSRFè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œæ”»å‡»è€…è¯±å¯¼å—å®³è€…è¿›å…¥ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œåœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™ä¸­ï¼Œå‘è¢«æ”»å‡»ç½‘ç«™å‘é€è·¨ç«™è¯·æ±‚</li>
<li>è¿è¥å•†åŠ«æŒï¼Œä¸€èˆ¬æ˜¯ç»è¿‡æŸäº›è¿è¥å•†DNSç½‘å…³åï¼Œåœ¨å¤–å±‚å¥—å…¥iframeï¼Œç„¶åå®ç°é¡µé¢åŠ«æŒ</li>
</ul>
<p>ä½†æ˜¯åœ¨å‰ç«¯å®‰å…¨ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ ï¼š<code>JSåŸå‹é“¾æ±¡æŸ“</code>ï¼Œ é‚£ä¹ˆæ˜¯åŸå‹é“¾æ±¡æŸ“æ€ä¹ˆå›äº‹ï¼Œè¯·çœ‹ä¸‹é¢è¯¦ç»†ä»‹ç»ã€‚</p>
<blockquote>
<p>è¿™é‡Œæ’å…¥ä¸€æ¡æ–°é—»ï¼Œæ–°å‡ºä¸€ä¸ªå¾ˆé‚ªæ¶çš„jsåº“å«<a href="https://github.com/wll8/lodash-utils" target="_blank" rel="noopener">Evil.js</a>ï¼Œåå­—è¿˜å–å¾—å¾ˆlodashï¼Œå…¶ä¸­ä¸»è¦å°±æ˜¯åˆ©ç”¨åŸå‹prototypeè¿›è¡Œé‡å†™é¡¹ç›®ä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¦‚ï¼š</p>
<ul>
<li>Array.map æœ‰5%æ¦‚ç‡ä¼šä¸¢å¤±æœ€åä¸€ä¸ªå…ƒç´ ï¼Œ</li>
<li>å½“æ•°ç»„é•¿åº¦å¯ä»¥è¢«7æ•´é™¤æ—¶ï¼ŒArray.includes æ°¸è¿œè¿”å›falseã€‚</li>
</ul>
</blockquote>
<p>æ‰€ä»¥å­¦ä¼šå¦‚ä½•é˜²å¾¡é¡¹ç›®å†…è¢«æ”»å‡»ï¼Œäº†è§£æ›´å¤šJSåŸå‹å®‰å…¨çŸ¥è¯†å¾ˆé‡è¦ï¼Œèµ·ç å‘¨æœ«ä¸ç”¨è°ƒè¯•åŠå¤©é—®é¢˜ï¼Œæ‰å‘ç°é¡¹ç›®ä¸­ä»£ç è¢«æ¶æ„å†™å…¥ã€‚</p>
<a id="more"></a>

<p>åœ¨çœ‹è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç¡®ä¿è‡ªå·±å¯¹JSåŸå‹å’ŒåŸå‹é“¾æœ‰ä¸€å®šäº†è§£ï¼Œå¦‚æœå¿˜è®°æˆ–ç¼ºä¹äº†è§£çš„è¯ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡æ¡ˆ<a href="today/20220129.html#åŸå‹">ä»nullã€undefinedã€NaNçš„åŒºåˆ«äº†è§£JSçš„åŸå‹é“¾</a>å†æ¬¡å¤ä¹ å’Œå­¦ä¹ ä¸€ä¸‹ã€‚</p>
<h1 id="åŸå‹é“¾æ±¡æŸ“"><a href="#åŸå‹é“¾æ±¡æŸ“" class="headerlink" title="åŸå‹é“¾æ±¡æŸ“"></a>åŸå‹é“¾æ±¡æŸ“</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p>ä¸‹é¢é€šè¿‡ä¸€æ®µä»£ç ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿäº†è§£åŸå‹é“¾æ˜¯å¦‚ä½•æ±¡æŸ“çš„ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = &#123;</span><br><span class="line">    bar: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœè¿™é‡Œå°†foo.__proto__æ”¹æ‰</span></span><br><span class="line"></span><br><span class="line">foo.__proto__.bar = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo.bar); <span class="comment">// è¿™é‡Œæ­£å¸¸è¾“å‡º 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å£°æ˜ä¸€ä¸ª</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> zoo = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(zoo.bar); <span class="comment">// è¿™é‡Œé”™è¯¯è¾“å‡º 2</span></span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šè¿°ä»£ç å¯ä»¥æ¦‚æ‹¬ä¸€ä¸‹ï¼ŒåŸå‹é“¾æ”»å‡»æ˜¯ï¼š</p>
<blockquote>
<p>åœ¨ä¸€ä¸ªåº”ç”¨ä¸­ï¼Œå¦‚æœæ”»å‡»è€…æ§åˆ¶å¹¶ä¿®æ”¹äº†ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ï¼Œé‚£ä¹ˆå°†å¯ä»¥å½±å“æ‰€æœ‰å’Œè¿™ä¸ªå¯¹è±¡æ¥è‡ªåŒä¸€ä¸ªç±»ã€çˆ¶ç¥–ç±»çš„å¯¹è±¡ã€‚è¿™ç§æ”»å‡»æ–¹å¼å°±æ˜¯åŸå‹é“¾æ±¡æŸ“ã€‚</p>
</blockquote>
<h2 id="æ”»å‡»åœºæ™¯"><a href="#æ”»å‡»åœºæ™¯" class="headerlink" title="æ”»å‡»åœºæ™¯"></a>æ”»å‡»åœºæ™¯</h2><p>å…¶å®æˆ‘ä»¬ä¸»è¦çœ‹å“ªäº›åœºæ™¯ä¼šå…è®¸ä»£ç è®¾ç½®<code>__proto__</code>ï¼Ÿä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</p>
<ul>
<li>å¯¹è±¡merge</li>
<li>å¯¹è±¡clone</li>
<li>Node.jsçš„construtor</li>
</ul>
<h3 id="merge-demoæ¡ˆä¾‹"><a href="#merge-demoæ¡ˆä¾‹" class="headerlink" title="merge demoæ¡ˆä¾‹"></a>merge demoæ¡ˆä¾‹</h3><p>ä¸€èˆ¬å®ç°å¯¹è±¡çš„mergeä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params">target, source</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> source) &#123;</span><br><span class="line">        <span class="keyword">if</span> (key <span class="keyword">in</span> source &amp;&amp; key <span class="keyword">in</span> target) &#123;</span><br><span class="line">            merge(target[key], source[key])</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            target[key] = source[key]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿è¡Œä»£ç </span></span><br><span class="line"><span class="keyword">let</span> o1 = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> o2 = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="string">"__proto__"</span>: &#123;<span class="attr">b</span>: <span class="number">2</span>&#125;&#125;</span><br><span class="line">merge(o1, o2)</span><br><span class="line"><span class="built_in">console</span>.log(o1.a, o1.b)</span><br><span class="line"></span><br><span class="line">o3 = &#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(o3.b) <span class="comment">// å‘ç°åŸå‹é“¾æ²¡æœ‰è¢«æ±¡æŸ“</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå£°æ˜å˜é‡çš„æ—¶å€™ï¼Œâ€<strong>_proto</strong>â€œå¹¶ä¸æ˜¯ä¸€ä¸ªkeyï¼Œå³ä½¿ä¿®æ”¹ä¹Ÿä¸ä¼šæ”¹å˜Objectçš„åŸå‹ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•åšåˆ°â€<strong>_proto</strong>â€œæˆä¸ºä¸€ä¸ªkeyï¼Œå¯ä»¥å°†demoä»£ç è°ƒæ•´ä¸€ä¸‹ï¼Œå¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> o1 = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> o2 = <span class="built_in">JSON</span>.parse(<span class="string">'&#123;"a": 1, "__proto__": &#123;"b": 2&#125;&#125;'</span>)</span><br><span class="line">merge(o1, o2)</span><br><span class="line"><span class="built_in">console</span>.log(o1.a, o1.b)</span><br><span class="line"></span><br><span class="line">o3 = &#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(o3.b) <span class="comment">// è¾“å‡º2</span></span><br></pre></td></tr></table></figure>

<p>mergeæ“ä½œæ˜¯æœ€å¸¸è§å¯èƒ½æ§åˆ¶é”®åçš„æ“ä½œï¼Œä¹Ÿæœ€èƒ½è¢«åŸå‹é“¾æ”»å‡»ï¼Œå¾ˆå¤šå¸¸è§çš„åº“éƒ½å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚å¦‚ï¼š <code>lodash.merge</code>ã€‚</p>
<h2 id="å®é™…åº”ç”¨é—®é¢˜"><a href="#å®é™…åº”ç”¨é—®é¢˜" class="headerlink" title="å®é™…åº”ç”¨é—®é¢˜"></a>å®é™…åº”ç”¨é—®é¢˜</h2><blockquote>
<p>Code-Breaking 2018 Thejs åˆ†æ</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> lodash = <span class="built_in">require</span>(<span class="string">'lodash'</span>)</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">app.engine(<span class="string">'ejs'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">filePath, options, callback</span>) </span>&#123; </span><br><span class="line"><span class="comment">// define the template engine</span></span><br><span class="line">    fs.readFile(filePath, (err, content) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) <span class="keyword">return</span> callback(<span class="keyword">new</span> <span class="built_in">Error</span>(err))</span><br><span class="line">        <span class="keyword">let</span> compiled = lodash.template(content)</span><br><span class="line">        <span class="keyword">let</span> rendered = compiled(&#123;...options&#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> callback(<span class="literal">null</span>, rendered)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line">app.all(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> data = req.session.data || &#123;<span class="attr">language</span>: [], <span class="attr">category</span>: []&#125;</span><br><span class="line">    <span class="keyword">if</span> (req.method == <span class="string">'POST'</span>) &#123;</span><br><span class="line">        data = lodash.merge(data, req.body)</span><br><span class="line">        req.session.data = data</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    res.render(<span class="string">'index'</span>, &#123;</span><br><span class="line">        language: data.language, </span><br><span class="line">        category: data.category</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>é¢˜ç›®æ˜¯åˆ©ç”¨<code>lodash.template</code> + <code>lodash.merge</code>ä¸¤ä¸ªæ–¹æ³•å®ç°éƒ¨åˆ†åŠŸèƒ½ï¼š</p>
<ul>
<li>ç”¨æˆ·æäº¤çš„ä¿¡æ¯ï¼Œç”¨mergeæ–¹æ³•åˆå¹¶åˆ°sessioné‡Œï¼Œsessioné‡Œæœ€ç»ˆä¿å­˜ä½ æäº¤çš„æ‰€æœ‰ä¿¡æ¯</li>
<li>ç„¶ååˆ©ç”¨mergeæ–¹æ³•æ³¨å…¥åŸå‹æ±¡æŸ“</li>
<li>æœ€ååˆ©ç”¨templateä¸­çš„æ–¹æ³•ï¼Œå®Œæˆæ•´ä¸ªç½‘ç«™æ±¡æŸ“</li>
</ul>
<p>æ•´ä¸ªæ¡ˆä¾‹å…¶å®æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹å°±æ˜¯ï¼Œæäº¤å‚æ•°çš„æ—¶å€™åºåˆ—åŒ–æäº¤å‚æ•°æ˜¯å¦æœ‰åšé˜²å¾¡ï¼Œå¦‚ä½•æ²¡æœ‰çš„è¯é‚£ä¹ˆå¾ˆå®¹æ˜“å°±ä¸­æ‹›äº†ã€‚</p>
<h2 id="å¦‚ä½•é˜²å¾¡"><a href="#å¦‚ä½•é˜²å¾¡" class="headerlink" title="å¦‚ä½•é˜²å¾¡"></a>å¦‚ä½•é˜²å¾¡</h2><p>åˆ†ä¸åŒæƒ…å†µåšé˜²å¾¡ï¼š</p>
<h3 id="å¼•å…¥npmåŒ…å¯¼è‡´çš„"><a href="#å¼•å…¥npmåŒ…å¯¼è‡´çš„" class="headerlink" title="å¼•å…¥npmåŒ…å¯¼è‡´çš„"></a>å¼•å…¥npmåŒ…å¯¼è‡´çš„</h3><ul>
<li>é¡¹ç›®ä»£ç æ‰«æï¼Œä¸»è¦æ˜¯é’ˆå¯¹æ„å»ºå¥½çš„ä»£ç è¿›è¡Œæ‰«æï¼Œæ˜¯å¦<code>Evil.js</code>ä¿®æ”¹å†…ç½®åŸå‹çš„æƒ…å†µè¿›è¡Œå‘Šè­¦æç¤º</li>
<li>ç¦æ­¢ä¿®æ”¹åŸå‹ï¼Œå¦‚ï¼šä½¿ç”¨<code>Object.freeze</code></li>
</ul>
<h3 id="é’ˆå¯¹node-js"><a href="#é’ˆå¯¹node-js" class="headerlink" title="é’ˆå¯¹node.js"></a>é’ˆå¯¹node.js</h3><ul>
<li>é’ˆå¯¹nodeæœåŠ¡ç«¯æ¥å£å‚æ•°è¿›è¡Œåºåˆ—åŒ–çš„æ—¶å€™ï¼Œç¦æ­¢éæ³•<code>key</code>å€¼ä¼ å…¥</li>
<li>ç¦æ­¢ä¿®æ”¹åŸå‹ï¼Œå¦‚ï¼šä½¿ç”¨<code>Object.freeze</code></li>
<li>é‡‡ç”¨<code>Object.create(null)</code>åˆ›å»ºå¯¹è±¡ï¼Œé¿å…ç›´æ¥ä½¿ç”¨<code>{}</code></li>
<li>ä½¿ç”¨<code>map</code>æ•°æ®ç±»å‹åˆ›å»º</li>
<li>ä¸å¯¹å‚æ•°åš<code>JSON.parse</code>è½¬æ¢ï¼Œé‡‡ç”¨å°è£…åçš„ååºåˆ—åŒ–æ–¹æ³•</li>
<li>å°½é‡é‡‡ç”¨å®‰å…¨çš„<code>merge</code>æˆ–<code>clone</code>åº“æ–¹æ³•</li>
</ul>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li><a href="https://www.leavesongs.com/PENETRATION/javascript-prototype-pollution-attack.html" target="_blank" rel="noopener">æ·±å…¥ç†è§£ JavaScript Prototype æ±¡æŸ“æ”»å‡»</a></li>
<li><a href="https://xz.aliyun.com/t/7025" target="_blank" rel="noopener">å†æ¢ JavaScript åŸå‹é“¾æ±¡æŸ“åˆ° RCE</a></li>
<li><a href="https://www.freebuf.com/articles/web/216373.html" target="_blank" rel="noopener">JavascriptåŸå‹é“¾æ”»å‡»ä¸é˜²å¾¡</a></li>
</ul>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯ä»¥ä»ChatGPTå­¦åˆ°ä»€ä¹ˆ(ä¸€)</title>
    <url>/today/20230216.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘<code>chatgpt</code>æ™ºèƒ½å¯¹ç­”ç«çš„ä¸€å¡Œæ¶‚åœ°ï¼Œå°±æ˜¯ä½ æ‰¾<code>chatgpt</code>å’¨è¯¢ï¼Œå®ƒä¸ä»…èƒ½ç†è§£ä½ çš„æ„æ€ï¼Œè¿˜èƒ½ç»™å‡ºå‡†ç¡®çš„ç­”æ¡ˆï¼Œè€Œä¸”èƒ½å¤Ÿä»ä¸Šä¸‹æ–‡ç†è§£ä½ çš„æ„æ€ã€‚</p>
<p>ç®€å•çš„è¯´ï¼Œå°±ä¸å†æ˜¯ä¹‹å‰çš„æ™ºèƒ½å¯¹ç­”ï¼Œå¦‚æœé‡åˆ°ä¸ç†è§£çš„é—®é¢˜å›å¤ã€æˆ‘å¥½åƒä¸å¤ªç†è§£ä½ çš„é—®é¢˜ã€‘ã€‚</p>
<p>æ›´æœ‰ç”šè€…ï¼Œåˆ©ç”¨chatgptå®Œæˆè®ºæ–‡ç¼–å†™ï¼ŒåŒæ—¶è¿˜æœ‰å¸®å°å­©å­å†™ä½œä¸šã€ç¨‹åºå‘˜åˆ©ç”¨å®ƒæ•´ç†æŸä¸ªä¸šåŠ¡çš„å®ç°æ€è·¯ï¼Œä½œè€…åˆ©ç”¨å…¶å¸®å¿™å†™å°è¯´ç»†èŠ‚ç­‰ç­‰ã€‚</p>
<p>æˆ‘å°è¯•é—®äº†ä¸€äº›å¸¸è§„é—®é¢˜ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ä»¥æ›´å¥½çš„ç†è§£<code>chatgpt</code>çš„èƒ½åŠ›ã€‚</p>
<ol>
<li><p>å¦‚ä½•ä»¥<code>Nest.js</code>æ¡†æ¶å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½</p>
<a id="more"></a>
<p><img src="/assets/img/20230216-1.jpeg" alt></p>
</li>
<li><p>ç›´æ¥å°†é«˜è€ƒä½œæ–‡é¢˜è¦æ±‚æ”¾å…¥ï¼Œå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>è¯·ä»¥â€œåƒä¸€é“é—ªç”µâ€ä¸ºé¢˜ç›®ï¼Œå†™ä¸€æ®µæŠ’æƒ…æ–‡å­—æˆ–ä¸€é¦–å°è¯—ã€‚è¦æ±‚ï¼šæ„Ÿæƒ…çœŸæŒšï¼Œè¯­è¨€ç”ŸåŠ¨ï¼Œæœ‰æ„ŸæŸ“åŠ›ã€‚è¦æ±‚800å­—ã€‚ â€”â€” 2022å¹´åŒ—äº¬å·</p>
</blockquote>
</li>
</ol>
<p><img src="/assets/img/20230216-2.png" alt></p>
<p>å› æ­¤ï¼Œä½œä¸ºç¨‹åºå‘˜ï¼Œæ²¡æœ‰ç†ç”±ä¸å»æ·±å…¥ä¸”å®Œæ•´çš„äº†è§£å®ƒï¼Œæ•…è€Œæœ‰è¿™ç¯‡å°ç™½ç§‘æ™®æ–‡ã€‚</p>
<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>ä¸ºäº†æ›´å¥½çš„äº†è§£åé¢çš„å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦æå‰å¯¹ä¸€äº›çŸ¥è¯†æ¦‚å¿µäº†è§£ä¸€ä¸‹ã€‚</p>
<h2 id="äººå·¥æ™ºèƒ½"><a href="#äººå·¥æ™ºèƒ½" class="headerlink" title="äººå·¥æ™ºèƒ½"></a>äººå·¥æ™ºèƒ½</h2><blockquote>
<p>äººå·¥æ™ºèƒ½ (AI) æ˜¯è®¡ç®—æœºæ¨¡æ‹Ÿäººç±»æ™ºèƒ½è¡Œä¸ºçš„åŠŸèƒ½ã€‚ é€šè¿‡ AIï¼Œè®¡ç®—æœºå¯ä»¥åˆ†æå›¾åƒã€ç†è§£è¯­éŸ³ã€ä»¥è‡ªç„¶æ–¹å¼äº¤äº’ï¼Œä»¥åŠä½¿ç”¨æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚</p>
</blockquote>
<p>ç›®å‰AIå¼€å‘æµç¨‹åˆ†ä¸ºï¼š</p>
<ol>
<li>ç¡®å®šç›®çš„æ¨¡å‹ï¼ŒAIæœ€ç»ˆæ˜¯ç”¨æ¥åšä»€ä¹ˆï¼Œå¦‚ï¼šå›¾åƒè¯†åˆ«ã€è¯­è¨€è¯†åˆ«ç­‰</li>
<li>å‡†å¤‡è®­ç»ƒæ•°æ®ï¼Œæ”¶é›†å’Œé¢„å¤„ç†æ•°æ®ï¼Œå¦‚ï¼šè¦è¯†åˆ«ä¸€åªçŒ«ï¼Œå¯èƒ½éœ€è¦å‡ åä¸‡å¼ ä¸åŒçŒ«çš„å›¾ç‰‡</li>
<li>è®­ç»ƒæ¨¡å‹ï¼Œä¹Ÿå«å»ºæ¨¡ï¼Œé€šè¿‡å„ç§ç®—æ³•ã€æ–¹æ³•å’ŒæŠ€å·§å»åˆ›å»ºï¼Œæœ€ç»ˆè¾“å‡ºæ¨¡å‹ï¼Œå¦‚ï¼šä»ä¸åŒå›¾ç‰‡ä¸­å»è¯†åˆ«çŒ«çš„ï¼Œéœ€è¦å†™ç®—æ³•ã€ç„¶åæ ‡æ³¨ç»“æœæ˜¯å¦å‡†ç¡®ï¼Œè¿™é‡Œçš„æ¨¡å‹ä½ å¯ä»¥ç†è§£æˆâ€œåªä¼šè¯†åˆ«çŒ«çš„çœ¼ç›â€</li>
<li>è¯„ä¼°æ¨¡å‹ï¼Œåå¤çš„è°ƒæ•´ç®—æ³•å‚æ•°ã€æ•°æ®ï¼Œä¸æ–­è¯„ä¼°è®­ç»ƒç”Ÿæˆçš„æ¨¡å‹ï¼Œæœ€ç»ˆå¾—åˆ°æ»¡æ„çš„æ¨¡å‹ï¼Œå¦‚ï¼šå‘Šè¯‰ã€çœ¼ç›æ¨¡å‹ã€‘å“ªäº›å›¾ç‰‡æ˜¯çŒ«ï¼Œå“ªäº›å›¾ç‰‡ä¸æ˜¯çŒ«ï¼ŒçŒ«çš„ç‰¹å¾æœ‰ä»€ä¹ˆï¼Œç›´åˆ°ã€çœ¼ç›æ¨¡å‹ã€‘å¯ä»¥è¯†åˆ«å‡ºæ‰€æœ‰çš„çŒ«çš„å›¾ç‰‡å’Œä¸æ˜¯çŒ«çš„å›¾ç‰‡</li>
<li>éƒ¨ç½²æ¨¡å‹ï¼Œå°†æ¨¡å‹åº”ç”¨åˆ°æ­£å¼çš„å®é™…æ•°æ®æˆ–æ–°äº§ç”Ÿæ•°æ®ä¸­ï¼Œè¿›è¡Œé¢„æµ‹ã€è¯„ä»·ï¼Œå¦‚ï¼šæŠŠã€çœ¼ç›æ¨¡å‹ã€‘å»æ¥è§¦çœŸå®ä¸–ç•Œï¼Œçœ‹åˆ°ä¸€äº›çœŸå®çŒ«å›¾ç‰‡æˆ–è§†é¢‘</li>
</ol>
<p>æ€»ç»“æ¥è¯´ï¼ŒAIå°±æ˜¯å¯ä»¥æ¨¡æ‹Ÿäººçš„éƒ¨åˆ†è¡Œä¸ºï¼Œå¦‚ä¸Šæ–‡ä¸¾ä¾‹æ‰€è¯´çš„ã€çœ¼ç›æ¨¡å‹ã€‘ï¼Œå°±æ˜¯å®ç°äººç±»çœ¼ç›å¯ä»¥è¯†åˆ«çŒ«çš„åŠŸèƒ½ï¼Œæ‰©å±•å¼€æ¥å°±æ˜¯å¯ä»¥å……å½“äººçš„çœ¼ç›å»è¯†åˆ«ä¸‡ç‰©ã€‚</p>
<p>å½“ç„¶æœ‰äº›æ›´åŠ æ™ºèƒ½çš„æ¨¡å‹å¯ä»¥é‡å¤2/3/4ä¸‰ä¸ªæ­¥éª¤è®©è‡ªå·±å˜å¾—æ›´åŠ å®Œå–„ï¼ˆè¿™ä¹Ÿå«ã€æ— ç›‘ç£æ¨¡å‹æˆ–è‡ªç›‘ç£æ¨¡å‹ã€‘ï¼‰ã€‚</p>
<h2 id="è¯­è¨€æ¨¡å‹"><a href="#è¯­è¨€æ¨¡å‹" class="headerlink" title="è¯­è¨€æ¨¡å‹"></a>è¯­è¨€æ¨¡å‹</h2><p>ä»å‰é¢äº†è§£åˆ°ã€æ¨¡å‹ã€‘çš„æ¦‚å¿µï¼Œä»é€šä¿—çš„ç†è§£æ¨¡å‹æ˜¯ä¸€ä¸ªæ¨¡ä»¿äººç±»æŸä¸ªåŠŸèƒ½ï¼Œä»æŠ€æœ¯ä¸Šè®²æ¨¡å‹æ˜¯ä¸€æ®µç®—æ³•ä»£ç ã€‚</p>
<p>å› æ­¤è¯­è¨€æ¨¡å‹ä»è¿™ä¸¤ä¸ªæ–¹é¢æ¥è¯´ï¼š</p>
<ul>
<li>è®¸å¤šè‡ªç„¶è¯­è¨€å¤„ç†æ–¹é¢çš„åº”ç”¨ï¼Œå¦‚ï¼šè¯­éŸ³è¯†åˆ«[1]ï¼Œæœºå™¨ç¿»è¯‘[2]ï¼Œè¯æ€§æ ‡æ³¨ï¼Œå¥æ³•åˆ†æ[3]ï¼Œæ‰‹å†™ä½“è¯†åˆ«[4]å’Œèµ„è®¯æ£€ç´¢</li>
<li>ä»æŠ€æœ¯ä¸Šæ¥è®²ï¼Œæ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„ç®—æ³•</li>
</ul>
<p>æˆ‘ä»¬å¯¹è¯­è¨€æ¨¡å‹å¯ä»¥ç†è§£æˆï¼Œä¸€ä¸ªèƒ½å¤Ÿè¯†åˆ«è‡ªç„¶è¯­è¨€ï¼ˆåŒ…æ‹¬è¯­éŸ³ï¼Œè¯­ä¹‰è¯†åˆ«ç­‰ï¼‰çš„ç®—æ³•æ¨¡å‹å³å¯ã€‚</p>
<p>å¸¸ç”¨çš„è¯­è¨€æ¨¡å‹ç®—æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>ELMo åç››é¡¿å¤§å­¦æå‡ºçš„ç®—æ³• </li>
<li>GPT OpenAIæå‡ºçš„ç®—æ³•</li>
<li>BERT Googleæå‡ºçš„ç®—æ³•</li>
</ul>
<h2 id="GPT"><a href="#GPT" class="headerlink" title="GPT"></a>GPT</h2><blockquote>
<p>Generative Pre-trained Transformer (GPT)ï¼Œæ˜¯ä¸€ç§åŸºäºäº’è”ç½‘å¯ç”¨æ•°æ®è®­ç»ƒçš„æ–‡æœ¬ç”Ÿæˆæ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</p>
</blockquote>
<p>GPTçš„æ•´ä¸ªå‘å±•è¿‡ç¨‹åˆ†ä¸ºï¼š</p>
<ul>
<li>GPT-1ï¼Œæœ‰ä¸€å®šçš„æ³›åŒ–èƒ½åŠ›ï¼Œèƒ½å¤Ÿç”¨äºå’Œç›‘ç£ä»»åŠ¡æ— å…³çš„ NLP ä»»åŠ¡ï¼Œå¦‚ï¼šè‡ªç„¶è¯­è¨€æ¨ç†ï¼šåˆ¤æ–­ä¸¤ä¸ªå¥å­çš„å…³ç³»ï¼›é—®ç­”ä¸å¸¸è¯†æ¨ç†ï¼šè¾“å…¥æ–‡ç« åŠè‹¥å¹²ç­”æ¡ˆï¼Œè¾“å‡ºç­”æ¡ˆçš„å‡†ç¡®ç‡ç­‰</li>
<li>GPT-2ï¼Œä½¿ç”¨æ— ç›‘ç£é¢„è®­ç»ƒæ¨¡å‹åšæœ‰ç›‘ç£ä»»åŠ¡ï¼Œæ¯”GTP-1æ‹¥æœ‰æ›´åŠ å¼ºå¤§èƒ½åŠ›ï¼Œèƒ½é˜…è¯»æ‘˜è¦ã€èŠå¤©ã€ç»­å†™ã€ç¼–æ•…äº‹ï¼Œç”šè‡³ç”Ÿæˆå‡æ–°é—»ç­‰ï¼Œç”šè‡³å¯ä»¥å‡æ‰®ç½‘ç»œè§’è‰²è¿›è¡Œä¼šè¯èŠå¤©ï¼Œå¦‚ï¼šå¾®è½¯çš„å°å†°ã€‚</li>
<li>GPT-3ï¼Œä½œä¸ºä¸€ä¸ªæ— ç›‘ç£æ¨¡å‹ï¼Œå‡ ä¹å¯ä»¥å®Œæˆè‡ªç„¶è¯­è¨€å¤„ç†çš„ç»å¤§éƒ¨åˆ†ä»»åŠ¡ï¼Œå¦‚é¢å‘é—®é¢˜çš„æœç´¢ã€é˜…è¯»ç†è§£ã€è¯­ä¹‰æ¨æ–­ã€æœºå™¨ç¿»è¯‘ã€æ–‡ç« ç”Ÿæˆå’Œè‡ªåŠ¨é—®ç­”ç­‰ç­‰ã€‚</li>
<li>GPT3.5ï¼Œæ˜¯ä¸€ç³»åˆ—æ¨¡å‹ï¼Œä½¿ç”¨<code>äººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ (RLHF)</code>ï¼Œä¸<code>GPT-3</code>æœ€å¤§çš„åŒºåˆ«åœ¨ä½¿ç”¨äº’è”ç½‘çš„èµ„æ–™ç›´æ¥è®­ç»ƒã€‚</li>
<li>GPT-4ï¼Œé’ˆå¯¹GPT-3ä¸åˆ†é’çº¢çš‚ç™½å’Œè´¨é‡å¥½ååœ°å¯¹ç½‘ç»œä¸Šçš„æ‰€æœ‰æ–‡æœ¬è¿›è¡Œå­¦ä¹ ï¼Œè¿›è€Œç”Ÿäº§å‡ºé”™è¯¯çš„ã€æ¶æ„å†’çŠ¯çš„ã€ç”šè‡³æ˜¯æ”»å‡»æ€§çš„è¯­è¨€è¾“å‡ºçš„ç¼ºé™·ï¼Œè€Œå‡†å¤‡æå‡ºæ–°çš„å‡çº§æ¨¡å‹ã€‚</li>
</ul>
<p><strong>ä¸€ä¸ªæ— ç›‘ç£æ¨¡å‹åŠŸèƒ½å¤šæ•ˆæœå¥½ï¼Œä¼¼ä¹è®©äººä»¬çœ‹åˆ°äº†é€šç”¨äººå·¥æ™ºèƒ½çš„å¸Œæœ›ï¼Œå¯èƒ½è¿™å°±æ˜¯ GPT-3 å½±å“å¦‚æ­¤ä¹‹å¤§çš„ä¸»è¦åŸå› ã€‚</strong></p>
<p>æœ‰äº†è¿™äº›æ¦‚å¿µæ€§çš„çŸ¥è¯†åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹è®¤è¯†<code>ChatGPT</code>ã€‚</p>
<h1 id="ChatGPT"><a href="#ChatGPT" class="headerlink" title="ChatGPT"></a>ChatGPT</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p>åœ¨å®˜ç½‘ä¸Šå®šä¹‰å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>ChatGPT: ä¸“é—¨é’ˆå¯¹å¯¹è¯è€Œä¼˜åŒ–çš„è¯­è¨€æ¨¡å‹ã€‚åŒæ—¶å·²ç»è®­ç»ƒäº†ä¸€ä¸ªåä¸ºChatGPTçš„æ¨¡å‹ï¼Œå®ƒä»¥å¯¹è¯çš„æ–¹å¼è¿›è¡Œäº¤äº’ã€‚å¯¹è¯å½¢å¼ä½¿ChatGPTèƒ½å¤Ÿå›ç­”åç»­é—®é¢˜ï¼Œæ‰¿è®¤é”™è¯¯ï¼ŒæŒ‘æˆ˜ä¸æ­£ç¡®çš„å‰æï¼Œæ‹’ç»ä¸é€‚å½“çš„è¯·æ±‚ã€‚ChatGPTæ˜¯InstructGPTçš„å…„å¼Ÿæ¨¡å‹ï¼ŒInstructGPTè¢«è®­ç»ƒä¸ºéµå¾ªæç¤ºä¸­çš„è¯´æ˜å¹¶æä¾›è¯¦ç»†çš„å“åº”ã€‚ â€”â€” <a href="https://openai.com/blog/chatgpt/" target="_blank" rel="noopener">ChatGPTå®˜ç½‘</a></p>
</blockquote>
<p>æŒ‰ç…§æˆ‘æ‰€ç†è§£æ¥è¯´ï¼ŒChatGPTæ˜¯ï¼š</p>
<ul>
<li>ä¸€ä¸ªåŸºäº<code>GPT-3.5ç³»åˆ—æ¨¡å‹</code> + <code>äººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ (RLHF)</code>å®ç°çš„è¯­è¨€æ¨¡å‹</li>
<li>ä¸€ä¸ªå¯ä»¥æ­£å¸¸å¯¹è¯èŠå¤©ã€è‡ªåŠ¨çº æ­£é”™è¯¯çš„æ™ºèƒ½å¯¹è¯æœºå™¨äºº(å¿«é€Ÿï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¤ªé•¿æ—¶é—´)</li>
<li>ä¸€ä¸ªé“¾æ¥äº’è”ç½‘æ‰€æœ‰å…¬å¼€ä¿¡æ¯ï¼Œèƒ½æ£€ç´¢åˆ°æ‰€æœ‰ä¿¡æ¯å’Œæ€»ç»“çš„æ™ºèƒ½æœç´¢å¼•æ“</li>
<li>ä¸€ä¸ªå¯ä»¥è¾…åŠ©ä½ å®ç°ç›¸å…³å·¥ä½œï¼ˆå¦‚ï¼šä½œä¸šï¼Œä»£ç ï¼Œè®ºæ–‡ç­‰ï¼‰çš„æ™ºèƒ½å·¥å…·</li>
</ul>
<p><strong><a href="https://openai.com/blog/instruction-following/" target="_blank" rel="noopener">InstructGPT</a> VS ChatGPT</strong></p>
<ul>
<li>ä¸¤è€…éƒ½æ˜¯åŸºäº<code>GPT-3.5ç³»åˆ—æ¨¡å‹</code>åšè°ƒæ•´çš„è¯­è¨€æ¨¡å‹</li>
<li><code>InstructGPT</code>æ˜¯ä¸€ä¸ªé—®é¢˜å°±ä¸€ä¸ªå›ç­”ï¼Œå¦‚æœå›ç­”ä¸æ­£ç¡®å°±è°ƒæ•´ï¼Œ <code>ChatGPT</code>åˆ™æ˜¯ä¸€ä¸ªé—®é¢˜å°±å¤šä¸ªå›ç­”ï¼Œç„¶åå­¦ä¹ å°†è¿™äº›å›ç­”è¿›è¡Œæ’åº</li>
</ul>
<p>å¦‚ä½•ä½¿ç”¨ï¼š</p>
<p>å…¶å®å¦‚æœå¯ä»¥ç›´æ¥è®¿é—®<a href="https://chat.openai.com/" target="_blank" rel="noopener">ChatGPTå®˜ç½‘</a>å°±å¯ä»¥ç›´æ¥ç”¨ï¼Œå›½å†…ä¹Ÿæœ‰å¾ˆå¤šæ’ä»¶å¯ä»¥ä½¿ç”¨ã€‚</p>
<h2 id="å½±å“ä»€ä¹ˆ"><a href="#å½±å“ä»€ä¹ˆ" class="headerlink" title="å½±å“ä»€ä¹ˆ"></a>å½±å“ä»€ä¹ˆ</h2><p>ChatGPTçš„ç«çˆ†æ˜¯AIå¤šå¹´æ²‰æ·€çš„ä¸€æ¬¡æŠ€æœ¯çˆ†å‘ï¼Œè·ç¦»ä¸Šä¸€æ¬¡AIæŠ€æœ¯çš„çƒ­ç‚¹æ–°é—»è¿˜æ˜¯åœ¨è°·æ­Œçš„é˜¿å°”æ³•ç‹—æˆ˜èƒœä¸–ç•Œå›´æ£‹å† å†›æä¸–çŸ³ï¼ˆ2016å¹´ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å…ˆæ”¶é›†ä¸€ä¸‹ç›®å‰ä½¿ç”¨AIæŠ€æœ¯çš„ä¸€äº›åœºæ™¯ï¼š</p>
<ul>
<li>å„ç§è¯†åˆ«ï¼Œäººè„¸ã€æŒ‡çº¹ç­‰</li>
<li>æ™ºèƒ½è¾…åŠ©é©¾é©¶</li>
<li>å„ç§è½¬ä¹‰ï¼Œå¦‚ï¼šè¯­éŸ³è½¬æ–‡å­—ï¼Œæ–‡å­—è½¬è¯­éŸ³ï¼Œ ç¿»è¯‘ç­‰</li>
<li>å„ç§è¯­éŸ³åŠ©æ‰‹ï¼Œå¦‚ï¼šSiriï¼Œå°çˆ±åŒå­¦ç­‰</li>
</ul>
<p>å…¶å®ï¼ŒAIåœ¨æˆ‘ä»¬ç”Ÿæ´»ä¸­å·²ç»éšå¤„å¯è§ï¼Œåªæ˜¯æœ‰æ—¶å€™æˆ‘ä»¬è§‰å¾—è¿™äº›åŠŸèƒ½è¿˜æ˜¯æ¯”è¾ƒå±äºæœºå™¨èŒƒå›´å†…çš„ï¼Œå¦‚æœ‰æ—¶å€™å°çˆ±åŒå­¦ä¼šè¯´â€œæˆ‘æ²¡å¬æ¸…æ¥šä½ çš„é—®é¢˜â€è¿™ç§æ˜æ˜¾éæ™ºèƒ½å›ç­”ï¼Œç»™æˆ‘ä»¬é€ æˆä¸€ç§è®¤çŸ¥è§‰å¾—AIå¾ˆå‚»ã€‚</p>
<p>å› æ­¤ï¼ŒChatGPTçš„ç«çˆ†ä¹‹å¤„åœ¨äºï¼šå®ƒçœŸçš„å¯ä»¥åƒä¸€ä¸ªäººç±»ç»™äºˆä½ æƒ³è¦çš„å›ç­”ï¼Œæ›´åŠ å‡†ç¡®çš„è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªè´Ÿè´£ä»»çš„æ™ºèƒ½AIï¼Œèƒ½ç«­å°½æ‰€èƒ½çš„ç»™ä½ æƒ³è¦çš„ç­”æ¡ˆã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»ç½‘ä¸Šæœç´¢äº†ä¸€äº›èµ„æ–™ï¼Œä»å‡ ä¸ªè¡Œä¸šè®²ä¸€ä¸‹å®ƒå¯èƒ½ä¼šå¸¦æ¥çš„å½±å“ã€‚</p>
<h3 id="æ•™è‚²è¡Œä¸š"><a href="#æ•™è‚²è¡Œä¸š" class="headerlink" title="æ•™è‚²è¡Œä¸š"></a>æ•™è‚²è¡Œä¸š</h3><p>å…¶å®æœ€å¤§çš„æ‹…å¿ƒå°±æ˜¯ï¼Œå¤§å®¶åˆ©ç”¨chatgptå»å†™ä½œä¸šæˆ–è®ºæ–‡ï¼Œå°¤å…¶æ˜¯å­¦é¾„å‰å„¿ç«¥å’Œä¸­å°å­¦é˜¶æ®µï¼Œæ­£æ˜¯å±äºçŸ¥è¯†æ¢ç´¢æœŸï¼Œchatgptæ˜¯å¦ä¼šå½±å“å­¦ç”Ÿçš„å­¦ä¹ å—ï¼Ÿ</p>
<p>è¿™é‡Œå¼•ç”¨ä¸€æ®µè¯ï¼Œé’ˆå¯¹å›½å†…çš„ï¼Œå´æ°¸å’Œæ•™æˆçš„ä¸€ä¸ªè§‚ç‚¹ï¼š</p>
<blockquote>
<p>é¢å‘æœªæ¥ï¼Œä½œä¸ºæ‰¿æ‹…2021å¹´åº¦å›½å®¶ç¤¾ä¼šç§‘å­¦åŸºé‡‘é‡å¤§é¡¹ç›®â€œé¢å‘æœªæˆå¹´äººçš„äººå·¥æ™ºèƒ½æŠ€æœ¯è§„èŒƒç ”ç©¶â€çš„é¦–å¸­ä¸“å®¶ï¼Œå´æ°¸å’Œä»äº”ä¸ªæ–¹é¢ç»™å‡ºäº†æ•™è‚²äººå·¥æ™ºèƒ½å‘å±•çš„å»ºè®®ï¼š</p>
<ul>
<li>ä¸€ã€æ˜¯è¿›è¡Œç†è®ºçš„å¥ åŸºï¼Œç¡®å®šä»·å€¼è§‚ã€æˆ˜ç•¥æ–¹å‘ï¼Œåšå¥½é¡¶å±‚è®¾è®¡ï¼›</li>
<li>äºŒã€æ˜¯æå‡äººç±»çš„äººå·¥æ™ºèƒ½æ ¸å¿ƒç´ å…»ï¼Œä»è€Œä½¿å¸ˆç”Ÿèƒ½æ­£ç¡®é©¾é©­æ™ºèƒ½å·¥å…·ï¼›</li>
<li>ä¸‰ã€æ˜¯å®Œå–„æŠ€æœ¯åº”ç”¨çš„ç›‘ç®¡ï¼Œä¿æŒäººå·¥æ™ºèƒ½çš„å‘å–„æ€§ï¼Œä½¿æŠ€æœ¯èƒ½å¤Ÿæ›´å¥½åœ°ä¸ºäººæœåŠ¡ï¼›</li>
<li>å››ã€æ˜¯è€ƒè™‘æŠ€æœ¯å’Œæ•™è‚²æ·±åº¦èåˆçš„ä¼¦ç†é—®é¢˜ï¼Œæ›´å¥½åœ°åšåˆ°äººæœºå…±èï¼›</li>
<li>äº”ã€æ˜¯è½å®ç›¸å…³æ ‡å‡†ï¼Œæ¯”å¦‚æ•™è‚²äººå·¥æ™ºèƒ½çš„ç®—æ³•æè¿°ä¿¡æ¯ã€å®‰å…¨æè¿°æ¡†æ¶ã€ä¼¦ç†å®¡æŸ¥è§„èŒƒã€‚</li>
</ul>
</blockquote>
<h3 id="ITè¡Œä¸š"><a href="#ITè¡Œä¸š" class="headerlink" title="ITè¡Œä¸š"></a>ITè¡Œä¸š</h3><p>ç½‘ç»œå·²ç»æœ‰å¾ˆå¤šäººåˆ©ç”¨chatgptå»ç”Ÿæˆä»£ç ç”šè‡³æ­£å¼ä¸Šçº¿ï¼Œé‚£ä¹ˆæ˜¯å¦ä¼šä»£æ›¿ç¨‹åºå‘˜ï¼Œæˆ–è€…ä»¥åç¨‹åºå‘˜å·²ç»å¦‚ä½•å­¦ä¹ å‘å±•ï¼Ÿ</p>
<p>è¿™é‡Œå¼•ç”¨çŸ¥ä¹ä¸Šçš„ä¸€ä¸ªé—®ç­”<a href="https://www.zhihu.com/question/570403406" target="_blank" rel="noopener">OpenAI çš„è¶…çº§å¯¹è¯æ¨¡å‹ ChatGPT ä¼šå¯¼è‡´ç¨‹åºå‘˜å¤§è§„æ¨¡å¤±ä¸šå—ï¼Ÿ</a>ï¼Œæ€»ç»“ä¸€ä¸‹ç²¾å½©å›ç­”ï¼š</p>
<blockquote>
<ul>
<li>chatgptä½œä¸ºä¸€ä¸ªç®¡å®¶å‹æŸ¥æ‰¾ï¼ŒæŠŠå–‚åˆ°ä½ å˜´é‡Œè¿™ä¸ªåŠŸèƒ½å‘æŒ¥åˆ°äº†æè‡´ã€‚</li>
<li>chatgptç»™å‡ºçš„ä»£ç å®ç°å’Œâ€èƒŒé¢˜å®¶â€ä¹Ÿå‡ºå¥‡çš„ç›¸ä¼¼</li>
<li>chatGPTæœ€å¤šèƒ½çœ‹ä½œä¸€ä¸ªåŠ©æ‰‹, å¯¹äºå¹¿å¤§ç¨‹åºå‘˜æ¥è¯´æ˜¯ä¸€ä¸ªä¸é”™çš„è¾…åŠ©å·¥å…·</li>
<li>AIçš„å‘å±•å·²ç»æ˜ç¡®å‘Šè¯‰ä½ äº†ï¼Œä¸è¦å·ç»†èŠ‚ä¸Šçš„ä¸œè¥¿ï¼Œæå‡æ ¸å¿ƒç«äº‰åŠ›ï¼Œå°±æ˜¯ä½ çš„è§£å†³é—®é¢˜çš„æ€è·¯</li>
<li>æ²¡æœ‰æ€æƒ³çš„äººæ‰æ˜¯æœ€å¿«è¢«å–ä»£çš„</li>
<li>ChatGPT åˆæ¥äº†ï¼Œè¿™æ¬¡æˆ‘æ˜¯ä»€ä¹ˆæ„Ÿè§‰å‘¢ï¼Ÿæ„Ÿè§‰çœŸçš„ Google å’Œ StackOverflow å·²ç»ä¸å¥½ç”¨äº†</li>
<li>å€ŸåŠ© Copilot å’Œ ChatGPTï¼Œç¨‹åºå‘˜çš„è‡ªæˆ‘æ„Ÿè§‰æ›´æ£’äº†ï¼å¯ä»¥æ›´åŠ è‚†æ— å¿Œæƒ®åœ°åœ¨æœªçŸ¥é¢†åŸŸé‡Œè‡ªç”±æ¢ç´¢äº†ï¼</li>
</ul>
</blockquote>
<h3 id="å…¶ä»–è¡Œä¸š"><a href="#å…¶ä»–è¡Œä¸š" class="headerlink" title="å…¶ä»–è¡Œä¸š"></a>å…¶ä»–è¡Œä¸š</h3><p>å¼•ç”¨çŸ¥ä¹ä¸Šçš„é—®ç­”<a href="https://www.zhihu.com/question/582809884/answer/2883146417" target="_blank" rel="noopener">ChatGPT ä¼šå–ä»£äººçš„å“ªäº›å·¥ä½œï¼Ÿå“ªäº›äººç¾¤çš„èŒä¸šè§„åˆ’éœ€è¦è½¬å˜ï¼Ÿ</a>ï¼Œæ€»ç»“ä¸€ä¸‹ç²¾å½©å›ç­”ï¼š</p>
<blockquote>
<ul>
<li>å†…å®¹è¡Œä¸šï¼šæ–‡å­—+å›¾åƒå¤„ç†æ•ˆç‡çš„æå‡ï¼Œæ›´åŠ åºå¤§çš„å†…å®¹ç”Ÿæ€ä¹Ÿæœ‰äº†å­˜åœ¨çš„åŸºç¡€ï¼Œæ¨åŠ¨èŠ¯ç‰‡å’Œç¡¬ä»¶çš„æå‡ï¼Œä»è€Œå®ç°æ›´å®å¤§çš„æ•°å­—ä¸–ç•Œ</li>
<li>æ¸¸æˆè¡Œä¸šï¼šnpcä¼šå’Œä½ æµç•…çš„å¯¹è¯ï¼Œé»„æ²¹é‡Œé¢å¯ä»¥æ ¹æ®ä½ çš„xpæ¥å«ä¸»äººæˆ–è€…å˜æ€ï¼Œæ–°çš„éœ€æ±‚ä¼šç”Ÿæˆï¼Œä¹Ÿå‚¬ç”Ÿæ–°çš„ç»æµå½¢æ€</li>
<li>è¿™å°†æ˜¯äººå·¥æ™ºèƒ½è¯ç”Ÿä»¥æ¥ï¼Œäººç±»çš„å·¥ä½œç¬¬ä¸€æ¬¡çœŸæ­£æ¥è¿‘è¢«å¤§è§„æ¨¡æ›¿ä»£çš„æ—¶ç‚¹â€”â€”ä¸æ˜¯éƒ¨åˆ†å·¥ä½œè¢«æ›¿ä»£ï¼Œè€Œæ˜¯å¤§è§„æ¨¡è¢«æ›¿ä»£çš„å¼€å§‹ã€‚</li>
<li>ChatGPTçš„å•†ä¸šæ¨¡å¼ï¼Œå¯èƒ½ä¸ä¼šåƒæœç´¢é‚£æ ·ä¾èµ–å¹¿å‘Šï¼Œéš¾ä»¥å‡ºç°å¤§è§„æ¨¡çš„2Cçº§åº”ç”¨ï¼Œè€Œæ›´å¯èƒ½æ˜¯2Bï¼Œä¸»è¦è¿ç”¨äºå·¥ä½œåœºæ™¯</li>
<li>ä¼šæé—®é¢˜çš„äººå°†æ˜¯æœ€åçš„èµ¢å®¶ï¼Œå¯ä»¥è®©ä½ çš„å·¥ä½œä¸ä½†ä¸ä¼šè¢«AIå–ä»£ï¼Œåè€Œåˆ›é€ äº†å…¨æ–°çš„å·¥ä½œæ–¹å¼</li>
</ul>
</blockquote>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç¬¬ä¸€ç¯‡å…³äºChatGPTçš„äº†è§£å°±å…ˆå†™åˆ°è¿™é‡Œï¼Œä½œä¸ºAIå°ç™½ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¹ åˆ°ï¼š</p>
<ul>
<li>AIæ¨¡å‹æ˜¯çš„è®­ç»ƒè¿‡ç¨‹ï¼šç¡®å®šæ¨¡å‹&gt;å‡†å¤‡æ•°æ®&gt;è®­ç»ƒæ¨¡å‹&gt;è°ƒæ•´æ¨¡å‹&gt;éƒ¨ç½²æ¨¡å‹</li>
<li>ChatGPTçš„å®è´¨å®šä¹‰ï¼Œåˆ©ç”¨äº’è”ç½‘çš„èµ„æ–™è®­ç»ƒ<code>GPT-3.5æ¨¡å‹</code>è€Œæˆçš„ä¸€ä¸ªå¯¹è¯å¼çš„è¯­è¨€æ¨¡å‹</li>
<li>ChatGPTçš„å‡ºç°å¯èƒ½å¸¦æ¥çš„æ”¹å˜ï¼Œå¯ä»¥å°†æŸäº›è¡Œä¸šå²—ä½çš„ä»·å€¼é‡æ–°å®šä¹‰ï¼Œä½†æ˜¯å´èƒ½æé«˜æ›´å¤šå²—ä½çš„å·¥ä½œæ•ˆç‡å’Œä»·å€¼ï¼Œä»è€Œæå‡æ•´ä¸ªç¤¾ä¼šè¿è½¬é€Ÿåº¦</li>
</ul>
<p>æœ€åï¼Œé—®ChatGPTæˆ‘èƒ½ä»ä½ è¿™é‡Œå­¦åˆ°ä»€ä¹ˆï¼Ÿå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/assets/img/20230216-3.png" alt></p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li><a href="https://support.huaweicloud.com/productdesc-modelarts/modelarts_01_0010.html" target="_blank" rel="noopener">åä¸º AIå¼€å‘åŸºæœ¬æµç¨‹ä»‹ç»</a></li>
<li><a href="https://learn.microsoft.com/zh-cn/azure/architecture/data-guide/big-data/ai-overview" target="_blank" rel="noopener">è°·æ­Œ äººå·¥æ™ºèƒ½ (AI) ä½“ç³»ç»“æ„è®¾è®¡</a></li>
<li><a href="https://www.8btc.com/article/6791988" target="_blank" rel="noopener">ChatGPTçš„å´›èµ·ï¼šä»GPT-1åˆ°GPT-3ï¼ŒAIGCæ—¶ä»£å³å°†åˆ°æ¥</a></li>
<li><a href="https://github.com/BlinkDL/ChatRWKV" target="_blank" rel="noopener">è‡ªå·±æ­å»ºchatpt</a></li>
<li><a href="https://gpt3demo.com/" target="_blank" rel="noopener">GPT-3 demoåº”ç”¨æ”¶é›†</a></li>
<li><a href="http://edu.china.com.cn/2023-02/15/content_85106877.htm" target="_blank" rel="noopener">ç”¨ChatGPTå†™ä½œä¸šä¼šæ¯äº†å­©å­çš„å­¦ä¸šå—ï¼Ÿ</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»å¾®å‰ç«¯åˆ°æ¨¡å—è”é‚¦</title>
    <url>/today/20230217.html</url>
    <content><![CDATA[<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://mp.weixin.qq.com/s/8vfTp-FZbYNk2k8gCIGc8w" target="_blank" rel="noopener">æ¨¡å—è”é‚¦åœ¨å¾®å‰ç«¯æ¶æ„ä¸­çš„å®è·µ</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>é€šè¿‡ JS æ„å»ºæˆ‘ä»¬è‡ªå·±çš„ JS è§£é‡Šå™¨</title>
    <url>/today/20230218.html</url>
    <content><![CDATA[<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://segmentfault.com/a/1190000038252581re" target="_blank" rel="noopener">giao-js</a></p>
]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½ä»£ç ç³»åˆ—â€”â€”ä»‹ç»</title>
    <url>/lowcode/index.html</url>
    <content><![CDATA[<h1 id="ç³»åˆ—æ–‡ç« "><a href="#ç³»åˆ—æ–‡ç« " class="headerlink" title="ç³»åˆ—æ–‡ç« "></a>ç³»åˆ—æ–‡ç« </h1><ul>
<li><a href="/lowcode/sandbox.html">ã€Šä½ä»£ç ç³»åˆ—â€”â€”jsæ²™ç®±è®¾è®¡ã€‹</a></li>
<li><a href="/lowcode/component.html">ã€Šä½ä»£ç ç³»åˆ—â€”â€”ç»„ä»¶æè¿°DSLã€‹(ç¼–å†™ä¸­)</a></li>
</ul>
<h1 id="ä½ä»£ç "><a href="#ä½ä»£ç " class="headerlink" title="ä½ä»£ç "></a>ä½ä»£ç </h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><p>ä½ä»£ç ï¼Œå¯ä»¥ç†è§£æˆå¼€å‘äººå‘˜ä¸ºäº†å¿«é€Ÿå®Œæˆé¡µé¢å¼€å‘è€Œæ­å»ºä¸€ä¸ªå¿«é€Ÿæ„å»ºé¡µé¢å¹³å°ï¼Œé‡Œé¢ä¸€èˆ¬åŒ…æ‹¬å‡ ä¸ªåŠŸèƒ½ç‚¹ï¼š</p>
<ul>
<li>æ— éœ€å†™ä»£ç å³å¯å®Œæˆé¡µé¢UIå¸ƒå±€</li>
<li>æ”¯æŒé¡µé¢è¿›è¡ŒäºŒæ¬¡ä»£ç å¼€å‘</li>
<li>æ”¯æŒé¡µé¢æˆ–ç³»ç»Ÿçº§åˆ«çš„å¯¼å‡ºæˆ–éƒ¨ç½²å‘å¸ƒ</li>
</ul>
<p>ç®€å•çš„è¯´ï¼Œå°±æ˜¯å¿«é€Ÿã€ç¨³å®šçš„è¾“å‡ºå¼€å‘æ‰€éœ€è¦çš„é¡µé¢ï¼Œå‡å°‘é‡å¤æ€§åŠ³åŠ¨ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<a id="more"></a>

<h2 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h2><p>ç›®å‰å¸‚é¢çš„ä½ä»£ç çš„å®ç°æ–¹å¼ä¸»è¦æœ‰å‡ ç§ï¼š</p>
<p>å›½å†…å¼€æºç›®å‰è¿˜åœ¨ç»´æŠ¤æ›´æ–°çš„ï¼š</p>
<ul>
<li><a href="https://github.com/baidu/amis" target="_blank" rel="noopener">ç™¾åº¦ amis</a>  å‰ç«¯ä½ä»£ç æ¡†æ¶ï¼Œé€šè¿‡ JSON é…ç½®å°±èƒ½ç”Ÿæˆå„ç§é¡µé¢ã€‚</li>
<li><a href="https://github.com/alibaba/lowcode-engine" target="_blank" rel="noopener">é˜¿é‡Œ lowcode engine</a> ä½ä»£ç å¼•æ“</li>
<li><a href="https://formilyjs.org/" target="_blank" rel="noopener">é˜¿é‡Œ formilyjs</a> è¡¨å•ç¼–è¾‘å™¨</li>
<li><a href="https://github.com/steedos/steedos-platform/" target="_blank" rel="noopener">åç‚é­”æ–¹</a> æ•°æ®é©±åŠ¨ä½ä»£ç å¹³å°</li>
<li><a href="https://github.com/AnsGoo/openDataV" target="_blank" rel="noopener">OpenDataV </a>  çº¯å‰ç«¯çš„æ‹–æ‹½å¼ã€å¯è§†åŒ–ã€ä½ä»£ç æ•°æ®å¯è§†åŒ–</li>
<li><a href="https://github.com/wangyuan389/mall-cook" target="_blank" rel="noopener">mall-cook</a> å•†åŸä½ä»£ç å¹³å°ï¼Œå¯è§†åŒ–æ­å»ºH5ã€å°ç¨‹åºå¤šç«¯å•†åŸ</li>
<li><a href="https://github.com/nocobase/nocobase" target="_blank" rel="noopener">nocobase</a> ä¸€ä¸ªå¯ä¼¸ç¼©æ€§ä¼˜å…ˆçš„å¼€æºæ— ä»£ç /ä½ä»£ç å¹³å°ï¼Œç”¨äºæ„å»ºå†…éƒ¨å·¥å…·</li>
</ul>
<p>è™½ç„¶æœ‰äº›é¡¹ç›®ä¸ç»´æŠ¤äº†ï¼Œä½†æ˜¯å€¼å¾—å€Ÿé‰´ï¼š</p>
<ul>
<li><a href="https://github.com/i5ting/imove" target="_blank" rel="noopener">imove é€»è¾‘ç¼–æ’å™¨</a> </li>
</ul>
<p>å€¼å¾—é˜…è¯»ä¸€äº›æ–‡ç« </p>
<ul>
<li><a href="https://medium.com/@andreasmuelder/ai-powered-low-code-platform-by-example-how-to-use-chatgpt-to-abstract-from-domain-languages-625c3abf0e49" target="_blank" rel="noopener">AIé©±åŠ¨çš„æ— ä»£ç å¹³å°â€“å¦‚ä½•ä½¿ç”¨chat GPTæŠ½è±¡åŸŸè¯­è¨€</a></li>
</ul>
<p>ä»¥ä¸Šæ•°æ®æ¥æºï¼š<br><a href="https://github.com/taowen/awesome-lowcode" target="_blank" rel="noopener">github/awesome-lowcode å›½å†…ä½ä»£ç å¹³å°ä»ä¸šè€…äº¤æµ</a></p>
<h2 id="èµ„æ–™æ”¶é›†"><a href="#èµ„æ–™æ”¶é›†" class="headerlink" title="èµ„æ–™æ”¶é›†"></a>èµ„æ–™æ”¶é›†</h2><h3 id="ç»„ä»¶ä¸­å¿ƒç›¸å…³"><a href="#ç»„ä»¶ä¸­å¿ƒç›¸å…³" class="headerlink" title="ç»„ä»¶ä¸­å¿ƒç›¸å…³"></a>ç»„ä»¶ä¸­å¿ƒç›¸å…³</h3><p><a href="https://juejin.cn/post/6986824393653485605" target="_blank" rel="noopener">å¦‚ä½•è®¾è®¡å¯è§†åŒ–æ­å»ºå¹³å°çš„ç»„ä»¶å•†åº—ï¼Ÿ</a><br><a href="https://juejin.cn/post/7127440050937151525" target="_blank" rel="noopener">æµ…è°ˆä½ä»£ç å¹³å°è¿œç¨‹ç»„ä»¶åŠ è½½æ–¹æ¡ˆ</a></p>
<h3 id="æ‹–æ‹½ç›¸å…³"><a href="#æ‹–æ‹½ç›¸å…³" class="headerlink" title="æ‹–æ‹½ç›¸å…³"></a>æ‹–æ‹½ç›¸å…³</h3><p><a href="https://juejin.cn/post/6908502083075325959" target="_blank" rel="noopener">å¯è§†åŒ–æ‹–æ‹½ç»„ä»¶åº“ä¸€äº›æŠ€æœ¯è¦ç‚¹åŸç†åˆ†æ</a><br><a href="https://juejin.cn/post/6918881497264947207" target="_blank" rel="noopener">å¯è§†åŒ–æ‹–æ‹½ç»„ä»¶åº“ä¸€äº›æŠ€æœ¯è¦ç‚¹åŸç†åˆ†æï¼ˆäºŒï¼‰</a><br><a href="https://juejin.cn/post/6929302655118344200" target="_blank" rel="noopener">å¯è§†åŒ–æ‹–æ‹½ç»„ä»¶åº“ä¸€äº›æŠ€æœ¯è¦ç‚¹åŸç†åˆ†æï¼ˆä¸‰ï¼‰</a><br><a href="https://juejin.cn/post/7129311619963682830" target="_blank" rel="noopener">å¯è§†åŒ–æ‹–æ‹½ç»„ä»¶åº“ä¸€äº›æŠ€æœ¯è¦ç‚¹åŸç†åˆ†æï¼ˆå››ï¼‰</a></p>
<h1 id="æ¶æ„è®¾è®¡"><a href="#æ¶æ„è®¾è®¡" class="headerlink" title="æ¶æ„è®¾è®¡"></a>æ¶æ„è®¾è®¡</h1><h2 id="æ¶æ„å›¾"><a href="#æ¶æ„å›¾" class="headerlink" title="æ¶æ„å›¾"></a>æ¶æ„å›¾</h2>
<div class="mxgraph-container">
    <div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;resize&quot;:false,&quot;page&quot;:0,&quot;toolbar&quot;:&quot;lightbox zoom layers pages&quot;,&quot;url&quot;:&quot;/assets/drawio/lowcode.drawio&quot;}"></div>
</div>


<h2 id="æ¨¡å—è®¾è®¡"><a href="#æ¨¡å—è®¾è®¡" class="headerlink" title="æ¨¡å—è®¾è®¡"></a>æ¨¡å—è®¾è®¡</h2><blockquote class="pullquote mindmap mindmap-md"><ul>
<li>ä½ä»£ç å¹³å°<ul>
<li>æ ¸å¿ƒæ¨¡å—<ul>
<li>ç¼–è¾‘å™¨</li>
<li>ç¼–è¯‘å¼•æ“</li>
</ul>
</li>
<li>å¹³å°èƒ½åŠ›<ul>
<li>ç®¡ç†èƒ½åŠ›<ul>
<li>ç³»ç»Ÿ</li>
<li>é¡µé¢</li>
</ul>
</li>
<li>ç‰ˆæœ¬æ§åˆ¶<ul>
<li>é¡µé¢ç‰ˆæœ¬æ§åˆ¶</li>
<li>é¡µé¢å‘å¸ƒæµç¨‹</li>
</ul>
</li>
<li>æƒé™ç™»å½•<ul>
<li>ç™»å½•</li>
<li>æƒé™</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>

<h2 id="ç¼–è¾‘å™¨è®¾è®¡"><a href="#ç¼–è¾‘å™¨è®¾è®¡" class="headerlink" title="ç¼–è¾‘å™¨è®¾è®¡"></a>ç¼–è¾‘å™¨è®¾è®¡</h2><blockquote class="pullquote mindmap mindmap-md"><ul>
<li>ç¼–è¾‘å™¨<ul>
<li>ç»„ä»¶æè¿°<ul>
<li>DSL</li>
</ul>
</li>
<li>ç”»å¸ƒå¸ƒå±€</li>
<li>æ‹–æ‹½</li>
<li>ç»„ä»¶å¿«é€Ÿå¼•å…¥<ul>
<li>ç»„ä»¶å¼•å…¥æ’ä»¶</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>

<h2 id="ç¼–è¯‘å¼•æ“"><a href="#ç¼–è¯‘å¼•æ“" class="headerlink" title="ç¼–è¯‘å¼•æ“"></a>ç¼–è¯‘å¼•æ“</h2><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>ä½ä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ä½ä»£ç ç³»åˆ—â€”â€”jsæ²™ç®±è®¾è®¡</title>
    <url>/lowcode/sandbox.html</url>
    <content><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>ç”±äºè‡ªå·±å‚ä¸è¿‡ä½ä»£ç å¹³å°å¼€å‘ï¼Œæ‰€ä»¥å¸Œæœ›èƒ½æŠŠæˆ‘è‡ªå·±å¼€å‘ä½ä»£ç ä¸­é‡åˆ°çš„é—®é¢˜æˆ–è€…ä¸€äº›è®¾è®¡æ€è·¯è¿›è¡Œæ€»ç»“æ±‡æ€»ï¼Œè¿™æ˜¯å¼€å§‹å†™çš„ç¬¬ä¸€ç¯‡ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒåŸºç¡€çš„ä¸€ç¯‡ï¼Œå…³äºä½ä»£ç å¹³å°çš„ä»‹ç»ä¼šæ”¾åœ¨ä»‹ç»ç¯‡ç« ï¼Œè¿™ç¯‡å°±ä¸åšè¿‡å¤šä»‹ç»ã€‚</p>
<p>è¿™é‡Œä¸ºä»€ä¹ˆä¼šä¸€å¼€å§‹ä»‹ç»jsæ²™ç®±è®¾è®¡å‘¢ï¼Ÿ</p>
<p>å› ä¸ºä½ä»£ç å¹³å°ï¼Œä¼šè¿è¡Œç”¨æˆ·æœ¬èº«è‡ªå·±ç¼–å†™çš„ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œè¿™é‡Œå°±éœ€è¦å¹³å°å»è¿è¡Œç”¨æˆ·å†™çš„jsä»£ç ï¼Œä½†æ˜¯jsä»£ç ä¿å­˜åˆ°æ•°æ®åº“æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå¹³å°åº”è¯¥æ€ä¹ˆè¿è¡Œå‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯jsæ²™ç®±ï¼Œé‚£ä¹ˆå¦‚ä½•è®¾è®¡ä¸€ä¸ªæ²™ç®±å‘¢ï¼ŸæŒ‰ç…§ä½ä»£ç å¹³å°çš„éœ€è¦ç‰¹æ€§ï¼Œä¸»è¦ä»¥ä¸‹å‡ æ–¹é¢ï¼š</p>
<ul>
<li>éš”ç¦»ï¼Œéš”ç¦»æ˜¯ä¸ºäº†ä¿è¯å½“å‰æ‰§è¡Œä»£ç ä¸å½±å“æ•´ä¸ªå¹³å°çš„ä»£ç </li>
<li>æ’å…¥ï¼Œæ²™ç®±å…è®¸æ’å…¥å¹³å°çš„å†…ç½®å¯¹è±¡</li>
<li>å®¹é”™ï¼Œæ²™ç®±å†…ä»£ç å³ä½¿æœ‰é”™è¯¯ï¼Œä¹Ÿä¸å½±å“æ•´ä¸ªå¹³å°æ‰§è¡Œ</li>
</ul>
<a id="more"></a>
<h1 id="æ²™ç®±"><a href="#æ²™ç®±" class="headerlink" title="æ²™ç®±"></a>æ²™ç®±</h1><p>åœ¨è®¾è®¡æ²™ç®±ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¯¹æ²™ç®±æœ‰ä¸ªäº†è§£ï¼š</p>
<blockquote>
<p>åœ¨è®¡ç®—æœºå®‰å…¨ä¸­ï¼Œæ²™ç®±ï¼ˆSandboxï¼‰æ˜¯ä¸€ç§ç”¨äºéš”ç¦»æ­£åœ¨è¿è¡Œç¨‹åºçš„å®‰å…¨æœºåˆ¶ï¼Œé€šå¸¸ç”¨äºæ‰§è¡Œæœªç»æµ‹è¯•æˆ–ä¸å—ä¿¡ä»»çš„ç¨‹åºæˆ–ä»£ç ï¼Œå®ƒä¼šä¸ºå¾…æ‰§è¡Œçš„ç¨‹åºåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„æ‰§è¡Œç¯å¢ƒï¼Œå†…éƒ¨ç¨‹åºçš„æ‰§è¡Œä¸ä¼šå½±å“åˆ°å¤–éƒ¨ç¨‹åºçš„è¿è¡Œã€‚</p>
</blockquote>
<p>é€šä¿—çš„è®²ï¼Œå°±æ˜¯ç”±æˆ‘ä»¬ä¸»ç¨‹åºè‡ªå·±è®¾å®šä¸€ä¸ªåŒºåŸŸï¼Œç”¨æ¥æ‰§è¡Œä»£ç ï¼Œä¸”è¿™æ®µä»£ç å¦‚ä½•æ‰§è¡Œéƒ½ä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„ä¸»ç¨‹åºã€‚</p>
<p>ä¸¾å‡ ä¸ªæˆ‘ä»¬å¼€å‘ä¸­ç»å¸¸ä¼šç”¨çš„æ²™ç®±ï¼š</p>
<ul>
<li>Vue templateé‡Œçš„è¡¨è¾¾å¼ï¼Œå¦‚: <code>&lt;div&gt;2&lt;/div&gt;</code>ï¼Œæ‰§è¡Œ<code>1+1</code>å°±æ˜¯Vueè®¾è®¡çš„ä¸€ä¸ªæ²™ç®±æœºåˆ¶</li>
<li>å¼€å‘Chromeæ’ä»¶ï¼Œæ’ä»¶é‡Œçš„ä»£ç æœ‰å¾ˆå¤šé™åˆ¶æ¡ä»¶ï¼Œå¾ªåºChromeæ’ä»¶è§„åˆ™ï¼Œé‚£ä¹ˆæ’ä»¶çš„è¿è¡Œç¯å¢ƒå’Œè§„åˆ™ä¹Ÿæ˜¯ä¸€ä¸ªæ²™ç®±</li>
<li>åœ¨çº¿ä»£ç ç¼–è¾‘å™¨ï¼Œ CodeSanboxåœ¨æ‰§è¡Œè„šæœ¬ä¹Ÿä¼šå•ç‹¬æˆç«‹ä¸€ä¸ªæ²™ç®±å»éš”ç¦»æ‰§è¡Œä»£ç ï¼Œé˜²æ­¢ä»£ç è®¿é—®æˆ–å½±å“ä¸»é¡µé¢</li>
<li>å¾®å‰ç«¯<code>qiangun</code>æˆ–<code>single-spa</code>æ¡†æ¶é‡Œä¸»åº”ç”¨å’Œå­åº”ç”¨ä¹‹é—´çš„å®Œå…¨éš”ç¦»ï¼Œä¹Ÿæ˜¯ä¸€ç§æ²™ç®±æœºåˆ¶ï¼Œå¦‚: åº”ç”¨ä¹‹é—´CSSæ ·å¼ä¸èƒ½äº’ç›¸å½±å“</li>
</ul>
<p>åœ¨äº†è§£å®Œæ²™ç®±æ˜¯ä»€ä¹ˆåï¼Œé‚£ä¹ˆåœ¨JavaScriptè¯­è¨€é‡Œå¦‚ä½•å®ç°æ²™ç®±å‘¢ï¼Ÿä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p>
<ul>
<li>ä½¿ç”¨ with å£°æ˜</li>
<li>ä½¿ç”¨ new Function å£°æ˜</li>
<li>åŸºäº Proxyå®ç°</li>
<li>åŸºäºå±æ€§ diffå®ç°</li>
<li>åŸºäº iframeå®ç°</li>
<li>åŸºäº ES ææ¡ˆ ShadowRealm API</li>
</ul>
<h1 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h1><h2 id="withå…³é”®å­—"><a href="#withå…³é”®å­—" class="headerlink" title="withå…³é”®å­—"></a>withå…³é”®å­—</h2><blockquote>
<p>with æ‰©å±•ä¸€ä¸ªè¯­å¥çš„ä½œç”¨åŸŸé“¾ã€‚ â€”â€” <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/with" target="_blank" rel="noopener">MDN with</a><br>JavaScript æŸ¥æ‰¾æŸä¸ªæœªä½¿ç”¨å‘½åç©ºé—´çš„å˜é‡æ—¶ï¼Œä¼šé€šè¿‡ä½œç”¨åŸŸé“¾æ¥æŸ¥æ‰¾ï¼Œä½œç”¨åŸŸé“¾æ˜¯è·Ÿæ‰§è¡Œä»£ç çš„ context æˆ–è€…åŒ…å«è¿™ä¸ªå˜é‡çš„å‡½æ•°æœ‰å…³ã€‚â€™withâ€™è¯­å¥å°†æŸä¸ªå¯¹è±¡æ·»åŠ åˆ°ä½œç”¨åŸŸé“¾çš„é¡¶éƒ¨ï¼Œå¦‚æœåœ¨ statement ä¸­æœ‰æŸä¸ªæœªä½¿ç”¨å‘½åç©ºé—´çš„å˜é‡ï¼Œè·Ÿä½œç”¨åŸŸé“¾ä¸­çš„æŸä¸ªå±æ€§åŒåï¼Œåˆ™è¿™ä¸ªå˜é‡å°†æŒ‡å‘è¿™ä¸ªå±æ€§å€¼ã€‚å¦‚æœæ²’æœ‰åŒåçš„å±æ€§ï¼Œåˆ™å°†æ‹‹å‡ºReferenceErrorå¼‚å¸¸ã€‚</p>
</blockquote>
<p>æŒ‰ç…§ä¸ªäººæ¯”è¾ƒå®¹æ˜“ç†è§£çš„æ„æ€ï¼Œå°±æ˜¯ç»™ä¸€æ®µä»£ç åŠ ä¸ŠæŒ‡å®šå¯¹è±¡ä¸ºè¯¥ä½œç”¨çš„å…¨å±€å˜é‡ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Math</span>.floor(<span class="number">1.1</span>) <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨with</span></span><br><span class="line"><span class="keyword">with</span>(<span class="built_in">Math</span>)&#123;</span><br><span class="line">    floor(<span class="number">1.1</span>) <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="new-Function"><a href="#new-Function" class="headerlink" title="new Function"></a>new Function</h2><p><code>new Function(argStr, codeStr)</code>æ˜¯èƒ½å°†å­—ç¬¦ä¸²ä»£ç è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„å‡½æ•°ã€‚å…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">'test'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'arg'</span>, <span class="string">'console.log(arg)'</span>);</span><br><span class="line"><span class="comment">// è¿™é‡Œç­‰äº test = (arg)=&gt; &#123;console.log(arg)&#125;;</span></span><br><span class="line"></span><br><span class="line">test(name); <span class="comment">// test</span></span><br></pre></td></tr></table></figure>

<h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><blockquote>
<p>Proxy å¯¹è±¡ç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ä»£ç†ï¼Œä»è€Œå®ç°åŸºæœ¬æ“ä½œçš„æ‹¦æˆªå’Œè‡ªå®šä¹‰ï¼ˆå¦‚å±æ€§æŸ¥æ‰¾ã€èµ‹å€¼ã€æšä¸¾ã€å‡½æ•°è°ƒç”¨ç­‰ï¼‰ã€‚<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener">Proxy MDN</a></p>
</blockquote>
<p>Proxyåªèƒ½ä»£ç†<code>object</code>ç±»å‹çš„å˜é‡ï¼Œé’ˆå¯¹åŸºç¡€ç±»å‹çš„ä»£ç†åªèƒ½å°†å…¶å°è£…åˆ°å¯¹è±¡é‡Œå†è¿›è¡Œä»£ç†ç›‘å¬ã€‚</p>
<p>Proxyä»£ç†æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>getPrototypeOf(target)</code> ä»£ç†è·å–åŸå‹çš„æ–¹æ³•</li>
<li><code>setPrototypeOf(target, newProto)</code> è®¾ç½®åŸå‹ï¼Œå¦‚æœä¸æƒ³è®¾ç½®åŸå‹ï¼Œå¯ä»¥<code>return false</code></li>
<li><code>isExtensible(target)</code>  æ‹¦æˆªå¯¹å¯¹è±¡çš„ <code>Object.isExtensible()</code>ï¼Œå¿…é¡»è¿”å›ä¸€ä¸ª Boolean å€¼ï¼Œåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¯æ‰©å±•çš„</li>
<li><code>preventExtensions(target)</code> æ‹¦æˆª<code>Object.preventExtensions()</code>ï¼Œè®©ä¸€ä¸ªå¯¹è±¡å˜çš„ä¸å¯æ‰©å±•ï¼Œä¹Ÿå°±æ˜¯æ°¸è¿œä¸èƒ½å†æ·»åŠ æ–°çš„å±æ€§</li>
<li><code>getOwnPropertyDescriptor(target, prop)</code> æ‹¦æˆª<code>Object.getOwnPropertyDescriptor()</code>ï¼Œæ‹¦æˆªè·å–å¯¹è±¡å±æ€§çš„æè¿°ç¬¦</li>
<li><code>defineProperty(target, property, descriptor)</code> æ‹¦æˆª<code>Object.defineProperty()</code></li>
<li><code>has(target, key)</code>ï¼Œé’ˆå¯¹ in æ“ä½œç¬¦çš„ä»£ç†æ–¹æ³•</li>
<li><code>get(target, property, receiver)</code>ï¼Œç”¨äºæ‹¦æˆªå¯¹è±¡çš„è¯»å–å±æ€§æ“ä½œ</li>
<li><code>set()</code>ï¼Œè®¾ç½®å±æ€§å€¼æ“ä½œçš„æ•è·å™¨ã€‚</li>
<li><code>construct()</code>ï¼Œç”¨äºæ‹¦æˆª new æ“ä½œç¬¦</li>
</ul>
<p>ä¸<code>Object.defineProperty</code>ä¸»è¦åŒºåˆ«(å¯æ‹¦æˆªæ–¹æ³•æ¯”<code>Object.defineProperty</code>å¤š)ï¼š</p>
<ul>
<li>Proxyä»£ç†çš„æ˜¯æ•´ä¸ªå¯¹è±¡ï¼ŒObject.definePropertyåªä»£ç†å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§,å¦‚æœæ˜¯å¤šå±‚åµŒå¥—çš„æ•°æ®éœ€è¦å¾ªç¯é€’å½’ç»‘å®š;</li>
<li>å¯¹è±¡ä¸Šå®šä¹‰æ–°å±æ€§æ—¶ï¼ŒProxyå¯ä»¥ç›‘å¬åˆ°ï¼ŒObject.definePropertyç›‘å¬ä¸åˆ°ï¼Œéœ€è¦å€ŸåŠ©$setæ–¹æ³•;</li>
<li>æ•°ç»„çš„æŸäº›æ–¹æ³•(pushã€unshiftå’Œsplice)Object.definePropertyç›‘å¬ä¸åˆ°ï¼ŒProxyå¯ä»¥ç›‘å¬åˆ°;</li>
</ul>
<h2 id="Symbol-unscopables"><a href="#Symbol-unscopables" class="headerlink" title="Symbol.unscopables"></a>Symbol.unscopables</h2><blockquote>
<p>æŒ‡ç”¨äºæŒ‡å®šå¯¹è±¡å€¼ï¼Œå…¶å¯¹è±¡è‡ªèº«å’Œç»§æ‰¿çš„ä»å…³è”å¯¹è±¡çš„ with ç¯å¢ƒç»‘å®šä¸­æ’é™¤çš„å±æ€§åç§°ã€‚</p>
</blockquote>
<p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå°±æ˜¯ä¸ºäº†é˜²æ­¢<code>with</code>æ·»åŠ ä½œç”¨åŸŸçš„æ—¶å€™ï¼Œå°†æŸä¸ªå±æ€§ä»ä½œç”¨åŸŸä¸­æ’é™¤æ‰ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a = &#123;</span><br><span class="line">    p: <span class="number">1</span>,</span><br><span class="line">    b: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¦æ­¢å°†a.pæ”¾åˆ°withä½œç”¨åŸŸä¸­</span></span><br><span class="line">a[<span class="built_in">Symbol</span>.unscopables] = &#123;<span class="attr">p</span>: <span class="literal">true</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span>(a)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(p) <span class="comment">// æŠ¥é”™ p not defined</span></span><br><span class="line">    <span class="built_in">console</span>.log(b) <span class="comment">// æ­£å¸¸è¾“å‡º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› æ­¤å¾ˆå¤šå†…ç½®å¯¹è±¡éƒ½è®¾ç½®è¯¥å€¼ä¸ºtrueï¼Œä»è€Œé™ä½withçš„ä¾µå…¥ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype[<span class="built_in">Symbol</span>.unscopables];</span><br><span class="line"><span class="comment">/*&#123;</span></span><br><span class="line"><span class="comment">  copyWithin: true,</span></span><br><span class="line"><span class="comment">  entries: true,</span></span><br><span class="line"><span class="comment">  fill: true,</span></span><br><span class="line"><span class="comment">  find: true,</span></span><br><span class="line"><span class="comment">  findIndex: true,</span></span><br><span class="line"><span class="comment">  flat: true,</span></span><br><span class="line"><span class="comment">  flatMap: true,</span></span><br><span class="line"><span class="comment">  includes: true,</span></span><br><span class="line"><span class="comment">  keys: true,</span></span><br><span class="line"><span class="comment">  values: true,</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br></pre></td></tr></table></figure>

<h1 id="æ²™ç®±å®ç°"><a href="#æ²™ç®±å®ç°" class="headerlink" title="æ²™ç®±å®ç°"></a>æ²™ç®±å®ç°</h1><p>æ²™ç®±å®ç°æ­¥éª¤ä¸€èˆ¬å¦‚ä¸‹ï¼š</p>
<ul>
<li>è§£æä»£ç ï¼ŒåŠ¨æ€æ‰§è¡Œ</li>
<li>ä¿®æ”¹ä»£ç çš„ä½œç”¨åŸŸï¼Œé¿å…è¿›è¡Œå‘ä¸Šå…¨å±€æŸ¥è¯¢</li>
<li>åˆ›å»ºå…¨å±€å¯¹è±¡çš„æ›¿ä»£å¯¹è±¡ï¼Œé¿å…æ±¡æŸ“å…¨å±€å¯¹è±¡</li>
<li>æ‰§è¡Œä»£ç </li>
</ul>
<h2 id="åŸºäºProxyå®ç°"><a href="#åŸºäºProxyå®ç°" class="headerlink" title="åŸºäºProxyå®ç°"></a>åŸºäºProxyå®ç°</h2><p>å‰é¢åŸºç¡€çŸ¥è¯†å°†åˆ°Proxyæ˜¯ä¸€ä¸ªå¯ä»¥ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå…¶å®å¯ä»¥æŒ‰ç…§å°†ä¸€äº›å…¨å±€å¯¹è±¡åšä»£ç†åæ”¾å…¥åˆ°æ²™ç®±é‡Œã€‚ä¸»è¦æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>new Function</code>å°†ä»£ç å­—ç¬¦ä¸²è½¬ä¸ºå¯æ‰§è¡Œå‡½æ•°</li>
<li>åŠ <code>with</code>ç”Ÿæˆå±€éƒ¨ä½œç”¨åŸŸ</li>
<li>ä½¿ç”¨<code>createFake</code>æ–¹æ³•ç”Ÿæˆæ›¿ä»£å¯¹è±¡<code>fakeWindow</code></li>
<li>ä½¿ç”¨<code>Proxy</code>ä»£ç†æ‹¦æˆª<code>set</code> <code>get</code>æ“ä½œï¼Œæ›´æ–°åˆ°<code>fakeWindow</code>ä¸­</li>
<li>å½“æ²™ç®±ä¸ç”¨æ—¶ï¼Œå°†<code>window</code>é‡ç½®å›</li>
</ul>
<p>ç®€æ˜“æ²™ç®±ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; complieCode2Fn, createFakeWindow &#125; = <span class="built_in">require</span>(<span class="string">'./complieCode.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxySandbox</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(global) &#123;</span><br><span class="line">        <span class="keyword">const</span> rawGlobal = global;</span><br><span class="line">        <span class="keyword">const</span> fakeWindow = createFakeWindow(global);</span><br><span class="line">        <span class="keyword">this</span>.proxyBox = <span class="keyword">new</span> <span class="built_in">Proxy</span>(fakeWindow, &#123;</span><br><span class="line">            <span class="comment">// æ‹¦æˆªæ‰€æœ‰å±æ€§ï¼Œé˜²æ­¢åˆ° Proxy å¯¹è±¡ä»¥å¤–çš„ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ã€‚</span></span><br><span class="line">            has(target, key) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="keyword">get</span>(target, key, receiver) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'get'</span>, key, target[key])</span><br><span class="line">                <span class="comment">// åŠ å›ºï¼Œé˜²æ­¢é€ƒé€¸</span></span><br><span class="line">                <span class="keyword">if</span> (key === <span class="built_in">Symbol</span>.unscopables) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// é€šè¿‡Reflectè·å–</span></span><br><span class="line">                <span class="keyword">let</span> temp = <span class="built_in">Reflect</span>.get(target, key, receiver);</span><br><span class="line">                <span class="keyword">if</span>(!target.hasOwnProperty(key))&#123;</span><br><span class="line">                    temp = rawGlobal[key];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> temp;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="keyword">set</span>(target, key, newValue) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!target.hasOwnProperty(key) &amp;&amp; fakeWindow.hasOwnProperty(key)) &#123;</span><br><span class="line">                    <span class="keyword">const</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(sandbox, key);</span><br><span class="line">                    <span class="keyword">const</span> &#123; writable, configurable, enumerable &#125; = descriptor;</span><br><span class="line">                    <span class="keyword">if</span> (writable) &#123;</span><br><span class="line">                        <span class="comment">// ä¸­ç‹¬æœ‰çš„å±æ€§å¦‚æœå¯ä»¥å†™ï¼ŒåŒæ ·éœ€è¦å¤åˆ¶åˆ°fakeWindowä¸­</span></span><br><span class="line">                        <span class="built_in">Object</span>.defineProperty(target, p, &#123;</span><br><span class="line">                            configurable,</span><br><span class="line">                            enumerable,</span><br><span class="line">                            writable,</span><br><span class="line">                            newValue,</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    target[key] = newValue;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    excute(code)&#123;</span><br><span class="line">        <span class="keyword">const</span> fn = complieCode2Fn(code);</span><br><span class="line">        <span class="keyword">return</span> fn(<span class="keyword">this</span>.proxyBox);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fakeBox = <span class="keyword">new</span> ProxySandbox(global);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> code = <span class="string">`a = 1;console.log('a:', a);return a;`</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fakeBox.excute(code));  <span class="comment">// è¾“å‡ºa:1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'åœ¨æ²™ç®±å¤–è·å–æ²™ç®±å†…è®¾ç½®çš„å…¨å±€å€¼a:'</span>, a); <span class="comment">// a is not defined</span></span><br></pre></td></tr></table></figure>

<p>é—®é¢˜1ï¼š å¦‚ä½•é˜²æ­¢<code>Array.isArray</code>é‡å†™åä¸å½±å“é¡¶éƒ¨windowï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`js</span></span><br><span class="line"><span class="string">const code = `</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">Array</span>.isArray = <span class="function"><span class="params">()</span>=&gt;</span> <span class="literal">true</span>;</span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="string">console.log(Array.isArray('a')); // è¾“å‡ºtrue æ­£å¸¸åº”è¯¥æ˜¯false</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ç”Ÿæˆ<code>fakeWindow</code>å¯¹è±¡æ—¶å€™ï¼Œéå†å†…ç½®<code>Array</code>ï¼Œé€šè¿‡<code>Object.freeze</code>å†»ç»“å…¶ä¿®æ”¹çš„å¯èƒ½æ€§</li>
</ul>
<p>é—®é¢˜2ï¼š æå‰å…³é—­ sandbox çš„ with è¯­å¢ƒï¼Œå¦‚ â€˜} alert(this); {â€˜  æˆ–è€…ä½¿ç”¨ eval å’Œ new Function ç›´æ¥é€ƒé€¸ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p>
<ul>
<li>è§£æcodeå­—ç¬¦ä¸²ï¼Œåˆ©ç”¨å †æ ˆæ·±åº¦æ£€æµ‹ç®—æ³•ï¼Œå°†éæ³•å­—ç¬¦ä¸² <code>{}</code>åšç®€å•è®¡ç®— æˆ–è€… <code>eval</code> ç­‰å…³é”®å­—ï¼Œç„¶åæŠ¥é”™å¤„ç†</li>
</ul>
<p>é—®é¢˜3ï¼š å¦‚ä½•è§£å†³ä¿®æ”¹åŸå‹é“¾æ–¹æ³•å®ç°é€ƒé€¸ï¼Œæ—¢å¯ä»¥è·å–æ²™ç®±å¤–çš„å¯¹è±¡ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> code = <span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    (&#123;&#125;).constructor.prototype.toString = () =&gt; &#123;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        console.log('Escape')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="built_in">console</span>.log((&#123;&#125;).toString()) <span class="comment">// è¾“å‡ºEscape æ­£å¸¸åº”è¯¥è¾“å‡º[object Object]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™ç§åªèƒ½åœ¨åŸå‹é“¾ä¸Šä¸‹åŠŸå¤«ï¼Œå°†æ‰€æœ‰çš„åŸå‹é“¾åšä¸€æ¬¡å°è£…ï¼Œä»è€Œ</li>
</ul>
<h2 id="åŸºäºiframeå®ç°"><a href="#åŸºäºiframeå®ç°" class="headerlink" title="åŸºäºiframeå®ç°"></a>åŸºäºiframeå®ç°</h2><p>åˆ©ç”¨<code>iframe</code>å¤©ç„¶éš”ç¦»æœºåˆ¶ï¼ŒåŠ ä¸Š<code>postMessage</code>é€šè®¯æœºåˆ¶ï¼Œå¯ä»¥å¿«é€Ÿå®ç°ä¸€ä¸ªç®€æ˜“æ²™ç®±ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªiframeï¼Œè·å–å…¶windowä½œä¸ºæ›¿ä»£å¯¹è±¡</li>
<li>å°†functionæ‰§è¡Œæ”¾åˆ°iframeé‡Œï¼Œä¸ä¼šå½±å“å…¶æ²™ç®±å¤–ç¨‹åºä½¿ç”¨</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IframeSandbox</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ª iframe å¯¹è±¡ï¼Œå–å‡ºå…¶ä¸­çš„åŸç”Ÿæµè§ˆå™¨å…¨å±€å¯¹è±¡ä½œä¸ºæ²™ç®±çš„å…¨å±€å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">const</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>, &#123;<span class="attr">url</span>: <span class="string">'about:blank'</span>&#125;)</span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(iframe)</span><br><span class="line">        <span class="keyword">this</span>.sandboxGlobal = iframe.contentWindow <span class="comment">// æ²™ç®±è¿è¡Œæ—¶çš„å…¨å±€å¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    excute(code)&#123;</span><br><span class="line">        <span class="keyword">const</span> fn = <span class="keyword">new</span> <span class="keyword">this</span>.sandboxGlobal.Function(<span class="string">'sandbox'</span>, <span class="string">`with(sandbox)&#123;<span class="subst">$&#123;code&#125;</span>&#125;`</span>)</span><br><span class="line">        <span class="keyword">return</span> fn(<span class="keyword">this</span>.sandboxGlobal);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fakeBox = <span class="keyword">new</span> IframeSandbox();</span><br><span class="line"><span class="keyword">const</span> code = <span class="string">`a = 1;console.log(a)`</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fakeBox.excute(code));  <span class="comment">// è¾“å‡ºa:1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'åœ¨æ²™ç®±å¤–è·å–æ²™ç®±å†…è®¾ç½®çš„å…¨å±€å€¼a:'</span>, a); <span class="comment">// a is not defined</span></span><br></pre></td></tr></table></figure>

<p>é—®é¢˜1ï¼š éœ€è¦è§£å†³å…¶è°ƒç”¨<code>parent</code>è¿›è¡Œé€ƒé€¸è·å–ï¼Ÿ</p>
<ul>
<li>æœ€ä½³æ–¹æ¡ˆæ˜¯é€šè¿‡<code>Proxy</code>å¯¹iframeçš„windowå¯¹è±¡è¿›è¡Œæ‹¦æˆªä»£ç†å³å¯</li>
</ul>
<h2 id="åŸºäºShadowRealm-ææ¡ˆçš„å®ç°"><a href="#åŸºäºShadowRealm-ææ¡ˆçš„å®ç°" class="headerlink" title="åŸºäºShadowRealm ææ¡ˆçš„å®ç°"></a>åŸºäºShadowRealm ææ¡ˆçš„å®ç°</h2><blockquote>
<p>ShadowRealm API æ˜¯ä¸€ä¸ªæ–°çš„ JavaScript ææ¡ˆï¼Œå®ƒå…è®¸ä¸€ä¸ª JS è¿è¡Œæ—¶åˆ›å»ºå¤šä¸ªé«˜åº¦éš”ç¦»çš„ JS è¿è¡Œç¯å¢ƒï¼ˆrealmï¼‰ï¼Œæ¯ä¸ª realm å…·æœ‰ç‹¬ç«‹çš„å…¨å±€å¯¹è±¡å’Œå†…å»ºå¯¹è±¡ã€‚</p>
</blockquote>
<p>é€šä¿—çš„è¯´ï¼Œè¿™æ˜¯JavaScriptè‡ªå¸¦çš„æ²™ç®±APIï¼Œä½ å¯ä»¥åˆ©ç”¨å®ƒå¿«é€Ÿå®ç°ä¸Šé¢éœ€è¦é€šè¿‡proxyæˆ–iframeæ‰èƒ½å®ç°çš„éš”ç¦»æœºåˆ¶ã€‚</p>
<p>ShadowRealmå£°æ˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">declare <span class="class"><span class="keyword">class</span> <span class="title">ShadowRealm</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>();</span><br><span class="line">  evaluate(sourceText: string): PrimitiveValueOrCallable;</span><br><span class="line">  importValue(specifier: string, bindingName: string): Promise&lt;PrimitiveValueOrCallable&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>evaluate(sourceText: string)</code> åŒæ­¥æ‰§è¡Œä»£ç å­—ç¬¦ä¸²ï¼Œç±»ä¼¼ eval()</li>
<li><code>importValue(specifier: string, bindingName: string)</code> å¼‚æ­¥æ‰§è¡Œä»£ç å­—ç¬¦ä¸²</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sr = <span class="keyword">new</span> ShadowRealm();</span><br><span class="line">globalThis.test = <span class="string">'test'</span>;</span><br><span class="line">sr.evaluate(<span class="string">`globalThis.test = 'test ShadowRealm'; console.log(globalThis.test)`</span>) <span class="comment">// è¾“å‡º test ShadowRealm</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–‡ä»¶  my-module.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> values.reduce(<span class="function">(<span class="params">prev, value</span>) =&gt;</span> prev + value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">const</span> sr = <span class="keyword">new</span> ShadowRealm();</span><br><span class="line"><span class="keyword">const</span> wrappedSum = <span class="keyword">await</span> sr.importValue(<span class="string">'./my-module.js'</span>, <span class="string">'sum'</span>); <span class="comment">// åŠ è½½jsæ¨¡å—ï¼Œç„¶åè·å–é‡Œé¢å‡½æ•°</span></span><br><span class="line"><span class="built_in">console</span>.log(wrappedSum(<span class="string">'hi'</span>, <span class="string">' '</span>, <span class="string">'folks'</span>, <span class="string">'!'</span>)); <span class="comment">// è¾“å‡º hi folks !</span></span><br></pre></td></tr></table></figure>

<p>å…¶å®å†æ¥å®ç°ä¸€ä¸ªæ²™ç®±å°±å¾ˆç®€å•äº†ï¼Œå› ä¸ºShadownRealmæœ¬èº«å°±æ˜¯ä¸€ä¸ªæ²™ç®±ã€‚</p>
<h2 id="å…¶ä»–æ–¹æ¡ˆ"><a href="#å…¶ä»–æ–¹æ¡ˆ" class="headerlink" title="å…¶ä»–æ–¹æ¡ˆ"></a>å…¶ä»–æ–¹æ¡ˆ</h2><h3 id="Web-Workers"><a href="#Web-Workers" class="headerlink" title="Web Workers"></a>Web Workers</h3><p><code>Web Workers</code>ä»£ç è¿è¡Œåœ¨ç‹¬ç«‹çš„è¿›ç¨‹ä¸­ï¼Œé€šä¿¡æ˜¯å¼‚æ­¥çš„ï¼Œæ— æ³•è·å–å½“å‰ç¨‹åºä¸€äº›å±æ€§æˆ–å…±äº«çŠ¶æ€ï¼Œä¸”æœ‰ä¸€ç‚¹æ— æ³•ä¸æ”¯æŒ DOM æ“ä½œï¼Œå¿…é¡»é€šè¿‡ postMessage é€šçŸ¥ UI ä¸»çº¿ç¨‹æ¥å®ç°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">workerSandbox</span>(<span class="params">appCode</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> blob = <span class="keyword">new</span> Blob([appCode]);</span><br><span class="line"> <span class="keyword">var</span> appWorker = <span class="keyword">new</span> Worker(<span class="built_in">window</span>.URL.createObjectURL(blob));</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">workerSandbox(<span class="string">'const a = 1;console.log(a);'</span>) <span class="comment">// è¾“å‡º1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// a not defined</span></span><br></pre></td></tr></table></figure>

<h3 id="vm-æ¨¡å—"><a href="#vm-æ¨¡å—" class="headerlink" title="vm æ¨¡å—"></a>vm æ¨¡å—</h3><p>Node.js ä¸Šçš„ vm æ¨¡å—ï¼Œä¸ ShadowRealm API ç±»ä¼¼ï¼Œä½†å…·æœ‰æ›´å¤šåŠŸèƒ½ï¼šç¼“å­˜ JavaScript å¼•æ“ã€æ‹¦æˆª import() ç­‰ç­‰ã€‚ä½†å®ƒå”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯ä¸èƒ½è·¨å¹³å°ï¼Œåªèƒ½åœ¨ Node.js ç¯å¢ƒä¸‹ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="built_in">require</span>(<span class="string">'vm'</span>);</span><br><span class="line"><span class="keyword">const</span> sandbox = &#123;</span><br><span class="line">    a: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line">vm.createContext(sandbox)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> whatIsThis = vm.runInContext(<span class="string">`</span></span><br><span class="line"><span class="string">    a = 2 ;</span></span><br><span class="line"><span class="string">`</span>, sandbox);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sandbox) <span class="comment">// è¾“å‡º2</span></span><br></pre></td></tr></table></figure>

<h1 id="æ²™ç®±é”™è¯¯æ•è·"><a href="#æ²™ç®±é”™è¯¯æ•è·" class="headerlink" title="æ²™ç®±é”™è¯¯æ•è·"></a>æ²™ç®±é”™è¯¯æ•è·</h1><p>åœ¨å®Œæˆæ²™ç®±ä¸»ä½“åï¼Œè¿˜éœ€è¦å¯¹æ²™ç®±å†…éƒ¨é”™è¯¯è¿›è¡Œæ•è·å†æ¬¡å¤„ç†ï¼Œä»è€Œä¸å½±å“ä¸»ä½“ç¨‹åºçš„æ‰§è¡Œã€‚</p>
<p>è¿™ä¸€å—å…¶å®å°±åœ¨æ‰§è¡ŒåŠ¨æ€ä»£ç é‚£é‡Œï¼Œåšä¸€å±‚<code>try/catch</code>åŸºæœ¬ä¸Šå¯ä»¥å®Œæˆçš„é”™è¯¯æ•è·ã€‚</p>
<h1 id="æ²™ç®±é€ƒé€¸"><a href="#æ²™ç®±é€ƒé€¸" class="headerlink" title="æ²™ç®±é€ƒé€¸"></a>æ²™ç®±é€ƒé€¸</h1><p>æ²™ç®±é€ƒé€¸ï¼ˆSandbox Escapeï¼‰ï¼Œæ²™ç®±äºä½œè€…è€Œè¨€æ˜¯ä¸€ç§å®‰å…¨ç­–ç•¥ï¼Œä½†äºä½¿ç”¨è€…è€Œè¨€å¯èƒ½æ˜¯ä¸€ç§æŸç¼šã€‚è„‘æ´å¤§å¼€çš„å¼€å‘è€…ä»¬å°è¯•ç”¨å„ç§æ–¹å¼æ‘†è„±è¿™ç§æŸç¼šï¼Œä¹Ÿç§°ä¹‹ä¸ºæ²™ç®±é€ƒé€¸ã€‚</p>
<p>æ²™ç®±é€ƒé€¸çš„å‡ ç§æ–¹å¼ï¼š</p>
<ul>
<li>è®¿é—®æ²™ç®±æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æŸä¸ªå¯¹è±¡å†…éƒ¨å±æ€§æ—¶ï¼Œå¦‚ï¼šé€šè¿‡window.parent</li>
<li>é€šè¿‡è®¿é—®åŸå‹é“¾å®ç°é€ƒé€¸</li>
</ul>
<p>å¦‚ä½•è§£å†³æ²™ç®±é€ƒé€¸ï¼š</p>
<blockquote>
<p>è‡ªå®šä¹‰è§£é‡Šå™¨ï¼Œåˆ†ææºç¨‹åºç»“æ„ä»è€Œæ‰‹åŠ¨æ§åˆ¶æ¯ä¸€æ¡è¯­å¥çš„æ‰§è¡Œé€»è¾‘ï¼Œå¦‚ï¼š<code>Babel</code>ç­‰</p>
</blockquote>
<p>ç®€å•çš„è¯´ï¼Œå°±æ˜¯ç”¨JSå»å®ç°JSè§£é‡Šå™¨ï¼Œå°†æ¯è¡Œä»£ç è¿›è¡Œè§£æï¼Œç„¶åå¢åŠ ä¸€äº›å®‰å…¨æœºåˆ¶ï¼Œä»è€Œé¿å…éæ³•ä»£ç å…¥ä¾µã€‚</p>
<p>åç»­ä¼šä¸“é—¨å†™ä¸ªæ–‡ç« å»å®ç°ä¸€ä¸ªç®€å•çš„JSè§£é‡Šå™¨ï¼Œè¿™é‡Œå°±ä¸åšå¤šé˜è¿°ã€‚æ›´æ–°åä¼šæ”¾åœ¨è¿™é‡Œé“¾æ¥ã€‚</p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener">MDN Proxy</a></li>
<li><a href="https://github.com/careyke/frontend_knowledge_structure/blob/master/microFrontend/question02_03_js_sandbox.md" target="_blank" rel="noopener">qiankunä¸­JSæ²™ç®±çš„å®ç°</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1482264" target="_blank" rel="noopener">CodeSandbox å¦‚ä½•å·¥ä½œ</a></li>
<li><a href="https://juejin.cn/post/7089822133559230501" target="_blank" rel="noopener">Javascript æ–°ç‰¹æ€§å‰ç» â€”â€” ShadowRealms</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
        <tag>ä½ä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ä½ä»£ç ç³»åˆ—â€”â€”ç»„ä»¶æè¿°DSL</title>
    <url>/lowcode/component.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>ä¹‹å‰å†™äº†ä¸€ç¯‡<a href="/lowcode/sandbox.html">ã€Šä½ä»£ç ç³»åˆ—â€”â€”jsæ²™ç®±è®¾è®¡ã€‹</a>ï¼Œäºæ˜¯èŒç”Ÿäº†å¹²è„†å°†å®Œæ•´çš„ä½ä»£ç å¹³å°è®¾è®¡çš„æ•´ä¸ªè¿‡ç¨‹éƒ½æ•´ç†ä¸€éï¼Œç„¶åè¾“å‡ºæ–‡ç« ï¼ŒåŒæ—¶å‡†å¤‡æä¸ªäººå¼€æºé¡¹ç›®ç”¨æ¥å®ç°ä½ä»£ç å¹³å°ã€‚</p>
<p>ä½ä»£ç å¹³å°æ ¸å¿ƒéƒ¨åˆ†æ˜¯ç¼–è¾‘å™¨ï¼Œç¼–è¾‘å™¨é‡Œæœ€é‡è¦ä¸€å—å¦‚ä½•å°†ç»„ä»¶æŠ½è±¡åŒ–ï¼Œå­˜å‚¨åˆ°ä¸€ä¸ªå¯æè¿°çš„å¯¹è±¡ä¸­ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬å°±é’ˆå¯¹è¿™ç§ç»„ä»¶æŠ½è±¡æè¿°åšä¸€æ¬¡æ·±å…¥çš„è®¾è®¡ã€‚</p>
<h1 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h1><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://json-schema.apifox.cn/" target="_blank" rel="noopener">JSON Schema è§„èŒƒ</a><br><a href="https://jsoncrack.com/" target="_blank" rel="noopener">JSON å¯è§†åŒ–</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>ä½ä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ä»pnpmåˆ°å¯¹æ¯”å„ç§jsåŒ…ç®¡ç†å·¥å…·</title>
    <url>/today/20230219.html</url>
    <content><![CDATA[<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»Prometheuså­¦ä¼šæ­å»ºç›‘æ§ç³»ç»Ÿ</title>
    <url>/today/20230220.html</url>
    <content><![CDATA[<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://yunlzheng.gitbook.io/prometheus-book/" target="_blank" rel="noopener">Prometheusä¸­æ–‡æ•™ç¨‹</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»Copilotå­¦åˆ°äº†ä»€ä¹ˆ</title>
    <url>/today/20230221.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://lowin.li/2022/06/27/pan-dian-kai-yuan-copilot/" target="_blank" rel="noopener">ç›˜ç‚¹å¼€æºâ€œCopilotâ€ï¼Œdo it yourself</a><br><a href="https://blog.csdn.net/gel1234/article/details/127050405" target="_blank" rel="noopener">å¦‚ä½•æ­å»ºå…è´¹çš„GitHub Copilotï¼Ÿ</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ªäººæŠ€æœ¯æ ˆ(æŒç»­æ›´æ–°)</title>
    <url>/study/front-stack.html</url>
    <content><![CDATA[<h1 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h1><p>ä¸»è¦æ€»ç»“ä¸ªäººæŠ€æœ¯æ ˆï¼Œä¼šä¸åœæ›´æ–°ï¼Œç›´åˆ°éƒ¨åˆ†è¢«æ·˜æ±°ã€‚</p>
<a id="more"></a>
<blockquote class="pullquote mindmap mindmap-md"><ul>
<li>ä¸ªäºº<ul>
<li>è¯­è¨€<ul>
<li>JavaScript<ul>
<li>JavaScript</li>
<li>Typescript</li>
<li>Node.js</li>
</ul>
</li>
<li>CSS</li>
<li>HTML</li>
</ul>
</li>
<li>æ¡†æ¶<ul>
<li>Vue</li>
<li>React</li>
</ul>
</li>
<li>å·¥ç¨‹åŒ–<ul>
<li>æ„å»ºå·¥å…·<ul>
<li>WebPack</li>
<li>Rollup</li>
<li>Vite</li>
<li>å·²æ·˜æ±°<ul>
<li>gulp</li>
</ul>
</li>
</ul>
</li>
<li>æµ‹è¯•<ul>
<li>å•å…ƒæµ‹è¯•</li>
<li>è‡ªåŠ¨åŒ–æµ‹è¯•</li>
</ul>
</li>
<li>è„šæ‰‹æ¶</li>
</ul>
</li>
<li>è¿ç»´</li>
<li>ç§»åŠ¨ç«¯<ul>
<li>Native<ul>
<li>React native</li>
<li>Weex</li>
<li>Flutter</li>
<li>hippy</li>
</ul>
</li>
<li>å°ç¨‹åº<ul>
<li>Uniapp</li>
</ul>
</li>
</ul>
</li>
<li>ç®—æ³•</li>
<li>è½¯æŠ€èƒ½<ul>
<li>PPT</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>å­¦ä¹ æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ›ä¸šideaâ€”â€”AIç§æ¤ä¸èŠ±åº—</title>
    <url>/ideas/20230214.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æ­¤æƒ³æ³•æºäºä¸€ä¸ªæŠ–éŸ³è§†é¢‘ï¼Œé‡Œé¢æœ‰ä¸ªå•†ä¸šæ¨¡å¼ï¼Œé€šè¿‡æ‘„åƒå¤´+æ°”å‘³å—…è§‰æ•æ‰å™¨+æ¶²ä½“åˆ†æå™¨ï¼Œå¯ä»¥è¯†åˆ«å½“å‰æ¤ç‰©çš„çŠ¶æ€ï¼Œä¸”å åœ°é¢ç§¯ä¸å¤§ï¼Œå¯ä»¥ç›´æ¥æ ‘ç«‹åˆ°å®¶é‡Œå¢™ä¸Šã€‚å¤§æ¦‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/assets/img/idea-20230214-3.png" alt></p>
<a id="more"></a>
<p><img src="/assets/img/idea-20230214-1.png" alt><br><img src="/assets/img/idea-20230214-2.png" alt></p>
<h1 id="åˆ›ä¸šæƒ³æ³•"><a href="#åˆ›ä¸šæƒ³æ³•" class="headerlink" title="åˆ›ä¸šæƒ³æ³•"></a>åˆ›ä¸šæƒ³æ³•</h1><p>å› æ­¤èŒç”Ÿå‡ºä¸€ç§æƒ³æ³•ï¼Œç›®å‰è¿˜æ²¡æœ‰å…³æ³¨è¿™ä¸€å—ï¼Œå®¶é‡Œå¤§éƒ¨åˆ†çš„æ—¶å€™ä¹Ÿæœ‰ç›†æ ½æˆ–è€…ç»¿æ¤ï¼Œéƒ½æ˜¯ä»èŠ±åº—é‡Œç›´æ¥è´­ä¹°çš„ï¼Œé‚£ä¹ˆå¦‚æœåˆ©ç”¨è¿™ç§æŠ€æœ¯å»å®ç°äº’åˆ©ç½‘AIç§æ¤ï¼Œæ˜¯ä¸æ˜¯ä¸€ç§åˆ›æ–°çš„åˆ›ä¸šæ€ç»´å‘¢ï¼Ÿ</p>
<p>ç›®å‰èŠ±åº—ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ç—›ç‚¹ï¼š</p>
<ul>
<li>è´­ä¹°ç›†æ ½åï¼Œæ²¡æœ‰å®Œæ•´çš„ç§æ¤ç»éªŒï¼Œå¾ˆå¿«å°±æ­»äº†</li>
<li>æ— æ³•çŸ¥é“è‡ªå·±éœ€è¦ä»€ä¹ˆçš„ç›†æ ½</li>
</ul>
<p>å•†ä¸šæ¨¡å¼ï¼š</p>
<ul>
<li>åˆ†å°ºå¯¸ï¼Œå¦‚ï¼šå°ç›†æ ½é€‚åˆåŠå…¬ä½ï¼Œä¸­å¤§å‹çš„é€‚åˆæ”¾åœ¨å®¶åº­åšå¢™å£æˆ–è€…éš”å¢™æ¿ï¼Œè¶…å¤§å‹å°±æ˜¯AIå†œä¸šå¤§æ£šå‹</li>
<li>å•†åœºé‡Œç§Ÿä¸€ä¸ªå¤§åº—é“ºï¼Œé™¤äº†å®£ä¼ ï¼Œè¿˜å¯ä»¥å°†ä¸€äº›ä½ç½®ç§Ÿç»™æŸäº›ç”¨æˆ·ï¼Œç»™ä»–ä»¬å»åšäº²å­æ´»åŠ¨</li>
</ul>
<p>åç»­å¯ä»¥å°è¯•ç»§ç»­ç ”ç©¶ï¼Œç•™æ­¤æ–‡åšä¸€ä¸ªå¿µæƒ³ã€‚</p>
<h1 id="å·²ç»å®æ–½çš„é¡¹ç›®"><a href="#å·²ç»å®æ–½çš„é¡¹ç›®" class="headerlink" title="å·²ç»å®æ–½çš„é¡¹ç›®"></a>å·²ç»å®æ–½çš„é¡¹ç›®</h1><ul>
<li><a href="https://www.squarerootsgrow.com/about" target="_blank" rel="noopener">é©¬æ–¯å…‹å¼Ÿå¼Ÿ ç«æ˜Ÿç§èœé¡¹ç›® SquareRoot</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>å¥‡æ€å¦™æƒ³</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•å®ç°HTTP2.0</title>
    <url>/today/20230222.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://lowin.li/2022/06/27/pan-dian-kai-yuan-copilot/" target="_blank" rel="noopener">ç›˜ç‚¹å¼€æºâ€œCopilotâ€ï¼Œdo it yourself</a><br><a href="https://blog.csdn.net/gel1234/article/details/127050405" target="_blank" rel="noopener">å¦‚ä½•æ­å»ºå…è´¹çš„GitHub Copilotï¼Ÿ</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸è¦å†ä½¿ç”¨è½®è¯¢äº†ï¼Œè¯·ç”¨SSEæœåŠ¡ç«¯æ¨é€å®Œæˆé¡µé¢å®æ—¶æŸ¥è¯¢</title>
    <url>/today/20230223.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://mp.weixin.qq.com/s/K8g2PNO4Ixc1LrUafXunPQ" target="_blank" rel="noopener">æ•°æ®ä¸å¤Ÿå®æ—¶ï¼šè¯•è¯•é•¿è¿æ¥ï¼Ÿ</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€§èƒ½ä¼˜åŒ–æˆ‘ä»¬åˆ°åº•èƒ½åšäº›ä»€ä¹ˆä¸œè¥¿</title>
    <url>/today/20230224.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://mp.weixin.qq.com/s/ZfIWKRbF3Yq7sNFG2TsQFw" target="_blank" rel="noopener">æ€§èƒ½ä¼˜åŒ–ç»éªŒåˆ†äº«</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®å¯è§†åŒ–æ”¶é›†</title>
    <url>/ideas/20230215.html</url>
    <content><![CDATA[<h1 id="æ•°æ®å¯è§†åŒ–æ”¶é›†"><a href="#æ•°æ®å¯è§†åŒ–æ”¶é›†" class="headerlink" title="æ•°æ®å¯è§†åŒ–æ”¶é›†"></a>æ•°æ®å¯è§†åŒ–æ”¶é›†</h1><p>æ”¶é›†æ•°æ®å¯è§†åŒ–æˆ–æŠ¥è¡¨å¼€æºç³»ç»Ÿï¼Œä¸ºäº†èƒ½å¤Ÿæ ¹æ®ä¸åŒæ•°æ®æºå±•ç¤ºå¯è§†åŒ–ç•Œé¢ã€‚</p>
<h2 id="DataEase"><a href="#DataEase" class="headerlink" title="DataEase"></a>DataEase</h2><p>äººäººå¯ç”¨çš„å¼€æºæ•°æ®å¯è§†åŒ–åˆ†æå·¥å…·</p>
<ul>
<li>å®˜ç½‘åœ°å€ï¼š<a href="https://dataease.io/" target="_blank" rel="noopener">https://dataease.io/</a><br>Githubï¼š <a href="https://github.com/dataease/dataease/" target="_blank" rel="noopener">https://github.com/dataease/dataease/</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>å¥‡æ€å¦™æƒ³</tag>
      </tags>
  </entry>
  <entry>
    <title>Meteor.jså°é²œå®æˆ˜</title>
    <url>/today/20230225.html</url>
    <content><![CDATA[<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://mp.weixin.qq.com/s?__biz=Mzg3OTYzMDkzMg==&mid=2247493866&idx=1&sn=c4a3d5ddf6e3148360f3de9ea32e018f&chksm=cf0327d1f874aec72d630aa81d7b1b0b0961943287fbab023e6d39d466f33b642e12ca7f1ac0&token=953834215&lang=zh_CN#rd" target="_blank" rel="noopener">æŠŠ puppeteer èå…¥è°ƒè¯•æµç¨‹ï¼Œè°ƒè¯•ä½“éªŒçˆ½ç¿»äº†ï¼</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯è‡ªåŠ¨åŒ–UIæµ‹è¯•çš„å®Œæ•´æ–¹æ¡ˆ</title>
    <url>/today/20230215.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>å¼€å‘å…¬å…±å¹³å°é¡¹ç›®ï¼Œæµ‹è¯•èµ„æºç›¸å¯¹æ¯”è¾ƒå°‘ï¼Œå› æ­¤å¯¹å¼€å‘è€…è‡ªèº«è€Œè¨€ï¼Œä¸ºäº†ç»´æŠ¤é¡¹ç›®çš„ç¨³å®šæ€§ï¼Œéœ€è¦å¯¹å¹³å°åšå„ç±»æµ‹è¯•ï¼Œå³ä½¿æœ‰æµ‹è¯•ç¯å¢ƒï¼Œä½†æ˜¯ä¹Ÿå¾ˆå®¹æ˜“ç¼ºä¹æµ‹è¯•åœºæ™¯å¯¼è‡´å¸¦ç€bugä¸Šçº¿çš„æƒ…å†µã€‚</p>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦åšå®Œæ•´è‡ªåŠ¨åŒ–æµ‹è¯•æ–¹æ¡ˆï¼Œæ¥é¿å…è¿™ç±»å¸¸è§„é”™è¯¯ï¼Œæé«˜å¹³å°çš„å¯ç”¨æ€§å’Œç¨³å®šæ€§ã€‚</p>
<p>è¿™é‡Œå…ˆç®€å•æè¿°è‡ªåŠ¨åŒ–æµ‹è¯•çš„åˆ†ç±»ï¼š</p>
<ul>
<li>å•å…ƒæµ‹è¯•ï¼ŒéªŒè¯ç‹¬ç«‹çš„å•å…ƒæ¨¡å—ä»£ç æˆ–å‡½æ•°æ˜¯å¦æ­£å¸¸å·¥ä½œ</li>
<li>é›†æˆæµ‹è¯•ï¼ŒéªŒè¯å¤šä¸ªå•å…ƒæ¨¡å—é—´çš„ååŒå·¥ä½œ</li>
<li>UI æµ‹è¯•ï¼Œåªé’ˆå¯¹å‰ç«¯UIéƒ¨åˆ†æµ‹è¯•ï¼Œåç«¯æ•°æ®é‡‡ç”¨mockæ–¹å¼</li>
<li>ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œä»ç”¨æˆ·çš„è§’åº¦ï¼Œé€šè¿‡æœºå™¨æ¥æ¨¡ä»¿ç”¨æˆ·åœ¨çœŸå®æµè§ˆå™¨ä¸­éªŒè¯åº”ç”¨äº¤äº’</li>
<li>å¿«ç…§æµ‹è¯•ï¼ŒéªŒè¯ç¨‹åºçš„UIå˜åŒ–</li>
</ul>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†æ ¹æ®è¿™äº›æµ‹è¯•ç±»å¦‚ä½•åœ¨é¡¹ç›®ä¸­è½åœ°å®Œæ•´æ–¹æ¡ˆã€‚</p>
<a id="more"></a>

<h1 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h1><p>å‰ç«¯é¡¹ç›®ä¸»è¦ç”¨çš„å•å…ƒæµ‹è¯•æ¡†æ¶ä¸º<code>Jest</code>å’Œ<code>Mocha</code>ï¼Œä¸‹é¢å°±<code>Jest</code>æ¡†æ¶å¦‚ä½•å®ç°ä¸€ä¸ªå•å…ƒæµ‹è¯•ã€‚</p>
<h2 id="å®ç°æ­¥éª¤"><a href="#å®ç°æ­¥éª¤" class="headerlink" title="å®ç°æ­¥éª¤"></a>å®ç°æ­¥éª¤</h2><ol>
<li><p>å®‰è£…ä¾èµ–</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i jest --save-dev</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœæ˜¯typescriptè¿˜éœ€è¦å®‰è£… ts</span></span><br><span class="line">npm i ts-jest babel-jest --save-dev</span><br><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…ç±»å‹</span></span><br><span class="line">npm i @types/jest --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å¢æµ‹è¯•å‘½ä»¤ï¼Œåœ¨<code>package.json</code>ä¸­<code>scripts</code>æ–°å¢ä»£ç </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="string">"scripts"</span>: &#123;</span><br><span class="line">        <span class="string">"test"</span>: <span class="string">"node --experimental-vm-modules node_modules/jest/bin/jest.js"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å¢é…ç½®æ–‡ä»¶<code>jest.config.js</code>ï¼Œå‚è€ƒé…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="string">"testEnvironment"</span>: <span class="string">"node"</span>,</span><br><span class="line">    testMatch: [ <span class="comment">//åŒ¹é…æµ‹è¯•ç”¨ä¾‹çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="string">'&lt;rootDir&gt;/test/**/*.test.ts'</span></span><br><span class="line">    ],</span><br><span class="line">    transform: &#123;</span><br><span class="line">        <span class="string">'^.+\\.js$'</span>: <span class="string">'&lt;rootDir&gt;/node_modules/babel-jest'</span>, <span class="comment">// babelç¼–è¯‘</span></span><br><span class="line">        <span class="string">'^.+\\.ts$'</span>: <span class="string">'&lt;rootDir&gt;/node_modules/ts-jest'</span>, <span class="comment">// typescriptç¼–è¯‘</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">"collectCoverage"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™å•å…ƒæµ‹è¯•ä»£ç ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæµ‹è¯•æ–‡ä»¶<code>test/sum.test.js</code>ï¼Œæ ‡è¯†å¯¹<code>a.ts</code>æ–‡ä»¶åšæµ‹è¯•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//sum.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> sum = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//sum.test.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; sum &#125; <span class="keyword">from</span> <span class="string">'../src/sum'</span></span><br><span class="line"></span><br><span class="line">test(<span class="string">"test two num sum"</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> res = sum(<span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">    expect(<span class="keyword">typeof</span> res).toBe(<span class="string">"number"</span>)</span><br><span class="line">    expect(res).toBe(<span class="number">11</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>å¼€å§‹è‡ªåŠ¨åŒ–æµ‹è¯•<code>yarn test</code>æˆ–è€…<code>npm run test</code>ï¼Œç„¶åä¼šå‡ºç°å¦‚ä¸‹ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PASS  ./sum.test.ts</span><br><span class="line">----------|---------|----------|---------|---------|-------------------</span><br><span class="line">File      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s </span><br><span class="line">----------|---------|----------|---------|---------|-------------------</span><br><span class="line">All files |     100 |      100 |     100 |     100 |                   </span><br><span class="line"> sum.ts   |     100 |      100 |     100 |     100 |                   </span><br><span class="line">----------|---------|----------|---------|---------|-------------------</span><br><span class="line">Test Suites: 1 passed, 1 total</span><br><span class="line">Tests:       1 passed, 1 total</span><br><span class="line">Snapshots:   0 total</span><br><span class="line">Time:        1.394 s, estimated 3 s</span><br></pre></td></tr></table></figure>

<p>ç®€å•è¯´æ˜ä¸€ä¸‹ä¸Šé¢çš„è¡¨æ ¼å‡ ä¸ªå­—æ®µä½œç”¨ï¼š</p>
<ul>
<li>Fileï¼Œæ ‡è¯†å½“å‰æµ‹è¯•çš„æ–‡ä»¶</li>
<li>Stmtsï¼Œè¯­å¥è¦†ç›–ç‡ï¼ˆstatement coverageï¼‰ï¼šæ˜¯ä¸æ˜¯æ¯ä¸ªè¯­å¥éƒ½æ‰§è¡Œäº†</li>
<li>Branchï¼Œåˆ†æ”¯è¦†ç›–ç‡ï¼ˆbranch coverageï¼‰ï¼šæ˜¯ä¸æ˜¯æ¯ä¸ªifä»£ç å—éƒ½æ‰§è¡Œäº†</li>
<li>Funcsï¼Œå‡½æ•°è¦†ç›–ç‡ï¼ˆfunction coverageï¼‰ï¼šæ˜¯ä¸æ˜¯æ¯ä¸ªå‡½æ•°éƒ½è°ƒç”¨äº†</li>
<li>Linesï¼Œè¡Œè¦†ç›–ç‡ï¼ˆline coverageï¼‰ï¼šæ˜¯ä¸æ˜¯æ¯ä¸€è¡Œéƒ½æ‰§è¡Œäº†</li>
</ul>
<h2 id="æ€ä¹ˆæé«˜å•å…ƒæµ‹è¯•è¦†ç›–ç‡"><a href="#æ€ä¹ˆæé«˜å•å…ƒæµ‹è¯•è¦†ç›–ç‡" class="headerlink" title="æ€ä¹ˆæé«˜å•å…ƒæµ‹è¯•è¦†ç›–ç‡"></a>æ€ä¹ˆæé«˜å•å…ƒæµ‹è¯•è¦†ç›–ç‡</h2><p>åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>æé«˜ä»£ç è´¨é‡ï¼Œå‡å°‘ä»£ç å—çš„å¤§å°ï¼Œå‡å°‘å„ç±»å¤æ‚é€»è¾‘åˆ¤æ–­ï¼Œä¸å»æµ‹è¯•æœ‰ä¾èµ–æ€§å‡½æ•°ï¼Œå¦‚ï¼šéœ€æ¥å£ã€æ•°æ®åº“ç­‰</li>
<li>æé«˜å¼€å‘æ„æ„¿ï¼Œä¸€è‡ªåŠ¨åŒ–ç”Ÿæˆå•å…ƒæµ‹è¯•ï¼ŒäºŒé‡‡ç”¨è®¾ç½®è¦†ç›–ç‡æŒ‡æ ‡ï¼Œä¸‰æ˜¯ç¡®å®šå•å…ƒæµ‹è¯•è§„èŒƒï¼ˆå“ªäº›æ¨¡å—éœ€è¦å†™ï¼Œå“ªäº›ä¸éœ€è¦å†™ï¼‰</li>
</ul>
<h1 id="é›†æˆæµ‹è¯•"><a href="#é›†æˆæµ‹è¯•" class="headerlink" title="é›†æˆæµ‹è¯•"></a>é›†æˆæµ‹è¯•</h1><p>é›†æˆæµ‹è¯•ä¸»è¦æ˜¯æµ‹è¯•å½“å•å…ƒæ¨¡å—ç»„åˆåˆ°ä¸€èµ·ä¹‹åæ˜¯å¦åŠŸèƒ½æ­£å¸¸ã€‚</p>
<p>ç›¸æ¯”è¾ƒå•å…ƒæµ‹è¯•åªæ˜¯é’ˆå¯¹æŸä¸ªå‡½æ•°æˆ–æ–¹æ¡ˆåšå•ä¸€åŠŸèƒ½æµ‹è¯•ï¼Œé›†æˆæµ‹è¯•æ˜¯é’ˆå¯¹æŸä¸ªåŠŸèƒ½æ¨¡å—åšå®Œæ•´çš„æµ‹è¯•ï¼Œå› æ­¤åœ¨æµ‹è¯•ç²’åº¦ä¸Šçš„é€‰æ‹©ï¼Œéœ€è¦å¼€å‘è‡ªå·±å»è¡¡é‡ï¼Œä½†æ˜¯ä¸€èˆ¬çš„é€‰æ‹©å¦‚ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>å¦‚æœæœ‰UIå±•ç¤ºçš„ï¼Œä¸€èˆ¬é€šè¿‡routeråˆ†å‰²é¡µé¢ç²’åº¦å»è¿›è¡Œæµ‹è¯•ï¼Œå°½å¯èƒ½çš„å°‘mockä¾èµ–ï¼Œå°½é‡çš„æ¸²æŸ“å…¨å­ç»„ä»¶</li>
<li>å¦‚æœæ˜¯åº“ä¸å«JSçš„ï¼Œåˆ™ä»¥åŠŸèƒ½æ¨¡å—ä¸ºç²’åº¦è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•æ•°æ®å°½é‡ä¸°å¯Œä¸”è´´è¿‘çœŸå®æ•°æ®</li>
</ul>
<p>å…·ä½“å®ç°æ­¥éª¤å…¶å®å’Œå•å…ƒæµ‹è¯•ä¸€æ ·ï¼Œåªæ˜¯æ‰€å†™çš„æµ‹è¯•åŠŸèƒ½æ¯”å•å…ƒæµ‹è¯•èŒƒå›´è¦å¤§ä¸”å®Œæ•´ã€‚</p>
<h1 id="UI-æµ‹è¯•"><a href="#UI-æµ‹è¯•" class="headerlink" title="UI æµ‹è¯•"></a>UI æµ‹è¯•</h1><blockquote>
<p>ç›¸æ¯”è¾ƒåé¢<code>ç«¯åˆ°ç«¯æµ‹è¯•</code>ï¼ŒUIæµ‹è¯•åªæ˜¯å¯¹äºå‰ç«¯çš„æµ‹è¯•ï¼Œæ˜¯è„±ç¦»çœŸå®åç«¯ç¯å¢ƒçš„ï¼Œä»…ä»…åªæ˜¯å°†å‰ç«¯æ”¾åœ¨çœŸå®ç¯å¢ƒä¸­è¿è¡Œï¼Œè€Œåç«¯å’Œæ•°æ®éƒ½åº”è¯¥ä½¿ç”¨ Mock çš„ã€‚</p>
</blockquote>
<p>UI æµ‹è¯•åœ¨å‰ç«¯ä¸Šï¼Œä¹Ÿå¯ä»¥å«ç»„ä»¶æµ‹è¯•<br>é‚£ä¹ˆå¦‚ä½•å®ç°UIæµ‹è¯•ï¼Œå…¶å®ä¾æ—§å¯ä»¥ä½¿ç”¨<code>Jest</code>ã€<code>Enzyme</code> <code>selenium</code> <code>Vitest</code>ç­‰æ¡†æ¶ï¼Œç›®å‰éƒ½æ”¯æŒå°†<code>Vue</code>ã€<code>React</code>ç­‰ç»„ä»¶è¿›è¡Œæ¨¡æ‹Ÿæ¸²æŸ“å®Œæˆã€‚</p>
<p>åˆ©ç”¨<code>Jest</code>å®ç°å¯¹React UIç»„ä»¶æµ‹è¯•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// React Home.jsx</span></span><br><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h1&gt;Home&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// home.test.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createRoot &#125; <span class="keyword">from</span> <span class="string">"react-dom/client"</span>; <span class="comment">// createRoot æ˜¯React18 æ–°å‡ºçš„ç‰¹æ€§</span></span><br><span class="line"><span class="keyword">import</span> &#123; act &#125; <span class="keyword">from</span> <span class="string">"react-dom/test-utils"</span>; <span class="comment">// reactæ”¯æŒæµ‹è¯•åŠ¨ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">"../src/pages/home"</span>;</span><br><span class="line"></span><br><span class="line">global.IS_REACT_ACT_ENVIRONMENT = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> root = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> container = <span class="literal">null</span>;</span><br><span class="line">beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ª DOM å…ƒç´ ä½œä¸ºæ¸²æŸ“ç›®æ ‡</span></span><br><span class="line">    container = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(container);</span><br><span class="line">    root = createRoot(container)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">afterEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// é€€å‡ºæ—¶è¿›è¡Œæ¸…ç†</span></span><br><span class="line">    <span class="comment">// root.unmount(container);</span></span><br><span class="line">    container.remove();</span><br><span class="line">    container = <span class="literal">null</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">it(<span class="string">"æ¸²æŸ“æœ‰æˆ–æ— åç§°"</span>, () =&gt; &#123;</span><br><span class="line">    act(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        root.render(<span class="xml"><span class="tag">&lt;<span class="name">Home</span> /&gt;</span>);</span></span><br><span class="line"><span class="xml">    &#125;);</span></span><br><span class="line"><span class="xml">    expect(container.textContent).toBe("Home");</span></span><br><span class="line"><span class="xml">&#125;);</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ä½ ä¾ç„¶å¯ä»¥ä½¿ç”¨<code>Jest</code>å»åšVue UI æµ‹è¯•ï¼Œä½†æ˜¯<code>Vitest</code>å®ç°åœ¨viteé¡¹ç›®ä¸­æ›´åŠ å¥½ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Home.vue</span></span><br><span class="line">&lt;script setup lang=<span class="string">"ts"</span>&gt;</span><br><span class="line">defineProps&lt;&#123; <span class="attr">msg</span>: string &#125;&gt;()</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;template&gt;</span></span><br><span class="line"><span class="regexp">  &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/</span>h1&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/home.test.js</span></span><br><span class="line"><span class="regexp">import &#123; mount &#125; from '@vue/</span>test-utils<span class="string">'</span></span><br><span class="line"><span class="string">import Home from '</span>../src/components/Home.vue<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">test('</span>mount component<span class="string">', async () =&gt; &#123;</span></span><br><span class="line"><span class="string">    expect(Home).toBeTruthy()</span></span><br><span class="line"><span class="string">    const wrapper = mount(Home, &#123;</span></span><br><span class="line"><span class="string">        props: &#123;</span></span><br><span class="line"><span class="string">            msg: '</span>Home<span class="string">',</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">    expect(wrapper.html()).toContain('</span>Home<span class="string">')</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>

<h2 id="å¿«ç…§æµ‹è¯•"><a href="#å¿«ç…§æµ‹è¯•" class="headerlink" title="å¿«ç…§æµ‹è¯•"></a>å¿«ç…§æµ‹è¯•</h2><p>å¿«ç…§æµ‹è¯•æ˜¯å±äºUIæµ‹è¯•çš„ä¸€ç§åˆ†ç±»ï¼Œä¸»è¦ç”¨äºåŒºåˆ†åŒæ ·çš„æ•°æ®ä¸‹ï¼Œé¡µé¢UIå±•ç¤ºæ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœä¸ä¸€æ ·åˆ™æ¯”è¾ƒæµ‹è¯•ç»“æœå¤±è´¥ï¼Œæœ‰å¼‚å¸¸æˆ–è€…åŠŸèƒ½è¿­ä»£ã€‚é’ˆå¯¹å¿«ç…§æµ‹è¯•è¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>å¿«ç…§æµ‹è¯•ç±»ä¼¼äºâ€œæ‰¾ä¸åŒâ€æ¸¸æˆã€‚å¿«ç…§æµ‹è¯•ä¼šç»™è¿è¡Œä¸­çš„åº”ç”¨ç¨‹åºæ‹ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶å°†å…¶ä¸ä»¥å‰ä¿å­˜çš„å›¾ç‰‡è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå›¾åƒä¸åŒï¼Œåˆ™æµ‹è¯•å¤±è´¥ã€‚è¿™ç§æµ‹è¯•æ–¹æ³•å¯¹ç¡®ä¿åº”ç”¨ç¨‹åºä»£ç å˜æ›´åæ˜¯å¦ä»ç„¶å¯ä»¥æ­£ç¡®æ¸²æŸ“å¾ˆæœ‰å¸®åŠ©ã€‚</p>
<p>å½“ç„¶ï¼Œåœ¨å‰ç«¯ä¸­ï¼Œå…¶å®å¹¶ä¸æ˜¯æ¯”è¾ƒå›¾ç‰‡ï¼Œè€Œæ˜¯æ¯”è¾ƒå‰åç”Ÿæˆçš„htmlç»“æ„ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ¯”è¾ƒã€‚</p>
</blockquote>
<p>åŒç†ï¼Œå¦‚æœä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œé’ˆå¯¹åŒæ ·çš„è¾“å…¥ï¼Œå¾—å‡ºçš„ç»“æœæ˜¯ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆä¹Ÿæ˜¯ä¸€ç§å¿«ç…§æµ‹è¯•ã€‚</p>
<p>åˆ©ç”¨<code>Jest</code>å®ç°å¿«ç…§æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼ˆåŸºæœ¬å’ŒUIæµ‹è¯•ä¸€æ ·ï¼‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// home.test.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createRoot &#125; <span class="keyword">from</span> <span class="string">"react-dom/client"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; act &#125; <span class="keyword">from</span> <span class="string">"react-dom/test-utils"</span>;</span><br><span class="line"><span class="keyword">import</span> pretty <span class="keyword">from</span> <span class="string">"pretty"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">"../src/pages/home"</span>;</span><br><span class="line"></span><br><span class="line">global.IS_REACT_ACT_ENVIRONMENT = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> root = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> container = <span class="literal">null</span>;</span><br><span class="line">beforeEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ª DOM å…ƒç´ ä½œä¸ºæ¸²æŸ“ç›®æ ‡</span></span><br><span class="line">    container = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(container);</span><br><span class="line">    root = createRoot(container)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">afterEach(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// é€€å‡ºæ—¶è¿›è¡Œæ¸…ç†</span></span><br><span class="line">    <span class="comment">// root.unmount(container);</span></span><br><span class="line">    container.remove();</span><br><span class="line">    container = <span class="literal">null</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">it(<span class="string">"æ¸²æŸ“æœ‰æˆ–æ— åç§°"</span>, () =&gt; &#123;</span><br><span class="line">    act(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        root.render(<span class="xml"><span class="tag">&lt;<span class="name">Home</span> /&gt;</span>);</span></span><br><span class="line"><span class="xml">    &#125;);</span></span><br><span class="line"><span class="xml">    expect(container.textContent).toBe("Home");</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    // å¿«ç…§å¯¹æ¯” è¿™é‡Œä½ å¯ä»¥å…ˆæŠŠhtmlç»“æ„å­˜å‚¨ä¸€ä»½ï¼Œç„¶åå†æ‹¿å‡ºæ¥å¯¹æ¯”</span></span><br><span class="line"><span class="xml">    expect(</span></span><br><span class="line"><span class="xml">        pretty(container.innerHTML)).</span></span><br><span class="line"><span class="xml">        toMatchInlineSnapshot(`</span></span><br><span class="line">"&lt;div&gt;</span><br><span class="line">  &lt;h1&gt;Home1&lt;/h1&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>"</span></span><br><span class="line"><span class="xml">`);</span></span><br><span class="line"><span class="xml">&#125;);</span></span><br></pre></td></tr></table></figure>

<h1 id="E2Eæµ‹è¯•"><a href="#E2Eæµ‹è¯•" class="headerlink" title="E2Eæµ‹è¯•"></a>E2Eæµ‹è¯•</h1><p>E2Eæµ‹è¯•ï¼Œä¹Ÿå«ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œå°±æ˜¯æ¨¡æ‹ŸçœŸå®ç¯å¢ƒä¸‹ï¼Œç”¨æˆ·ä¸åŒæ“ä½œè¡Œä¸ºçš„æµ‹è¯•ã€‚</p>
<p>ç›®å‰ä¸»è¦è¿›è¡ŒE2Eæµ‹è¯•æ¡†æ¶æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>puppeteer ä¸€ä¸ª Node åº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªé«˜çº§ API æ¥é€šè¿‡ DevTools åè®®æ§åˆ¶ Chromium æˆ– Chrome</li>
<li>cypress  ç°ä»£ç½‘ç»œæ„å»ºçš„ä¸‹ä¸€ä»£å‰ç«¯æµ‹è¯•å·¥å…·ï¼Œ ç¼–å†™æ›´å¿«ã€æ›´å®¹æ˜“å’Œæ›´å¯é çš„æµ‹è¯•</li>
<li>Selenium  æ˜¯å¼€æºçš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œå®ƒä¸»è¦æ˜¯ç”¨äºWeb åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä¸åªå±€é™äºæ­¤ï¼ŒåŒæ—¶æ”¯æŒæ‰€æœ‰åŸºäºweb çš„ç®¡ç†ä»»åŠ¡è‡ªåŠ¨åŒ–</li>
<li>NightWatch æ˜¯ä¸€ä¸ªç”¨äºwebåº”ç”¨å’Œç½‘ç«™ä¸Šæ‰§è¡Œè‡ªåŠ¨åŒ–ç«¯åˆ°ç«¯ï¼ˆend-to-endï¼‰æµ‹è¯•çš„é›†æˆæ¡†æ¶ï¼Œç”¨äºä¸»æµæµè§ˆå™¨ä¸­ï¼Œç®€åŒ–ç¼–å†™å’Œæ‰§è¡Œå¤šç§ç±»å‹åœ°æµ‹è¯•ç¨‹åº</li>
</ul>
<p>è¿™å‡ è€…çš„åŒºåˆ«åé¢ä¼šæœ‰ä¸“é—¨æ–‡ç« å»æè¿°ï¼Œç°åœ¨æˆ‘ä»¬å…ˆåˆ©ç”¨<code>cypress</code>å®ç°E2Eæµ‹è¯•ä»£ç ï¼Œ ä»¥Vueé¡¹ç›®ä¸ºä¸»ï¼Œå¦‚ä¸‹ï¼š<br>æ­¥éª¤ä¸€ï¼Œå®‰è£…ä¾èµ–</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yarn add cypress -D</span><br></pre></td></tr></table></figure>

<p>æ­¥éª¤äºŒï¼Œæ–°å¢è„šæœ¬ï¼Œpackage.json</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">        <span class="attr">"cypress"</span>: <span class="string">"cypress open"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¥éª¤ä¸‰ï¼Œåé¢æŒ‰ç…§å…¶æç¤ºå»æ·»åŠ æµ‹è¯•æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š<code>index.cy.ts</code>ï¼Œç„¶åä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">describe(<span class="string">'template spec'</span>, () =&gt; &#123;</span><br><span class="line">  it(<span class="string">'has home text'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="comment">// è®¿é—®é¦–é¡µ</span></span><br><span class="line">    cy.visit(<span class="string">'http://localhost:5173/'</span>)</span><br><span class="line">    <span class="comment">// æ–­è¨€æ˜¯å¦æœ‰ Home æ–‡å­—</span></span><br><span class="line">    cy.contains(<span class="string">'Home'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å…·ä½“æ•ˆæœå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="/assets/img/20230215.png" alt></p>
<p>å½“ç„¶E2Eæ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œè¿˜æœ‰ä¸€äº›ç‚¹å‡»ã€è¾“å…¥ç­‰äº‹ä»¶ï¼Œç”šè‡³å¯ä»¥æ¨¡æ‹Ÿç™»å½•ç­‰ï¼Œè¿™äº›è¯¦ç»†æ“ä½œæ”¾åœ¨åé¢cypresså®æˆ˜ç¯‡å»è®²è§£ã€‚</p>
<h1 id="æµ‹è¯•è¦†ç›–ç‡"><a href="#æµ‹è¯•è¦†ç›–ç‡" class="headerlink" title="æµ‹è¯•è¦†ç›–ç‡"></a>æµ‹è¯•è¦†ç›–ç‡</h1><p>äº†è§£è‡ªåŠ¨åŒ–æµ‹è¯•åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹æµ‹è¯•è¦†ç›–ç‡è¿›è¡Œä¸€ä¸ªå®Œæ•´çš„äº†è§£ã€‚</p>
<blockquote>
<p>æµ‹è¯•è¦†ç›–ç‡(test coverage)æ˜¯è¡¡é‡è½¯ä»¶æµ‹è¯•å®Œæ•´æ€§çš„ä¸€ä¸ªé‡è¦æŒ‡æ ‡ã€‚æŒæ¡æµ‹è¯•è¦†ç›–ç‡æ•°æ®ï¼Œæœ‰åˆ©äºå®¢è§‚è®¤è¯†è½¯ä»¶è´¨é‡ï¼Œæ­£ç¡®äº†è§£æµ‹è¯•çŠ¶æ€ï¼Œæœ‰æ•ˆæ”¹è¿›æµ‹è¯•å·¥ä½œã€‚</p>
</blockquote>
<p>å…¶å®ä¸Šé¢æåˆ°å•å…ƒæµ‹è¯•çš„æ—¶å€™å·²ç»æœ‰è®²è¿‡ä¸€äº›ï¼Œè¿™é‡Œå†åšä¸€ä¸ªå®Œæ•´éƒ½ä»‹ç»ã€‚</p>
<p>è¦†ç›–ç‡ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>ä»£ç è¦†ç›–ç‡ï¼Œ å¦‚ä¸Šè¿°æ‰€è¯´åˆ†ä¸ºå‡ ç§ï¼Œå¦‚ï¼šè¡Œè¦†ç›–ç‡ã€å‡½æ•°è¦†ç›–ç‡ç­‰</li>
<li>éœ€æ±‚è¦†ç›–ç‡ï¼Œæµ‹è¯•æ‰€è¦†ç›–çš„éœ€æ±‚æ•°é‡ä¸æ€»éœ€æ±‚æ•°é‡çš„æ¯”å€¼</li>
</ul>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è‡ªåŠ¨åŒ–æµ‹è¯•åœ¨å‰ç«¯å¼€å‘æ˜¯å¿…ä¸å¯å°‘çš„ä¸€ä¸ªç¯èŠ‚ï¼Œå› ä¸ºå‰ç«¯æ˜¯ç›´æ¥é¢å‘ç”¨æˆ·çš„ï¼Œå³ä½¿æœ‰æµ‹è¯•å›¢é˜Ÿæ”¯æŒï¼Œä¹Ÿéš¾å…ä¼šå‡ºç°æµ‹è¯•é—æ¼çš„åœºæ™¯ï¼Œæˆ–è€…åŠ å¤§æµ‹è¯•äººåŠ›æˆæœ¬ã€‚</p>
<p>å½“ç„¶ä¸åŒé¡¹ç›®çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ‰€éœ€è¦çš„ç¯èŠ‚æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ ¹æ®ä¸ªäººç»éªŒï¼Œå»ºè®®ä¸åŒåœºæ™¯é‡‡ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¼€å‘çº¯å‡½æ•°åº“ï¼Œå»ºè®®å†™æ›´å¤šçš„å•å…ƒæµ‹è¯• + å°‘é‡çš„é›†æˆæµ‹è¯•</li>
<li>å¼€å‘ç»„ä»¶åº“ï¼Œå»ºè®®å†™æ›´å¤šçš„å•å…ƒæµ‹è¯•ã€ä¸ºæ¯ä¸ªç»„ä»¶ç¼–å†™å¿«ç…§æµ‹è¯•ã€å†™å°‘é‡çš„é›†æˆæµ‹è¯• + ç«¯åˆ°ç«¯æµ‹è¯•</li>
<li>å¼€å‘ä¸šåŠ¡ç³»ç»Ÿï¼Œå»ºè®®å†™æ›´å¤šçš„é›†æˆæµ‹è¯•ã€ä¸ºå·¥å…·ç±»åº“ã€ç®—æ³•å†™å•å…ƒæµ‹è¯•ã€å†™å°‘é‡çš„ç«¯åˆ°ç«¯æµ‹è¯•</li>
<li>å¼€å‘å…¬å…±å¹³å°é¡¹ç›®ï¼Œå»ºè®®å†™æ›´å¤šçš„é›†æˆæµ‹è¯•å’Œå®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•</li>
</ul>
<h1 id="ç›¸å…³èµ„æ–™"><a href="#ç›¸å…³èµ„æ–™" class="headerlink" title="ç›¸å…³èµ„æ–™"></a>ç›¸å…³èµ„æ–™</h1><ul>
<li><a href="https://github.com/qiubohong/qiubohong.github.io/tree/master/code/react/my-app" target="_blank" rel="noopener">Reactæµ‹è¯•demoä»£ç </a></li>
<li><a href="https://github.com/qiubohong/qiubohong.github.io/tree/master/code/vue/vite-project" target="_blank" rel="noopener">Vueæµ‹è¯•demoä»£ç </a></li>
</ul>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li><a href="https://mp.weixin.qq.com/s?__biz=Mzg3OTYzMDkzMg==&mid=2247493866&idx=1&sn=c4a3d5ddf6e3148360f3de9ea32e018f&chksm=cf0327d1f874aec72d630aa81d7b1b0b0961943287fbab023e6d39d466f33b642e12ca7f1ac0&token=953834215&lang=zh_CN#rd" target="_blank" rel="noopener">æŠŠ puppeteer èå…¥è°ƒè¯•æµç¨‹ï¼Œè°ƒè¯•ä½“éªŒçˆ½ç¿»äº†ï¼</a></li>
<li><a href="https://github.com/goldbergyoni/javascript-testing-best-practices/blob/master/readme-zh-CN.md" target="_blank" rel="noopener">JSæœ€ä½³æµ‹è¯•å®è·µ</a></li>
<li><a href="https://blog.checklyhq.com/how-to-bypass-totp-based-2fa-login-flows-with-playwright/" target="_blank" rel="noopener">å¦‚ä½•ä½¿ç”¨Playwrightç»•è¿‡éªŒè¯ç™»å½•åšç«¯åˆ°ç«¯æµ‹è¯•</a></li>
<li><a href="https://juejin.cn/post/6844904194600599560" target="_blank" rel="noopener">å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•å…¥é—¨</a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>æŠ€æœ¯åˆ†äº«</tag>
        <tag>æ¯æ—¥æ›´æ–°</tag>
      </tags>
  </entry>
  <entry>
    <title>å¥½ç©æœ‰è¶£æ”¶é›†ç³»åˆ—ï¼ˆäºŒï¼‰</title>
    <url>/ideas/20230218.html</url>
    <content><![CDATA[<p>ä»Šæ—¥æ”¶é›†ä¸€äº›å¥½ç©æœ‰è¶£çš„å¼€æºapiæˆ–æ¡†æ¶æˆ–å¼€æºé¡¹ç›® </p>
<h1 id="è‡ªåŠ¨ç”Ÿæˆ1000ä¸ªæ€§åŒ–è§†é¢‘"><a href="#è‡ªåŠ¨ç”Ÿæˆ1000ä¸ªæ€§åŒ–è§†é¢‘" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆ1000ä¸ªæ€§åŒ–è§†é¢‘"></a>è‡ªåŠ¨ç”Ÿæˆ1000ä¸ªæ€§åŒ–è§†é¢‘</h1><p>é€šè¿‡<a href="https://shotstack.io/docs/guide/getting-started/core-concepts/" target="_blank" rel="noopener">Shotstack</a>æä¾›çš„APIæœåŠ¡åˆ¶ä½œä¸åŒè§†é¢‘ã€‚</p>
<blockquote>
<p>ShotStackæ˜¯ä¸€ä¸ªåŸºäºäº‘çš„è§†é¢‘ç¼–è¾‘APIã€‚ä¸Adobe Premiereæˆ–After Effectsç­‰ä¼ ç»Ÿæ¡Œé¢è§†é¢‘ç¼–è¾‘åº”ç”¨ç¨‹åºä¸åŒï¼ŒShotStackçº¯ç²¹æ˜¯åŸºäºä»£ç çš„â€“æ‚¨å¯ä»¥ä½¿ç”¨ä»£ç åˆ›å»ºç¼–è¾‘ã€‚è¯¥APIä½¿ç”¨ä½¿ç”¨JSONçš„RESTæ¶æ„æ ·å¼æ¥æè¿°åº”è¯¥å¦‚ä½•ç¼–è¾‘è§†é¢‘ã€‚æœ‰è®¸å¤šä¸åŒè¯­è¨€çš„SDKå¯ç”¨äºä¸APIäº¤äº’å¹¶åˆ›å»ºJSONè¯·æ±‚ã€‚</p>
</blockquote>
<p>æ˜¯å¦å¯ä»¥åˆ©ç”¨è¯¥apiå’Œå°ç¨‹åºç»“åˆåœ¨ä¸€èµ·åšä¸€äº› ç”Ÿæ—¥ç¥ç¦å°è§†é¢‘å®šåˆ¶æœåŠ¡ã€‚  </p>
<a id="more"></a>

<h1 id="ssh2-js-zx-js-å¿«é€Ÿå®ç°è¿ç»´"><a href="#ssh2-js-zx-js-å¿«é€Ÿå®ç°è¿ç»´" class="headerlink" title="ssh2.js + zx.js å¿«é€Ÿå®ç°è¿ç»´"></a>ssh2.js + zx.js å¿«é€Ÿå®ç°è¿ç»´</h1><ul>
<li><a href="https://github.com/mscdex/ssh2" target="_blank" rel="noopener">ssh2.js</a> å®ƒæ˜¯ç”¨çº¯JavaScriptä¸ºNode.jsç¼–å†™çš„SSH2å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ¨¡å—</li>
<li><a href="https://www.npmjs.com/package/zx" target="_blank" rel="noopener">zx.js</a> æ›´åŠ æ–¹ä¾¿æ‰§è¡Œshellå‘½ä»¤çš„APIæ¥å£</li>
<li><a href="https://www.npmjs.com/package/inquirer" target="_blank" rel="noopener">inquirer.js</a> æä¾›ç»ˆç«¯äº¤äº’çš„å·¥å…·åŒ…</li>
</ul>
<blockquote>
<p>åŸæ–‡ï¼š<a href="https://github.com/CatsAndMice/blog/issues/42" target="_blank" rel="noopener">ã€Node.jsã€‘ssh2.js+Shellä¸€å¥—ç»„åˆæ‹³ä¸‹æ¥ï¼Œä¸€å¹´è¦èŠ±2080åˆ†é’Ÿåšçš„å·¥ä½œç«Ÿç„¶èŠ‚çœåˆ°52åˆ†é’Ÿ</a><br>å…¶ä»–å¥½ç©çš„æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://juejin.cn/post/7068969844607189029" target="_blank" rel="noopener">è‡ªåŠ¨ç”Ÿæˆnpmç‰ˆæœ¬å·å’Œå‘å¸ƒnpmåŒ…</a></li>
<li><a href="https://juejin.cn/post/7072972877628178440" target="_blank" rel="noopener">å‘å±äºè‡ªå·±çš„å¿«é€Ÿåˆ›å»ºå¼€å‘æ–‡ä»¶è„šæ‰‹æ¶</a></li>
</ul>
</blockquote>
<h1 id="å¯†ç å­¦å·¥å…·"><a href="#å¯†ç å­¦å·¥å…·" class="headerlink" title="å¯†ç å­¦å·¥å…·"></a>å¯†ç å­¦å·¥å…·</h1><p><a href="https://crypto-online.cn/" target="_blank" rel="noopener">cryptography åŠ å¯†å¯†ç ç›¸å…³å·¥å…·ç½‘ç«™</a></p>
<h1 id="è‡ªåŠ¨ç”Ÿæˆè¯ä»¶ç…§"><a href="#è‡ªåŠ¨ç”Ÿæˆè¯ä»¶ç…§" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆè¯ä»¶ç…§"></a>è‡ªåŠ¨ç”Ÿæˆè¯ä»¶ç…§</h1><p><a href="https://github.com/liuxiaojun666/certificate-photo" target="_blank" rel="noopener">certificate-photo  ç”Ÿæˆè¯ä»¶ç…§çš„å°ç¨‹åºæºç </a></p>
<h1 id="å¸¸ç”¨å°å·¥å…·"><a href="#å¸¸ç”¨å°å·¥å…·" class="headerlink" title="å¸¸ç”¨å°å·¥å…·"></a>å¸¸ç”¨å°å·¥å…·</h1><p>å›å¤´å¯ä»¥è‡ªå·±æä¸€å¥—ï¼Œæé«˜ç½‘ç«™è®¿é—®é‡</p>
<p><a href="https://tool.browser.qq.com/category/develop" target="_blank" rel="noopener">è…¾è®¯æµè§ˆå™¨ å¸®å°å¿™å·¥å…·é›†åˆ</a></p>
<h1 id="P2Pç§åŸŸèŠå¤©å·¥å…·"><a href="#P2Pç§åŸŸèŠå¤©å·¥å…·" class="headerlink" title="P2Pç§åŸŸèŠå¤©å·¥å…·"></a>P2Pç§åŸŸèŠå¤©å·¥å…·</h1><blockquote>
<p>webrtc file transfer toolï¼Œp2pç½‘é¡µåœ¨çº¿æ–‡ä»¶ä¼ è¾“ï¼Œè·¨ç»ˆç«¯ï¼Œä¸é™å¹³å°ï¼Œå†…ç½‘ä¸é™é€Ÿï¼Œæ”¯æŒç§æœ‰éƒ¨ç½²ï¼Œæ”¯æŒå¤šæ–‡ä»¶æ‹–æ‹½å‘é€ï¼Œæ”¯æŒæœ¬åœ°å±å¹•å½•åˆ¶ï¼Œè¿œç¨‹å±å¹•å…±äº«ï¼Œè¿œç¨‹éŸ³è§†é¢‘é€šè¯ï¼Œå¯†ç æˆ¿é—´ï¼Œä¸­ç»§æœåŠ¡è®¾ç½®ï¼Œwebrtcæ£€æµ‹ï¼Œæ–‡å­—ä¼ è¾“ï¼Œå…¬å…±èŠå¤©ï¼Œä¸°å¯Œçš„åå°ç®¡ç†ï¼Œå®æ—¶æ‰§è¡Œæ—¥å¿—å±•ç¤ºï¼Œæœºå™¨äººå‘Šè­¦é€šçŸ¥ç­‰åŠŸèƒ½</p>
</blockquote>
<p><a href="https://github.com/iamtsm/tl-rtc-file" target="_blank" rel="noopener">webrtc file transfer tool github åœ°å€</a></p>
<h1 id="ä¸ªäººLinuxæœåŠ¡å™¨ç®¡ç†é¢æ¿"><a href="#ä¸ªäººLinuxæœåŠ¡å™¨ç®¡ç†é¢æ¿" class="headerlink" title="ä¸ªäººLinuxæœåŠ¡å™¨ç®¡ç†é¢æ¿"></a>ä¸ªäººLinuxæœåŠ¡å™¨ç®¡ç†é¢æ¿</h1><p>èƒ½å¤Ÿè®©ä½ å¿«é€Ÿè§‚çœ‹ä¸ªäººæœåŠ¡å™¨çš„ä¸€äº›çŠ¶æ€å’Œä¿¡æ¯ã€‚</p>
<p><a href="https://github.com/chaos-zhu/easynode" target="_blank" rel="noopener">githubåœ°å€</a></p>
<h1 id="æœ‰è¶£çš„è¨€è®º"><a href="#æœ‰è¶£çš„è¨€è®º" class="headerlink" title="æœ‰è¶£çš„è¨€è®º"></a>æœ‰è¶£çš„è¨€è®º</h1><p>åˆ›ä¸šç®´è¨€ï¼š</p>
<p>é¢†å¯¼è€…çš„ä½œç”¨ä¸æ˜¯è¡Œä½¿æƒåŠ›ï¼Œè€Œæ˜¯åˆ†é…æƒåŠ›ã€‚</p>
<p>æœ‰æ•ˆçš„é¢†å¯¼è€…é€šè¿‡è®¾å®šæ–¹å‘ã€ç¡®å®šäººå‘˜ï¼ˆæ‰¾åˆ°å…·æœ‰æ­£ç¡®æŠ€èƒ½å’ŒèƒŒæ™¯çš„äººï¼‰ã€æˆæƒä»–äººã€ç¡®ä¿å†³ç­–æ‰§è¡Œï¼Œæ¥èŠ‚çœè‡ªå·±çš„æ—¶é—´ï¼Œå¹¶æ‰©å¤§è‡ªå·±çš„å½±å“ã€‚</p>
<p>â€“ <a href="https://hackernoon.com/optimize-for-alignment-not-control-great-leaders-serve-and-more-startup-mantras" target="_blank" rel="noopener">ã€Šæˆ‘çš„åˆ›ä¸šç®´è¨€ã€‹</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>å¥‡æ€å¦™æƒ³</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ›ä¸šidea â€”â€” ä¸€ä¸ªå°ç¨‹åºåˆ©ç”¨ä¸€å¥è¯ç”»ä¸€å¹…ç”»</title>
    <url>/ideas/20230217.html</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ€è¿‘ä»å¼€æºåº“çœ‹åˆ°ä¸€ä¸ªå¾ˆç«çš„é¡¹ç›®ï¼Œå°±æ˜¯ç”¨ä¸€å¥è¯ç”»ä¸€å¹…ç”»ã€‚</p>
<p>è¿™é‡Œè™½ç„¶ä»–ä»¬å¼€æºåªè¯†åˆ«è‹±æ–‡ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ç¬¬ä¸‰æ–¹çš„ç¿»è¯‘APIè½¬æˆè‹±æ–‡ï¼Œç„¶åå†è¿”å›åˆ°å¼€æºåº“ã€‚</p>
<p>å°ç¨‹åºæ€è·¯ï¼š</p>
<ul>
<li>ä¸€ä¸ªäººä¸€å¤©ä½“éªŒ3æ¬¡ï¼Œè½¬å‘å¯ä»¥è·å¾—æ¬¡æ•°</li>
<li>å…è®¸è½¬å‘ä¸‹è½½ï¼Œä»¥åŠä¸ªäººç­¾åç­‰</li>
<li>æé«˜ç”¨æˆ·é‡</li>
<li>å¦‚æœè®¿é—®é‡çˆ†å‘çš„è¯ï¼Œå¯ä»¥ç»§ç»­å°è¯•</li>
<li>åå­—å«éšæ„ç”»</li>
</ul>
<h1 id="AIç”Ÿæˆå›¾ç‰‡å¼€æºé¡¹ç›®"><a href="#AIç”Ÿæˆå›¾ç‰‡å¼€æºé¡¹ç›®" class="headerlink" title="AIç”Ÿæˆå›¾ç‰‡å¼€æºé¡¹ç›®"></a>AIç”Ÿæˆå›¾ç‰‡å¼€æºé¡¹ç›®</h1><p><a href="https://github.com/cmdr2/stable-diffusion-ui?utm_source=gold_browser_extension" target="_blank" rel="noopener">stable-diffusion-ui ä¸€å¥è¯ç”Ÿæˆä¸€å¹…ç”»</a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>å¥‡æ€å¦™æƒ³</tag>
      </tags>
  </entry>
  <entry>
    <title>Nextã€Nuxtã€Nestçš„åŒºåˆ«(ç¿»è¯‘)</title>
    <url>/translate/nuxt-next-nest-diff.html</url>
    <content><![CDATA[<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>ç¿»è¯‘æ–‡ç« </tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>//404.html</url>
    <content><![CDATA[<html>
<head><meta name="generator" content="Hexo 3.9.0">
</head>
<body>
<script type="text/javascript" src="http://www.qq.com/404/search_children.js" charset="utf-8" homepageurl="http://leyar.me" homepagename="è¿”å›ä¸»é¡µ"></script>
</body>
</html>]]></content>
  </entry>
</search>
